<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KLY Token Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/web3@1.7.5/dist/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.4/dist/ethers.umd.min.js"></script>
  <script src="https://cdn.skypack.dev/@thirdweb-dev/sdk@latest"> </script> 
  <style>
    body { background: #0c0c0c; color: white; font-family: Inter, sans-serif; margin: 0; padding: 2rem; }
    header { display: flex; justify-content: space-between; align-items: center; background: #000; padding: 1rem 2rem; }
    nav a { color: white; margin: 0 10px; text-decoration: none; font-weight: bold; }
    .hero, section { margin-top: 3rem; text-align: center; }
    section.panel { background: #111; padding: 2rem; border-radius: 12px; box-shadow: 0 0 12px #00ffe066; margin: 2rem auto; max-width: 700px; }
    input, button { padding: 0.7rem 1rem; margin-top: 1rem; border-radius: 6px; font-size: 1rem; }
    button { background: #00ffe0; color: #000; border: none; cursor: pointer; }
    h2 { color: #00ffe0; }
    p { color: #ccc; }
    #launchStatus { margin-top: 1rem; font-weight: bold; }
  </style>
</head>
<body>

<header>
  <h1>KLY Token</h1>
  <nav>
    <a href="#dashboard">Dashboard</a>
    <a href="#staking">Staking</a>
    <a href="#dao">DAO</a>
    <a href="#course">Course</a>
    <a href="#launchpad">Launchpad</a>
    <button id="connectWallet">Connect Wallet</button>
    <span id="walletAddress" style="margin-left: 10px;"></span>
  </nav>
</header>

  <section class="hero">
  <div class="hero-content">
    <h2>The Future of Wealth is Tokenized</h2>
    <p>Kelly Legacy Token (KLY) powers a new economy of education, ownership, and decentralized opportunity.</p>
  </div>
</section>

<style>
  .hero {
    padding: 4rem 2rem;
    background: radial-gradient(circle at top, #101010 0%, #0a0a0a 100%);
    text-align: center;
    box-shadow: 0 0 30px rgba(0, 255, 200, 0.2);
    border-radius: 16px;
    margin: 3rem auto;
    max-width: 800px;
  }

  .hero h2 {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 1rem;
    animation: glow-text 2s ease-in-out infinite alternate;
  }

  .hero p {
    font-size: 1.1rem;
    color: #ccc;
    line-height: 1.6;
    max-width: 700px;
    margin: auto;
  }

  @keyframes glow-text {
    from {
      text-shadow: 0 0 10px rgba(0, 255, 224, 0.4);
    }
    to {
      text-shadow: 0 0 25px rgba(0, 255, 224, 0.8);
    }
  }
</style>

  <section id="whyInvest" class="panel">
  <h2>Why Invest in KLY?</h2>
  <p><strong>Kelly Legacy Token (KLY)</strong> is more than a token — it’s a full digital ecosystem built on education, ownership, and legacy. Here’s what makes KLY a smart investment:</p>

  <ul style="text-align: left; margin-top: 1.5rem; line-height: 1.8; padding-left: 1.5rem; max-width: 700px; margin-inline: auto;">
    <li><strong>Decentralized Governance:</strong> Every KLY holder can vote and shape the future of the platform through the KLY DAO.</li>
    <li><strong>Real Utility:</strong> KLY powers courses, staking, token launches, and NFT certifications — it’s the fuel of the entire ecosystem.</li>
    <li><strong>Community Wealth Building:</strong> Designed to empower creators, families, and legacy-minded individuals to build and pass down generational wealth.</li>
    <li><strong>Staking & Rewards:</strong> Earn more KLY through staking while supporting the liquidity and strength of the token.</li>
    <li><strong>Launchpad Access:</strong> Use KLY to launch your own tokenized project directly from our platform.</li>
  </ul>

  <p style="color:#00ffe0; font-weight: bold; margin-top: 2rem;">
    The future of wealth isn’t in the banks — it’s on the blockchain. And KLY is leading that shift.
  </p>
</section>

  <section id="liquidity" class="panel">
  <h2>Join the KLY Liquidity Pool</h2>
  <p>Support the ecosystem by adding liquidity to the KLY/USDT pool on PancakeSwap. Earn trading fees while holding KLY!</p>
  <a href="https://pancakeswap.finance/add/BNB/0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52" target="_blank">
    <button>Provide Liquidity on PancakeSwap</button>
  </a>
</section>

<section id="dashboard" class="panel">
  <h2>KLY Token Dashboard</h2>
  <p><strong>Total Supply:</strong> <span id="klyTotalSupply">--</span></p>
  <p><strong>Your Balance:</strong> <span id="klyWalletBalance">--</span></p>
</section>

  <section id="staking" class="panel">
  <h2>Stake Your KLY</h2>
  <p>Earn rewards by staking your tokens in the Liquidity Pool.</p>
  <a href="stake.html"><button>Go to Staking</button></a>
</section>

<section id="dao" class="panel">
  <h2>KLY DAO Governance</h2>
  <p>Participate in decentralized decisions and help shape the future of KLY.</p>
  <a href="dao.html"><button>Enter DAO</button></a>
</section>

<section id="course" class="panel">
  <h2>Start the KLY Legacy Course</h2>
  <p>Learn how to build legacy through tokenization and asset protection.</p>
  <a href="course.html"><button>Access Course</button></a>
</section>

<section id="launchpad" class="panel">
  <h2>Launch Your Own Token</h2>
  <p>You must hold at least 10,000 KLY to launch.</p>
  <input type="text" id="tokenName" placeholder="Token Name"/><br/>
  <input type="text" id="tokenSymbol" placeholder="Token Symbol"/><br/>
  <input type="number" id="initialSupply" placeholder="Initial Supply"/><br/>
  <button id="launchTokenBtn">Launch Token</button>
  <p id="launchStatus"></p>
</section>

<script type="module">
  import { ThirdwebSDK } from "https://cdn.skypack.dev/@thirdweb-dev/sdk";
  import { ethers } from "https://cdn.skypack.dev/ethers";

  const CONFIG = {
    KLY_TOKEN: "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52",
    TREASURY: "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52"
  };

  let sdk, signer, wallet;

  async function init() {
    if (!window.ethereum) return alert("Please install MetaMask.");

    const provider = new ethers.BrowserProvider(window.ethereum);
    await provider.send("eth_requestAccounts", []);
    signer = await provider.getSigner();
    wallet = await signer.getAddress();

    sdk = new ThirdwebSDK(signer);

    document.getElementById("launchTokenBtn").addEventListener("click", launchToken);
  }

  async function launchToken() {
    const name = document.getElementById("tokenName").value;
    const symbol = document.getElementById("tokenSymbol").value;
    const supply = document.getElementById("initialSupply").value;
    const status = document.getElementById("launchStatus");

    if (!name || !symbol || !supply) {
      status.textContent = "Please fill all fields.";
      return;
    }

    const web3 = new Web3(window.ethereum);
    const kly = new web3.eth.Contract(
      [{ "constant": true, "inputs": [{ "name": "account", "type": "address" }], "name": "balanceOf", "outputs": [{ "name": "", "type": "uint256" }], "type": "function" }],
      CONFIG.KLY_TOKEN
    );

    const balance = await kly.methods.balanceOf(wallet).call();
    const required = web3.utils.toWei("10000", "ether");

    if (BigInt(balance) < BigInt(required)) {
      status.textContent = "Insufficient KLY balance.";
      return;
    }

    try {
      status.textContent = "Launching token...";
      const deployed = await sdk.deployer.deployToken({
        name,
        symbol,
        primary_sale_recipient: wallet,
        total_supply: ethers.parseUnits(supply.toString(), 18).toString()
      });

      const newToken = new web3.eth.Contract(
        [{ "constant": false, "inputs": [{ "name": "recipient", "type": "address" }, { "name": "amount", "type": "uint256" }], "name": "transfer", "outputs": [], "type": "function" }],
        deployed
      );

      const treasuryAmount = web3.utils.toWei((supply * 0.05).toString(), "ether");
      await newToken.methods.transfer(CONFIG.TREASURY, treasuryAmount).send({ from: wallet });

      status.innerHTML = `✅ Token launched at <a href="https://bscscan.com/token/${deployed}" target="_blank">${deployed}</a>`;
    } catch (err) {
      console.error("Launch failed:", err);
      status.textContent = "❌ Token launch failed. See console for details.";
    }
  }

  init();
</script>
  <footer style="text-align: center; margin-top: 3rem; color: #777;">
  &copy; 2025 Kelly Legacy Estates — All Rights Reserved
</footer>
