<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KLY Token — Build Wealth. Own Legacy.</title>
  <meta name="description" content="KLY tokenized education + DeFi + DAO on BNB Chain. Enter the Vault. Enter the Academy. Build wealth and own legacy." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Unna:wght@400;700;800&display=swap" rel="stylesheet" />

  <!-- Design Tokens JSON (source of truth) -->
  <script type="application/json" id="design-tokens">
  {
    "brand": { "name": "KLY", "chain": "BNB Smart Chain", "contract": "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52" },
    "color": {
      "bg": "#0B0C0E","bgElev": "#0F1115","panel": "#121418","panelHigh": "#171A1F",
      "text": "#EDEFF5","textDim": "#B8BFCC","muted": "#8791A1",
      "gold": "#D4AF37","goldSoft": "#C9A33A","goldLine": "rgba(212,175,55,0.5)",
      "teal": "#1EE8C2","tealDim": "rgba(30,232,194,0.22)",
      "green": "#31D0AA","red": "#FF5C70","focus": "#5EEAD4"
    },
    "motion": { "fast": "150ms","base": "220ms","snappy": "300ms","easing": "cubic-bezier(.2,.8,.2,1)" }
  }
  </script>

  <style>
    /* ============= CSS VARIABLES ============= */
    :root{
      --bg:#0B0C0E;--bgElev:#0F1115;--panel:#121418;--panelHigh:#171A1F;
      --text:#EDEFF5;--text-dim:#B8BFCC;--muted:#8791A1;
      --gold:#D4AF37;--gold-soft:#C9A33A;--gold-line:rgba(212,175,55,0.5);
      --teal:#1EE8C2;--teal-dim:rgba(30,232,194,0.22);
      --green:#31D0AA;--red:#FF5C70;--focus:#5EEAD4;

      --r-xs:6px;--r-sm:10px;--r-md:14px;--r-lg:20px;--r-xl:28px;--r-pill:999px;

      --s-2:8px;--s-3:12px;--s-4:16px;--s-5:20px;--s-6:24px;--s-7:28px;--s-8:32px;--s-10:40px;--s-12:48px;--s-16:64px;--s-20:80px;--s-24:96px;

      --fs-xs:12px;--fs-sm:14px;--fs-base:18px;--fs-md:20px;--fs-lg:24px;--fs-xl:28px;--fs-2xl:36px;--fs-3xl:44px;--fs-4xl:56px;--fs-5xl:72px;
      --lh-tight:1.1;--lh-snug:1.2;--lh-normal:1.4;

      --shadow-sm:0 1px 2px rgba(0,0,0,0.35);--shadow-md:0 6px 18px rgba(0,0,0,0.35);--shadow-lg:0 14px 44px rgba(0,0,0,0.45);
      --anim-fast:150ms;--anim-base:220ms;--anim-snappy:300ms;--anim-ease:cubic-bezier(.2,.8,.2,1);
      --halo:0 0 0 2px rgba(30,232,194,0.10),0 0 24px rgba(212,175,55,0.12);
      --glow:0 8px 28px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.04);
    }

    /* ============= BASE ============= */
    html,body{height:100%;}
    html{scroll-behavior:smooth;}
    body{
      margin:0;background:
        radial-gradient(1000px 600px at 70% -10%, rgba(30,232,194,0.04),transparent 60%),
        radial-gradient(800px 520px at 0% 0%, rgba(212,175,55,0.06),transparent 55%),
        var(--bg);
      color:var(--text); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, sans-serif;
      font-size:var(--fs-base); line-height:var(--lh-normal); overflow-x:hidden;
    }
    *,*::before,*::after{box-sizing:border-box;}
    img{max-width:100%; display:block;}
    a{color:inherit; text-decoration:none;}
    .container{max-width:1200px; margin:0 auto; padding:0 var(--s-6);}
    :focus-visible{outline:2px solid var(--focus); outline-offset:2px; border-radius:6px;}

    /* Sticky Topbar */
    .topbar{position:sticky; top:0; z-index:50; backdrop-filter: blur(8px);
      background:linear-gradient(to bottom, rgba(11,12,14,0.85), rgba(11,12,14,0.55));
      border-bottom:1px solid rgba(255,255,255,0.06);}
    .topbar-inner{display:flex; align-items:center; justify-content:space-between; height:64px;}
    .brand{display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:0.06em;}
    .brand .wordmark{font-family:Unna,serif; font-weight:800; font-size:20px;}

    /* Dropdown nav (accessible) */
    .nav-links{position:relative;}
    .nav-dropdown{position:relative;}
    .nav-link#ecosysBtn{
      min-height:40px; padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.12);
      background:rgba(255,255,255,0.04); color:#EDEFF5; font-weight:700; cursor:pointer;
    }
    .dropdown-content#ecosysMenu{
      position:absolute; top:calc(100% + 8px); left:0; min-width:220px; padding:8px; list-style:none; margin:0;
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.35));
      border:1px solid rgba(255,255,255,0.10); border-radius:12px; box-shadow:var(--shadow-lg); z-index:60;
    }
    .dropdown-content[hidden]{display:none;}
    .dropdown-content a{display:block; padding:10px 12px; border-radius:8px; color:#EDEFF5; white-space:nowrap;}
    .dropdown-content a:hover,.dropdown-content a:focus-visible{background:rgba(255,255,255,0.08);}
    .new-badge{font-size:12px; color:var(--teal); margin-left:6px;}

    /* Wallet / Buttons */
    .chip{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:var(--r-pill);
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.2));
      border:1px solid rgba(255,255,255,0.08); box-shadow:var(--shadow-sm); min-height:44px;
    }
    .wallet-wrap{display:flex; align-items:center; gap:12px;}
    .btn{
      --bg:var(--panelHigh); --bd:rgba(255,255,255,0.08); --fg:var(--text);
      display:inline-grid; place-items:center; gap:8px; grid-auto-flow:column;
      padding:12px 18px; border-radius:var(--r-pill); border:1px solid var(--bd);
      background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.18)), var(--bg);
      color:var(--fg); box-shadow:var(--shadow-sm);
      min-height:44px; font-weight:700; transition:transform var(--anim-base) var(--anim-ease), box-shadow var(--anim-base) var(--anim-ease);
      cursor:pointer;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:var(--shadow-md);}
    .btn[disabled], .btn.is-disabled{opacity:.55; cursor:not-allowed; filter:saturate(.6)}
    .btn-primary{background:linear-gradient(180deg, rgba(212,175,55,.35), rgba(212,175,55,.10)), #1A1E24; border-color:var(--gold-line); color:#fff;}
    .btn .spinner{width:18px;height:18px;border-radius:50%;border:2px solid rgba(255,255,255,.25);border-top-color:#fff;animation:spin .8s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Hero */
    .hero{position:relative; isolation:isolate; padding:var(--s-24) 0 var(--s-20);}
    .hero .frame{display:grid; grid-template-columns:1.2fr 0.8fr; gap:var(--s-16); align-items:center;}
    .h1{
      font-family:Unna,serif; font-size:clamp(var(--fs-3xl), 6vw, var(--fs-5xl)); line-height:var(--lh-tight);
      letter-spacing:.01em; margin:0 0 var(--s-6); font-weight:800; color:#fff;
    }
    .h1 .gold{
      background:linear-gradient(180deg, #F1D07A 0%, #D4AF37 55%, #9E7C20 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 2px 20px rgba(212,175,55,.18);
    }
    .sub{font-size:var(--fs-lg); color:var(--text-dim); max-width:52ch; margin:0 0 var(--s-8);}
    .cta-row{display:flex; flex-wrap:wrap; gap:12px;}
    .fine-print{margin-top:var(--s-6); color:var(--muted); font-size:var(--fs-sm); display:flex; align-items:center; gap:10px;}
    .fine-pill{border:1px solid var(--gold-line); border-radius:var(--r-pill); padding:6px 10px; background:rgba(212,175,55,0.06);}

    .contract-bar{margin-top:var(--s-8); display:flex; align-items:center; gap:12px; flex-wrap:wrap;
      border:1px solid rgba(255,255,255,0.08); background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.2)); border-radius:var(--r-md); padding:10px 12px; box-shadow:var(--shadow-sm);}
    .addr{font-family:ui-monospace,Menlo,Consolas,monospace; background:rgba(255,255,255,0.04); border:1px dashed rgba(255,255,255,0.12); padding:8px 10px; border-radius:var(--r-sm); color:#fff;}
    .addr small{color:var(--text-dim);}

    /* Right visual */
    .hero-art{position:relative; min-height:360px; display:grid; place-items:center;}
    .portal{width:min(440px, 90%); aspect-ratio:1; border-radius:50%;
      background:radial-gradient(closest-side, rgba(30,232,194,0.12), transparent 70%), radial-gradient(circle at 50% 50%, rgba(212,175,55,0.15), transparent 60%);
      border:1px solid rgba(255,255,255,0.08); box-shadow:0 0 0 2px rgba(30,232,194,0.08), inset 0 0 80px rgba(212,175,55,0.12), var(--shadow-md);
      display:grid; place-items:center; position:relative; overflow:hidden;}
    .portal .ring{position:absolute; inset:8%; border-radius:50%; border:1px solid rgba(212,175,55,0.25); mix-blend:screen; animation:spin-slow 30s linear infinite;}
    @keyframes spin-slow{to{transform:rotate(360deg)}}
    @media (prefers-reduced-motion: reduce){ .btn:hover{transform:none;} .portal .ring{animation:none;} }
    .glyph-coin{width:58%; filter:drop-shadow(0 6px 24px rgba(0,0,0,.5));}

    /* Badges */
    .badges{display:grid; grid-template-columns:repeat(4,1fr); gap:var(--s-6); margin:var(--s-16) 0 var(--s-12);}
    .badge{display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:var(--r-md);
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.2));
      border:1px solid rgba(255,255,255,0.08); box-shadow:var(--shadow-sm); position:relative; overflow:hidden;}
    .badge::after{content:""; position:absolute; inset:0; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.06), transparent);
      transform:translateX(-120%); animation:badge-shimmer 1.8s var(--anim-ease) 1 both;}
    @keyframes badge-shimmer{to{transform:translateX(120%)}}

    /* Feature Grid */
    .grid4{display:grid; grid-template-columns:repeat(4,1fr); gap:var(--s-8);}
    .card{background:var(--panel); border:1px solid rgba(255,255,255,0.08); border-radius:var(--r-lg); padding:var(--s-10); box-shadow:var(--shadow-sm); transition:transform var(--anim-base) var(--anim-ease), box-shadow var(--anim-base) var(--anim-ease);}
    .card:hover{transform:translateY(-3px); box-shadow:var(--shadow-md);}
    .card h3{margin:0 0 var(--s-4); font-size:var(--fs-xl); line-height:var(--lh-snug);}
    .card p{margin:0 0 var(--s-5); color:var(--text-dim);}
    .card .link{color:var(--teal); font-weight:700; text-decoration:underline dotted rgba(30,232,194,0.3); text-underline-offset:3px;}

    /* Bands / status */
    .band{margin:var(--s-20) 0; padding:var(--s-16); border-radius:var(--r-xl); background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.25)); border:1px solid rgba(255,255,255,0.08); box-shadow:var(--shadow-md);}
    .vault-grid{display:grid; grid-template-columns:1fr 1fr; gap:var(--s-10); align-items:start;}
    .steps{display:grid; gap:12px;}
    .step{display:grid; grid-template-columns:28px 1fr; gap:12px; align-items:start;}
    .step .dot{width:28px;height:28px;border-radius:50%; display:grid;place-items:center; background:rgba(30,232,194,0.08); border:1px solid rgba(30,232,194,0.35); color:#fff; font-weight:700;}
    .status-card{background:var(--panelHigh); border:1px solid rgba(255,255,255,0.10); border-radius:var(--r-lg); padding:var(--s-8); box-shadow:var(--shadow-sm);}
    .status-card .row{display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-bottom:1px dashed rgba(255,255,255,0.07);}
    .status-card .row:last-child{border-bottom:0;}
    .status-card code{font-family:ui-monospace, Menlo, monospace; font-size:14px; color:var(--text-dim);}

    /* Why/Tokenomics, Roadmap, Call, FAQ, Footer (same as you had; trimmed for brevity in comments) */
    .section-title{display:flex; align-items:center; gap:12px; margin:var(--s-20) 0 var(--s-8);}
    .divider-glyph{width:32px;height:32px; opacity:.9;}
    .academy{display:grid; grid-template-columns:1.2fr 0.8fr; gap:var(--s-12); align-items:center;}
    .note{color:var(--muted);}
    .split{display:grid; grid-template-columns:1.2fr 0.8fr; gap:var(--s-12); align-items:start;}
    .tokenomics{background:var(--panelHigh); border:1px solid rgba(255,255,255,0.1); border-radius:var(--r-lg); padding:var(--s-10);}
    .progress{height:10px; background:rgba(255,255,255,0.06); border-radius:var(--r-pill); overflow:hidden;}
    .progress > span{display:block; height:100%; background:linear-gradient(90deg, var(--gold), var(--teal));}

    .roadmap{position:relative; padding:var(--s-20) 0;}
    .spine{position:absolute; left:50%; top:0; bottom:0; width:2px; background:linear-gradient(180deg, rgba(212,175,55,0.35), rgba(30,232,194,0.35)); transform:translateX(-50%);}
    .rm-grid{display:grid; grid-template-columns:1fr 1fr; gap:var(--s-12); position:relative;}
    .rm-item{background:var(--panel); border:1px solid rgba(255,255,255,0.08); border-radius:var(--r-lg); padding:var(--s-8); box-shadow:var(--shadow-sm); position:relative;}
    .rm-item.current{border-color:rgba(30,232,194,0.45); box-shadow:0 0 0 2px rgba(30,232,194,0.18);}
    .rm-item::before{content:""; position:absolute; top:50%; width:12px; height:12px; border-radius:50%; background:var(--gold); box-shadow:0 0 24px var(--gold);}
    .rm-left::before{right:-6px;} .rm-right::before{left:-6px;}
    .rm-time{color:var(--text-dim); font-size:14px; margin-bottom:6px;}

    .call{display:grid; place-items:center; text-align:center; padding:var(--s-24) 0;}
    .call .portal{width:min(360px, 80%);} .call h3{font-family:Unna,serif; font-size:var(--fs-2xl); margin:var(--s-6) 0 var(--s-4);}
    .call p{color:var(--text-dim); max-width:60ch; margin:0 auto var(--s-6);}

    .faq{margin:var(--s-20) 0;}
    .accordion{border:1px solid rgba(255,255,255,0.08); border-radius:var(--r-lg); overflow:hidden;}
    .acc-item + .acc-item{border-top:1px solid rgba(255,255,255,0.08);}
    .acc-btn{width:100%; text-align:left; background:var(--panel); color:var(--text); padding:16px 18px; border:0; display:flex; align-items:center; justify-content:space-between; cursor:pointer; font-weight:600;}
    .acc-btn .pm{width:22px;height:22px; display:grid; place-items:center; border-radius:6px; border:1px solid rgba(255,255,255,0.12);}
    .acc-panel{max-height:0; overflow:hidden; background:var(--panelHigh); transition:max-height var(--anim-snappy) var(--anim-ease);}
    .acc-panel .content{padding:0 18px 16px; color:var(--text-dim);} .acc-item.open .acc-panel{max-height:280px;}

    footer{margin-top:var(--s-24); border-top:1px solid rgba(255,255,255,0.08); background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.4));}
    .foot{display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:var(--s-8); padding:var(--s-12) 0;}
    .links{display:flex; gap:18px; flex-wrap:wrap;} .links a{position:relative;}
    .links a::after{content:""; position:absolute; left:0; right:0; bottom:-3px; height:2px; background:radial-gradient(40px 6px at 50% 50%, var(--teal), transparent 70%); opacity:0; transition:opacity var(--anim-base) var(--anim-ease);}
    .links a:hover::after{opacity:1;} .foot .sigil{justify-self:center; opacity:.9;}

    /* Responsive */
    @media (max-width:1024px){
      .hero .frame{grid-template-columns:1fr; gap:var(--s-12);}
      .academy{grid-template-columns:1fr;} .vault-grid{grid-template-columns:1fr;}
      .grid4{grid-template-columns:repeat(2,1fr);} .split{grid-template-columns:1fr;}
      .foot{grid-template-columns:1fr; gap:var(--s-6);}
    }
    @media (max-width:520px){
      body{font-size:17px;}
      .badges{grid-template-columns:1fr 1fr;} .grid4{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>

  <!-- Sticky Topbar -->
  <header class="topbar" role="banner">
    <div class="container topbar-inner">
      <!-- Brand -->
      <a href="index.html" class="brand" aria-label="KLY Home">
        <svg class="glyph-24" width="28" height="28" viewBox="0 0 64 64" aria-hidden="true">
          <defs><radialGradient id="g0" cx="50%" cy="50%" r="60%"><stop offset="0%" stop-color="#D4AF37"/><stop offset="60%" stop-color="#8A6B1E"/><stop offset="100%" stop-color="#2B2207"/></radialGradient></defs>
          <circle cx="32" cy="32" r="30" fill="url(#g0)" stroke="rgba(255,255,255,0.25)" stroke-width="1"/>
          <path d="M32 14 L42 24 L32 34 L22 24 Z M22 40 L32 50 L42 40" fill="none" stroke="#1EE8C2" stroke-opacity="0.9" stroke-width="2"/>
        </svg>
        <span class="wordmark">KLY TOKEN</span>
      </a>

      <!-- Ecosystem Dropdown Nav (IDs added for script) -->
      <nav class="nav-links centered-nav" aria-label="Primary">
        <div class="nav-dropdown">
          <button id="ecosysBtn" class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="ecosysMenu">
            Ecosystem <span aria-hidden="true">▾</span>
          </button>
          <div id="ecosysMenu" class="dropdown-content" role="menu" hidden>
            <a href="jointhetribe.html" role="menuitem">Join the Tribe</a>
            <a href="founders.html" role="menuitem" style="background:#e6c15a;color:#121212;padding:8px 16px;border-radius:8px;font-weight:700;">Founders Circle</a>
            <a href="marketplace.html" role="menuitem" style="background:#d6b25e;color:#121212;padding:8px 16px;border-radius:8px;font-weight:700;">Marketplace</a>
            <a href="mint.html" role="menuitem">Mint NFTs</a>
            <a href="kly-academy.html" role="menuitem" data-academy="true">KLY Academy</a>
            <a href="stake.html" role="menuitem">Stake</a>
            <a href="oracle.html" role="menuitem">Oracle Scrolls</a>
            <a href="dao.html" role="menuitem">DAO Governance</a>
            <a href="course.html" role="menuitem">Course</a>
            <a href="launchpad.html" role="menuitem">Launchpad</a>
            <a href="KLY-vault.html" role="menuitem">KLY Vault <span class="new-badge">NEW</span></a>
          </div>
        </div>
      </nav>

      <!-- Wallet -->
      <div class="wallet-wrap">
        <div id="walletChip" class="chip" aria-live="polite"><span id="walletLabel">Not connected</span></div>
        <button id="connectBtn" class="btn btn-primary"><span>Connect Wallet</span></button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" aria-labelledby="hero-title">
    <div id="particles-js" aria-hidden="true"></div>
    <div class="container frame">
      <div>
        <h1 id="hero-title" class="h1"><span class="gold">BUILD WEALTH.</span> OWN LEGACY.</h1>
        <p class="sub">KLY unites tokenized education, DeFi yield, and DAO governance on BNB Smart Chain. Staking vaults. Gated academy. On-chain credentials.</p>

        <div class="cta-row" role="group" aria-label="Primary actions">
          <a href="KLY-vault.html" class="btn btn-primary" id="enterVaultTop"><span>Enter the Vault</span></a>
          <a href="kly-academy.html" class="btn" id="enterAcademyTop" data-academy="true"><span>Enter Academy</span></a>
        </div>

        <div class="fine-print" aria-label="requirements">
          <span class="fine-pill">Academy requires <strong>500+ KLY</strong></span>
          <span class="fine-pill">BNB Smart Chain</span>
        </div>

        <!-- Contract micro-bar -->
        <div class="contract-bar" role="group" aria-label="Contract">
          <div class="addr" title="KLY Contract Address"><small>Contract</small> • <span id="contractShort">0x2e4f...4E52</span></div>
          <div class="contract-actions">
            <a class="btn" rel="noopener" target="_blank" href="https://bscscan.com/token/0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52">View on BscScan</a>
            <button id="copyContract" class="btn" aria-label="Copy contract address">Copy Contract</button>
          </div>
        </div>

        <!-- Status (optional) -->
        <div style="margin-top:12px; color:var(--text-dim)">
          <div>Network: <strong>BNB Smart Chain</strong></div>
          <div>Wallet: <code id="statusWallet">Not connected</code></div>
          <div>Eligibility: <code id="statusEligibility">Academy: 500+ KLY required</code></div>
          <div>Message: <code id="statusMsg">Connect wallet to continue.</code></div>
        </div>
      </div>

      <div class="hero-art" aria-hidden="true">
        <div class="portal">
          <div class="ring"></div><div class="ring" style="inset:14%; animation-duration:40s; opacity:.6;"></div><div class="ring" style="inset:20%; animation-duration:50s; opacity:.4;"></div>
          <!-- Central coin -->
          <svg class="glyph-coin" viewBox="0 0 200 200">
            <defs><radialGradient id="coinG" cx="50%" cy="50%" r="60%"><stop offset="0%" stop-color="#FFF"/><stop offset="55%" stop-color="#E2C86C"/><stop offset="100%" stop-color="#6B5520"/></radialGradient></defs>
            <circle cx="100" cy="100" r="86" fill="url(#coinG)" stroke="rgba(0,0,0,0.35)" stroke-width="2"/>
            <circle cx="100" cy="100" r="72" fill="none" stroke="rgba(30,232,194,0.45)" stroke-width="2" stroke-dasharray="6 10"/>
            <path d="M100 50 L135 85 L100 120 L65 85 Z M65 140 L100 175 L135 140" fill="none" stroke="#0D1117" stroke-width="6" opacity=".8"/>
            <path d="M100 50 L135 85 L100 120 L65 85 Z M65 140 L100 175 L135 140" fill="none" stroke="#1EE8C2" stroke-width="2"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- Badges -->
    <div class="container badges" aria-label="Highlights">
      <div class="badge"><svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 12h16M4 17h10M4 7h16" stroke="currentColor" opacity=".9"/></svg><span>Low fees on BNB</span></div>
      <div class="badge"><svg viewBox="0 0 24 24" fill="none"><path d="M12 3l8 4v6c0 4-3 7-8 8-5-1-8-4-8-8V7l8-4z" stroke="currentColor"/></svg><span>Self-custody</span></div>
      <div class="badge"><svg viewBox="0 0 24 24" fill="none"><path d="M6 6h12v7H6z"/><path d="M8 19h8" stroke="currentColor"/></svg><span>Token-gated Academy</span></div>
      <div class="badge"><svg viewBox="0 0 24 24" fill="none"><path d="M12 2l4 7-6 6 7-4 5 11" stroke="currentColor"/></svg><span>NFT Certificates</span></div>
    </div>
  </section>

  <!-- Feature Grid -->
  <section class="container" aria-labelledby="features">
    <div class="section-title">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <h2 id="features">What You Unlock</h2>
    </div>
    <div class="grid4">
      <article class="card"><h3>Tokenized Education</h3><p>Master DeFi and on-chain ops with structured, token-gated paths.</p><a class="link" href="klyacademy.html" data-academy="true">Explore Academy</a></article>
      <article class="card"><h3>DeFi Ecosystem</h3><p>Stake, mint, and claim inside the Vault. Designed for clarity and control.</p><a class="link" href="klyvault.html">Enter Vault</a></article>
      <article class="card"><h3>DAO Governance</h3><p>Put KLY to work. Vote on upgrades, grants, and launch priorities.</p><a class="link" href="dao.html">View DAO</a></article>
      <article class="card"><h3>Launchpad</h3><p>Participate in vetted drops and cohort projects with on-chain checks.</p><a class="link" href="launchpad.html">See Launchpad</a></article>
    </div>
  </section>

  <!-- Vault Preview -->
  <section id="vault" class="container band" aria-labelledby="vault-title">
    <h2 id="vault-title" class="section-title" style="gap:10px;">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <span>Vault — Stake. Mint. Claim.</span>
    </h2>
    <div class="vault-grid">
      <div class="steps" role="list">
        <div class="step" role="listitem"><div class="dot">1</div><div><strong>Connect</strong><p class="note">Link your wallet on BNB Smart Chain.</p></div></div>
        <div class="step" role="listitem"><div class="dot">2</div><div><strong>Verify balance</strong><p class="note">We check your KLY holdings securely.</p></div></div>
        <div class="step" role="listitem"><div class="dot">3</div><div><strong>Unlock</strong><p class="note">Academy opens at <b>500+ KLY</b>. Vault is always available.</p></div></div>
        <div class="step" role="listitem"><div class="dot">4</div><div><strong>Mint / Stake / Claim</strong><p class="note">One clean flow. Low fees. Clear states.</p></div></div>
        <div class="cta"><a href="KLY-vault.html" class="btn btn-primary"><span>Enter the Vault</span></a></div>
      </div>

      <aside class="status-card" aria-live="polite">
        <div class="row"><span>Network</span><strong>BNB Smart Chain</strong></div>
        <div class="row"><span>Wallet</span><code id="statusWallet">Not connected</code></div>
        <div class="row"><span>Eligibility</span><code id="statusEligibility">Academy: 500+ KLY required</code></div>
        <div class="row"><span>Message</span><code id="statusMsg">Connect wallet to continue.</code></div>
      </aside>
    </div>
  </section>

  <!-- Academy -->
  <section id="academy" class="container band" aria-labelledby="academy-title">
    <div class="academy">
      <div>
        <h2 id="academy-title">The Academy</h2>
        <p class="note">Enter a focused learning vault. Complete tracks, earn <b>NFT certificates</b>, and level up your DeFi execution. Access requires <b>500+ KLY</b>.</p>
        <div class="cta-row">
          <a href="klyacademy.html" class="btn" data-academy="true"><span>Enter Academy</span></a>
        </div>
      </div>
      <div class="portal" aria-hidden="true">
        <div class="ring"></div><div class="ring" style="inset:16%; animation-duration:36s;"></div>
        <svg class="glyph-coin" viewBox="0 0 200 200"><circle cx="100" cy="100" r="76" fill="rgba(30,232,194,0.08)" stroke="rgba(30,232,194,0.35)"/><path d="M100 56 L128 84 L100 112 L72 84 Z" stroke="#1EE8C2" fill="none"/></svg>
      </div>
    </div>
  </section>

  <!-- Quests / Achievements -->
  <section class="container" aria-labelledby="quest-title">
    <div class="section-title">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <h2 id="quest-title">Quests & Leaderboard</h2>
    </div>
    <div class="quests">
      <div class="quest"><div class="top"><strong>Connect on BNB</strong><span class="state lock">Locked</span></div><p class="note">You connected your wallet on BNB Smart Chain.</p></div>
      <div class="quest"><div class="top"><strong>Stake KLY</strong><span class="state lock">Locked</span></div><p class="note">Stake any amount to unlock the streak bonus.</p></div>
      <div class="quest"><div class="top"><strong>Reach 500+ KLY</strong><span class="state lock">Locked</span></div><p class="note">Required to enter the Academy.</p></div>
    </div>
  </section>

  <!-- Why + Tokenomics -->
  <section class="container" aria-labelledby="why-title">
    <div class="section-title">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <h2 id="why-title">Why KLY</h2>
    </div>
    <div class="split">
      <div>
        <p>KLY is a focused path to on-chain mastery. We pair <b>clean DeFi flows</b> with <b>tokenized curriculum</b> and <b>DAO ownership</b>. You learn. You earn. You decide.</p>
        <p>Every component honors clarity: crisp states, no hidden steps, and fees you can see.</p>
        <a class="btn btn-primary" href="klyvault.html"><span>Start in the Vault</span></a>
      </div>
      <aside class="tokenomics" aria-label="Tokenomics">
        <h3 style="margin-top:0;">Tokenomics</h3>
        <p class="note">Transparent, programmatic distribution.</p>
        <div style="display:grid; gap:12px;">
          <div><div style="display:flex; justify-content:space-between;"><span>Community</span><span>40%</span></div><div class="progress"><span style="width:40%;"></span></div></div>
          <div><div style="display:flex; justify-content:space-between;"><span>Treasury & DAO</span><span>25%</span></div><div class="progress"><span style="width:25%;"></span></div></div>
          <div><div style="display:flex; justify-content:space-between;"><span>Team & Advisors</span><span>20%</span></div><div class="progress"><span style="width:20%;"></span></div></div>
          <div><div style="display:flex; justify-content:space-between;"><span>Launchpad / Partners</span><span>15%</span></div><div class="progress"><span style="width:15%;"></span></div></div>
        </div>
      </aside>
    </div>
  </section>

  <!-- Roadmap -->
  <section class="container roadmap" aria-labelledby="roadmap-title">
    <span class="spine" aria-hidden="true"></span>
    <div class="section-title">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <h2 id="roadmap-title">Roadmap</h2>
    </div>
    <div class="rm-grid">
      <div class="rm-item rm-left current"><div class="rm-time">Now</div><strong>Vault v1</strong><p class="note">Stake, mint, claim with audit-ready flows.</p></div>
      <div class="rm-item rm-right"><div class="rm-time">Q4</div><strong>Academy v1</strong><p class="note">Curriculum tracks + NFT certificates.</p></div>
      <div class="rm-item rm-left"><div class="rm-time">Q1</div><strong>DAO Onboarding</strong><p class="note">Snapshot + proposals + weighted voting.</p></div>
      <div class="rm-item rm-right"><div class="rm-time">Q2</div><strong>Launchpad</strong><p class="note">Cohort projects & grants.</p></div>
    </div>
  </section>

  <!-- Ancestral Call -->
  <section class="container call" aria-labelledby="call-title">
    <div class="portal" aria-hidden="true"><div class="ring"></div></div>
    <h3 id="call-title">Answer the Call</h3>
    <p>Step through the gate. Build wealth. Own legacy.</p>
    <a href="klyvault.html" class="btn btn-primary" style="margin-top:10px;"><span>Enter the Vault</span></a>
  </section>

  <!-- FAQ -->
  <section class="container faq" aria-labelledby="faq-title">
    <div class="section-title">
      <svg class="divider-glyph" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="var(--gold)" fill="none"/><path d="M12 4v16M4 12h16" stroke="var(--teal)"/></svg>
      <h2 id="faq-title">FAQ</h2>
    </div>
    <div class="accordion" role="region" aria-labelledby="faq-title">
      <div class="acc-item">
        <button class="acc-btn" aria-expanded="false"><span>What chain does KLY use?</span><span class="pm" aria-hidden="true">+</span></button>
        <div class="acc-panel"><div class="content">BNB Smart Chain. Low fees, fast finality.</div></div>
      </div>
      <div class="acc-item">
        <button class="acc-btn" aria-expanded="false"><span>How do I access the Academy?</span><span class="pm" aria-hidden="true">+</span></button>
        <div class="acc-panel"><div class="content">Hold <b>500+ KLY</b> in your connected wallet, then select “Enter Academy”.</div></div>
      </div>
      <div class="acc-item">
        <button class="acc-btn" aria-expanded="false"><span>Where can I verify the contract?</span><span class="pm" aria-hidden="true">+</span></button>
        <div class="acc-panel"><div class="content">Use the “View on BscScan” button above the fold or in the footer.</div></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer role="contentinfo">
    <div class="container foot">
      <nav class="links" aria-label="Footer">
        <a href="klyvault.html">Vault</a>
        <a href="klyacademy.html" data-academy="true">Academy</a>
        <a href="https://bscscan.com/token/0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52" target="_blank" rel="noopener">BscScan</a>
        <a href="launchpad.html">Launchpad</a>
      </nav>
      <svg class="sigil" width="40" height="40" viewBox="0 0 40 40" aria-hidden="true"><circle cx="20" cy="20" r="18" fill="none" stroke="var(--gold)" /><path d="M20 4 L32 20 L20 36 L8 20 Z" fill="none" stroke="var(--teal)"/></svg>
      <div class="links" style="justify-self:end;">
        <a href="https://twitter.com/zamarispeaks" target="_blank" rel="noopener" aria-label="X / Twitter">X</a>
        <a href="https://discord.gg/msvx63vp" target="_blank" rel="noopener" aria-label="Discord">Discord</a>
        <a href="documentation.html" aria-label="Docs">Docs</a>
      </div>
    </div>
  </footer>

  <!-- Toasts -->
  <div class="toasts" id="toasts" aria-live="polite" aria-atomic="true"></div>

  <!-- Ethers v6 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.12.1/dist/ethers.min.js" crossorigin="anonymous"></script>

  <!-- Site logic: dropdown + wallet + gating + contract + fallbacks -->
  <script>
  (function(){
    /* =========================
       CONFIG
    ========================= */
    const CONTRACT = "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52";
    const BSC = { chainId:"0x38", chainName:"BNB Smart Chain", nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18}, rpcUrls:["https://bsc-dataseed.binance.org/"], blockExplorerUrls:["https://bscscan.com"] };
    const ERC20_ABI = ["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)"];
    const THRESHOLD = 500;

    const $ = sel=>document.querySelector(sel);
    const $$ = sel=>Array.from(document.querySelectorAll(sel));

    const btnEcosys = $("#ecosysBtn");
    const menuEcosys= $("#ecosysMenu");

    const connectBtn  = $("#connectBtn");
    const walletLabel = $("#walletLabel");
    const statusWallet= $("#statusWallet");
    const statusElig  = $("#statusEligibility");
    const statusMsg   = $("#statusMsg");
    const copyBtn     = $("#copyContract");
    const shortEl     = $("#contractShort");
    const toastsBox   = $("#toasts");

    function toast(msg, type="neutral", timeout=3000){
      const t=document.createElement("div");
      t.className=`toast ${type==='success'?'success':type==='error'?'error':''}`;
      t.innerHTML=`<span>${type==='success'?'✅':type==='error'?'⚠️':'✨'}</span><div>${msg}</div><button class="close" aria-label="Close">&times;</button>`;
      toastsBox.appendChild(t); const remove=()=>t.remove(); t.querySelector(".close").addEventListener("click", remove); setTimeout(remove, timeout);
    }
    window.__KLY = Object.assign(window.__KLY||{}, { CONTRACT, toast });

    /* =========================
       DROPDOWN (accessible)
    ========================= */
    (function(){
      if(!btnEcosys || !menuEcosys) return;
      function open(){ menuEcosys.hidden=false; btnEcosys.setAttribute("aria-expanded","true"); const r=menuEcosys.getBoundingClientRect(); if(r.right>innerWidth-8){menuEcosys.style.left="auto"; menuEcosys.style.right="0";} }
      function close(){ menuEcosys.hidden=true; btnEcosys.setAttribute("aria-expanded","false"); menuEcosys.style.right=""; menuEcosys.style.left=""; }
      function toggle(){ (menuEcosys.hidden?open:close)(); }
      btnEcosys.addEventListener("click", e=>{ e.stopPropagation(); toggle(); });
      document.addEventListener("click", e=>{ if(!menuEcosys.hidden && !menuEcosys.contains(e.target) && e.target!==btnEcosys) close(); });
      document.addEventListener("keydown", e=>{ if(e.key==="Escape" && !menuEcosys.hidden){ close(); btnEcosys.focus(); }});
      menuEcosys.addEventListener("keydown", e=>{
        if(!["ArrowDown","ArrowUp","Home","End"].includes(e.key)) return;
        e.preventDefault();
        const links=[...menuEcosys.querySelectorAll('a')]; if(!links.length) return;
        const i=links.indexOf(document.activeElement); let n=0;
        if(e.key==="ArrowDown") n=Math.min((i<0?0:i+1), links.length-1);
        if(e.key==="ArrowUp")   n=Math.max((i<0?0:i-1), 0);
        if(e.key==="Home")      n=0; if(e.key==="End") n=links.length-1;
        links[n].focus();
      });
      btnEcosys.addEventListener("keydown", e=>{ if(e.key==="ArrowDown" && menuEcosys.hidden){ open(); const f=menuEcosys.querySelector('a'); f&&f.focus(); }});
    })();

    /* =========================
       ACADEMY GATE (global)
    ========================= */
    function lockAcademy(){
      $$('[data-academy]').forEach(a=>{
        a.classList.add('is-disabled'); a.setAttribute('aria-disabled','true'); a.setAttribute('data-locked','true'); a.title=`Requires ${THRESHOLD}+ KLY`;
      });
      statusElig && (statusElig.textContent=`Academy: ${THRESHOLD}+ KLY required`);
    }
    function unlockAcademy(){
      $$('[data-academy]').forEach(a=>{
        a.classList.remove('is-disabled'); a.removeAttribute('aria-disabled'); a.removeAttribute('data-locked'); a.title='';
      });
      statusElig && (statusElig.textContent="Academy: Unlocked");
    }
    function wireAcademyIntercepts(){
      $$('a[data-academy]').forEach(a=>{
        const clone=a.cloneNode(true); a.replaceWith(clone);
        clone.addEventListener('click', e=>{
          const locked = clone.getAttribute('data-locked')==='true' || clone.classList.contains('is-disabled') || clone.getAttribute('aria-disabled')==='true';
          if(locked){ e.preventDefault(); toast(`Insufficient KLY — you need ${THRESHOLD}+ to unlock the Academy.`,'error'); }
        });
        clone.addEventListener('keydown', e=>{
          const locked = clone.getAttribute('data-locked')==='true' || clone.classList.contains('is-disabled') || clone.getAttribute('aria-disabled')==='true';
          if((e.key===' '||e.key==='Enter') && locked){ e.preventDefault(); toast(`Insufficient KLY — you need ${THRESHOLD}+ to unlock the Academy.`,'error'); }
        });
      });
    }
    lockAcademy(); wireAcademyIntercepts();
    window.__KLY.setEligibility = function(k){ (k>=THRESHOLD)?unlockAcademy():lockAcademy(); wireAcademyIntercepts(); };

    /* =========================
       CONTRACT SHORT + COPY
    ========================= */
    if(shortEl) shortEl.textContent = CONTRACT.slice(0,6)+"..."+CONTRACT.slice(-4);
    if(copyBtn){ copyBtn.addEventListener('click', async()=>{ try{ await navigator.clipboard.writeText(CONTRACT); toast('Contract copied.','success'); } catch{ toast('Failed to copy contract.','error'); } }); }

    /* =========================
       WALLET CONNECT + BSC + BALANCE
    ========================= */
    const hasProvider = ()=> typeof window.ethereum !== "undefined";
    let provider, signer, user, klyDecimals=18, klySymbol="KLY", currentBalance=0;

    function setWallet(address){
      if(!walletLabel) return;
      if(!address){ walletLabel.textContent="Not connected"; statusWallet&&(statusWallet.textContent="Not connected"); statusMsg&&(statusMsg.textContent="Connect wallet to continue."); return; }
      const short = address.slice(0,6)+"…"+address.slice(-4);
      walletLabel.textContent=short; statusWallet&&(statusWallet.textContent=short); statusMsg&&(statusMsg.textContent="Connected on BNB Smart Chain.");
    }
    window.setWallet = setWallet;

    async function ensureBSC(){
      const cid = await window.ethereum.request({method:"eth_chainId"});
      if(cid===BSC.chainId) return true;
      try{
        await window.ethereum.request({method:"wallet_switchEthereumChain", params:[{chainId:BSC.chainId}]}); return true;
      }catch(err){
        if(err && err.code===4902){ await window.ethereum.request({method:"wallet_addEthereumChain", params:[BSC]}); return true; }
        throw err;
      }
    }

    async function updateBalance(){
      if(!user) return;
      try{
        const prov = provider || new ethers.BrowserProvider(window.ethereum,"any");
        const kly = new ethers.Contract(CONTRACT, ERC20_ABI, (await prov.getSigner()).provider);
        try{ klyDecimals = await kly.decimals(); }catch{}
        try{ klySymbol   = await kly.symbol(); }catch{}
        const raw = await kly.balanceOf(user);
        currentBalance = Number(ethers.formatUnits(raw, klyDecimals));
        statusMsg && (statusMsg.textContent = `Balance: ${currentBalance.toLocaleString(undefined,{maximumFractionDigits:4})} ${klySymbol}`);
        __KLY.setEligibility(currentBalance);
        // quests reflect
        const cards=document.querySelectorAll('.quest .state'); if(cards[0]){ cards[0].textContent="Completed"; cards[0].className="state done"; }
        if(cards[2]){ if(currentBalance>=THRESHOLD){cards[2].textContent="Completed"; cards[2].className="state done";} else {cards[2].textContent="Locked"; cards[2].className="state lock";} }
      }catch(e){ console.error(e); statusMsg && (statusMsg.textContent="Balance unavailable."); toast("Could not fetch KLY balance.","error"); }
    }

    async function connect(){
      if(!hasProvider()){ toast("No Web3 wallet detected. Open this site inside MetaMask or Trust Wallet.","error",6000); statusMsg&&(statusMsg.textContent="Wallet not found."); return; }
      if(connectBtn){ connectBtn.disabled=true; const prev=connectBtn.innerHTML; connectBtn.dataset.prev=prev; connectBtn.innerHTML='<span class="spinner"></span><span>Connecting…</span>'; }
      try{
        await ensureBSC();
        const accounts = await window.ethereum.request({method:"eth_requestAccounts"});
        user = ethers.getAddress(accounts[0]);
        provider = new ethers.BrowserProvider(window.ethereum,"any");
        signer   = await provider.getSigner();
        setWallet(user); toast("Wallet connected.","success");
        await updateBalance();
        // listeners
        window.ethereum.removeListener?.("accountsChanged", onAccounts);
        window.ethereum.removeListener?.("chainChanged", onChain);
        window.ethereum.on("accountsChanged", onAccounts);
        window.ethereum.on("chainChanged", onChain);
      }catch(err){
        if(err && err.code===4001){ toast("Connection cancelled.","error"); statusMsg&&(statusMsg.textContent="Connection cancelled."); }
        else { console.error(err); toast("Connection failed. Check your wallet.","error"); statusMsg&&(statusMsg.textContent="Connection failed."); }
      }finally{
        if(connectBtn){ connectBtn.disabled=false; connectBtn.innerHTML=connectBtn.dataset.prev || '<span>Connect Wallet</span>'; }
      }
    }
    async function onAccounts(accounts){ if(!accounts || !accounts.length){ user=undefined; setWallet(null); __KLY.setEligibility(0); return; } user=ethers.getAddress(accounts[0]); setWallet(user); await updateBalance(); }
    async function onChain(chainId){ if(chainId!==BSC.chainId){ statusMsg&&(statusMsg.textContent="Wrong network — switch to BNB Smart Chain."); toast("Wrong network — switching to BNB…"); try{ await ensureBSC(); await updateBalance(); }catch{} } else { await updateBalance(); } }

    connectBtn && connectBtn.addEventListener('click', connect);

    // Env fallback for non-DApp browsers
    (function(){ if(!hasProvider()){ if(connectBtn){ connectBtn.disabled=true; connectBtn.textContent='Wallet Not Found'; } statusMsg&&(statusMsg.textContent="Open in MetaMask/Trust Wallet in-app browser."); toast("No Web3 wallet detected. Please open in a wallet in-app browser.","error",6000); } })();

    // Silent hydrate if already authorized
    (async function hydrate(){
      if(!hasProvider()) return;
      try{
        const acc = await window.ethereum.request({method:"eth_accounts"});
        if(acc && acc[0]){ await ensureBSC(); user=ethers.getAddress(acc[0]); provider=new ethers.BrowserProvider(window.ethereum,"any"); signer=await provider.getSigner(); setWallet(user); await updateBalance(); window.ethereum.on("accountsChanged", onAccounts); window.ethereum.on("chainChanged", onChain); }
      }catch(e){}
    })();

    /* =========================
       FAQ (single open)
    ========================= */
    document.querySelectorAll('.acc-item .acc-btn').forEach((btn)=>{
      btn.addEventListener('click', ()=>{
        const item = btn.parentElement;
        const open = item.classList.toggle('open');
        btn.setAttribute('aria-expanded', open?'true':'false');
        // close others
        document.querySelectorAll('.acc-item').forEach(i=>{ if(i!==item){ i.classList.remove('open'); i.querySelector('.acc-btn').setAttribute('aria-expanded','false'); }});
      });
    });

    // Make all .btn anchors keyboard-activatable (space/enter)
    document.querySelectorAll('a.btn').forEach(a=>{
      a.setAttribute('role','button');
      a.addEventListener('keydown', e=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); a.click(); }});
    });
  })();
  </script>
</body>
</html>
