<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KLY Legacy - Smart Contracts</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@400;500;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #00ffe7;
      --secondary: #ff00aa;
      --dark: #050505;
      --light: #e0e0e0;
      --highlight: rgba(0, 255, 231, 0.1);
      --code-bg: rgba(0, 255, 231, 0.05);
    }
    
    body {
      background-color: var(--dark);
      color: var(--light);
      font-family: 'Rajdhani', sans-serif;
      margin: 0;
      line-height: 1.6;
      background-image: 
        radial-gradient(circle at 25% 25%, rgba(0, 255, 231, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(255, 0, 170, 0.05) 0%, transparent 50%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* Header styles same as previous examples */
    
    .content {
      flex: 1;
      padding: 3rem 5%;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }
    
    .page-header {
      text-align: center;
      margin-bottom: 3rem;
      padding: 2rem;
      background: var(--highlight);
      border-radius: 12px;
      border: 1px solid rgba(0, 255, 231, 0.2);
    }
    
    .page-header h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .page-header p {
      font-size: 1.2rem;
      max-width: 700px;
      margin: 0 auto;
    }
    
    .doc-section {
      margin-bottom: 3rem;
      padding: 2rem;
      background: rgba(5, 5, 5, 0.7);
      border-radius: 12px;
      border: 1px solid rgba(0, 255, 231, 0.1);
      transition: all 0.3s ease;
    }
    
    .doc-section:hover {
      border-color: rgba(0, 255, 231, 0.3);
      box-shadow: 0 0 30px rgba(0, 255, 231, 0.1);
    }
    
    .doc-section h2 {
      font-family: 'Orbitron', sans-serif;
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
      position: relative;
      display: inline-block;
    }
    
    .doc-section h2::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 50px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }
    
    .contract-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .contract-card {
      background: rgba(0, 255, 231, 0.05);
      border: 1px solid rgba(0, 255, 231, 0.1);
      border-radius: 8px;
      padding: 1.5rem;
      transition: all 0.3s ease;
    }
    
    .contract-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 255, 231, 0.15);
      border-color: rgba(0, 255, 231, 0.5);
    }
    
    .contract-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .contract-icon {
      width: 40px;
      height: 40px;
      background: rgba(0, 255, 231, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 1rem;
      color: var(--primary);
    }
    
    .contract-name {
      font-weight: 700;
      font-size: 1.2rem;
      margin: 0;
    }
    
    .contract-address {
      font-family: 'Courier New', Courier, monospace;
      background: var(--code-bg);
      padding: 0.5rem;
      border-radius: 4px;
      margin: 1rem 0;
      word-break: break-all;
      position: relative;
    }
    
    .copy-btn {
      background: transparent;
      color: var(--primary);
      border: 1px solid var(--primary);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      cursor: pointer;
      position: absolute;
      right: 0.5rem;
      top: 0.5rem;
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }
    
    .copy-btn:hover {
      background: rgba(0, 255, 231, 0.2);
    }
    
    .function-list {
      margin-top: 1rem;
    }
    
    .function-item {
      margin-bottom: 0.8rem;
      padding-left: 1.5rem;
      position: relative;
    }
    
    .function-item::before {
      content: 'âž¤';
      position: absolute;
      left: 0;
      color: var(--primary);
    }
    
    .function-signature {
      font-family: 'Courier New', Courier, monospace;
      background: var(--code-bg);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      color: var(--primary);
    }
    
    .function-desc {
      margin-top: 0.3rem;
      font-size: 0.9rem;
      color: #ccc;
    }
    
    .contract-actions {
      margin-top: 1.5rem;
      display: flex;
      gap: 1rem;
    }
    
    .action-btn {
      background: rgba(0, 255, 231, 0.1);
      color: var(--primary);
      border: 1px solid var(--primary);
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }
    
    .action-btn:hover {
      background: rgba(0, 255, 231, 0.2);
    }
    
    /* Footer styles same as previous examples */
    
    @media (max-width: 768px) {
      .contract-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Same header as previous examples -->
  <header class="header">
    <div class="logo">KLY<span class="highlight">Legacy</span></div>
    <nav class="nav">
      <a href="index.html"><i class="fas fa-home"></i> Dashboard</a>
      <a href="stake.html"><i class="fas fa-coins"></i> Staking</a>
      <a href="dao.html"><i class="fas fa-vote-yea"></i> DAO</a>
      <a href="course.html"><i class="fas fa-graduation-cap"></i> Course</a>
      <a href="launchpad.html"><i class="fas fa-rocket"></i> Launchpad</a>
      <a href="nft-drop.html"><i class="fas fa-image"></i> NFT Drop</a>
    </nav>
    <button id="wallet-address" class="wallet-button">
      <i class="fas fa-wallet"></i> Connect Wallet
    </button>
  </header>

  <main class="content">
    <section class="page-header">
      <h1>Smart Contracts</h1>
      <p>Explore the on-chain logic powering the KLY ecosystem</p>
      <div class="contract-actions" style="justify-content: center; margin-top: 1.5rem;">
        <button class="action-btn" id="verify-contracts">
          <i class="fas fa-shield-alt"></i> Verify on BscScan
        </button>
        <button class="action-btn" id="view-github">
          <i class="fab fa-github"></i> View Source Code
        </button>
      </div>
    </section>

    <div class="contract-grid">
      <!-- KLY Token Contract -->
      <div class="contract-card">
        <div class="contract-header">
          <div class="contract-icon">
            <i class="fas fa-coins"></i>
          </div>
          <h3 class="contract-name">KLY Token</h3>
        </div>
        <div class="contract-address">
          0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52
          <button class="copy-btn" data-address="0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        <p>ERC-20 token with staking and governance functionality</p>
        
        <div class="function-list">
          <div class="function-item">
            <div class="function-signature">balanceOf(address account)</div>
            <div class="function-desc">Returns the KLY balance of specified address</div>
          </div>
          <div class="function-item">
            <div class="function-signature">transfer(address recipient, uint256 amount)</div>
            <div class="function-desc">Send KLY tokens to another address</div>
          </div>
          <div class="function-item">
            <div class="function-signature">approve(address spender, uint256 amount)</div>
            <div class="function-desc">Allow another address to spend your KLY</div>
          </div>
        </div>
        
        <div class="contract-actions">
          <button class="action-btn view-contract" data-address="0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52">
            <i class="fas fa-external-link-alt"></i> View Contract
          </button>
        </div>
      </div>
      
      <!-- Staking Contract -->
      <div class="contract-card">
        <div class="contract-header">
          <div class="contract-icon">
            <i class="fas fa-lock"></i>
          </div>
          <h3 class="contract-name">Staking Pool</h3>
        </div>
        <div class="contract-address">
          0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1
          <button class="copy-btn" data-address="0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        <p>Stake KLY tokens to earn rewards and governance power</p>
        
        <div class="function-list">
          <div class="function-item">
            <div class="function-signature">stake(uint256 amount)</div>
            <div class="function-desc">Lock KLY tokens to start earning rewards</div>
          </div>
          <div class="function-item">
            <div class="function-signature">unstake(uint256 amount)</div>
            <div class="function-desc">Withdraw staked KLY tokens</div>
          </div>
          <div class="function-item">
            <div class="function-signature">claimRewards()</div>
            <div class="function-desc">Claim accumulated staking rewards</div>
          </div>
        </div>
        
        <div class="contract-actions">
          <button class="action-btn view-contract" data-address="0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1">
            <i class="fas fa-external-link-alt"></i> View Contract
          </button>
        </div>
      </div>
      
      <!-- DAO Governance Contract -->
      <div class="contract-card">
        <div class="contract-header">
          <div class="contract-icon">
            <i class="fas fa-vote-yea"></i>
          </div>
          <h3 class="contract-name">DAO Governance</h3>
        </div>
        <div class="contract-address">
          0x796Bce7F95662774243177D1F546eBA0B3465579
          <button class="copy-btn" data-address="0x796Bce7F95662774243177D1F546eBA0B3465579">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        <p>Community governance for protocol decisions</p>
        
        <div class="function-list">
          <div class="function-item">
            <div class="function-signature">propose(string description)</div>
            <div class="function-desc">Submit a new governance proposal</div>
          </div>
          <div class="function-item">
            <div class="function-signature">vote(uint256 proposalId, bool support)</div>
            <div class="function-desc">Vote on an active proposal</div>
          </div>
          <div class="function-item">
            <div class="function-signature">executeProposal(uint256 proposalId)</div>
            <div class="function-desc">Execute a passed proposal</div>
          </div>
        </div>
        
        <div class="contract-actions">
          <button class="action-btn view-contract" data-address="0x796Bce7F95662774243177D1F546eBA0B3465579">
            <i class="fas fa-external-link-alt"></i> View Contract
          </button>
        </div>
      </div>
      
      <!-- NFT Certificate Contract -->
      <div class="contract-card">
        <div class="contract-header">
          <div class="contract-icon">
            <i class="fas fa-certificate"></i>
          </div>
          <h3 class="contract-name">NFT Certificate</h3>
        </div>
        <div class="contract-address">
          0xDA76d35742190283E340dbeE2038ecc978a56950
          <button class="copy-btn" data-address="0xDA76d35742190283E340dbeE2038ecc978a56950">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        <p>ERC-721 NFTs for course completion certificates</p>
        
        <div class="function-list">
          <div class="function-item">
            <div class="function-signature">mintTo(address recipient)</div>
            <div class="function-desc">Mint a course completion NFT</div>
          </div>
          <div class="function-item">
            <div class="function-signature">tokenURI(uint256 tokenId)</div>
            <div class="function-desc">Get metadata URL for an NFT</div>
          </div>
          <div class="function-item">
            <div class="function-signature">verifyCertificate(uint256 tokenId)</div>
            <div class="function-desc">Check validity of a certificate</div>
          </div>
        </div>
        
        <div class="contract-actions">
          <button class="action-btn view-contract" data-address="0xDA76d35742190283E340dbeE2038ecc978a56950">
            <i class="fas fa-external-link-alt"></i> View Contract
          </button>
        </div>
      </div>
    </div>

    <section class="doc-section">
      <h2><i class="fas fa-code-branch"></i> Contract Interactions</h2>
      <p>Connect your wallet to interact directly with these contracts:</p>
      
      <div class="contract-actions">
        <button class="action-btn" id="connect-to-web3">
          <i class="fas fa-plug"></i> Connect Web3
        </button>
        <button class="action-btn" id="load-abi">
          <i class="fas fa-file-code"></i> Load Contract ABIs
        </button>
      </div>
      
      <div id="interaction-panel" style="display: none; margin-top: 2rem;">
        <h3>Contract Interaction Panel</h3>
        <div class="function-call-form">
          <select id="contract-select" class="action-btn" style="width: 100%; margin-bottom: 1rem;">
            <option value="">Select a Contract</option>
            <option value="0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52">KLY Token</option>
            <option value="0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1">Staking Pool</option>
            <option value="0x796Bce7F95662774243177D1F546eBA0B3465579">DAO Governance</option>
            <option value="0xDA76d35742190283E340dbeE2038ecc978a56950">NFT Certificate</option>
          </select>
          
          <select id="function-select" class="action-btn" style="width: 100%; margin-bottom: 1rem;" disabled>
            <option value="">Select a Function</option>
          </select>
          
          <div id="function-params" style="margin-bottom: 1rem;">
            <!-- Parameters will be added dynamically -->
          </div>
          
          <button id="execute-function" class="action-btn" disabled>
            <i class="fas fa-play"></i> Execute Function
          </button>
          
          <div id="function-result" style="margin-top: 1rem; padding: 1rem; background: rgba(0, 255, 231, 0.1); border-radius: 4px; display: none;">
            <h4>Result:</h4>
            <pre id="result-output" style="margin: 0; word-wrap: break-word;"></pre>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Same footer as previous examples -->
  <footer class="footer">
    <div style="display: flex; justify-content: center; gap: 2rem; margin-bottom: 1rem;">
      <a href="#" style="color: var(--light);"><i class="fab fa-twitter"></i></a>
      <a href="#" style="color: var(--light);"><i class="fab fa-discord"></i></a>
      <a href="#" style="color: var(--light);"><i class="fab fa-telegram"></i></a>
      <a href="#" style="color: var(--light);"><i class="fab fa-medium"></i></a>
      <a href="#" style="color: var(--light);"><i class="fab fa-github"></i></a>
    </div>
    <p>&copy; 2025 Kelly Legacy Estates. All rights reserved.</p>
  </footer>

  <script>
    // Enhanced Wallet Connection (same as previous examples)
    
    // Copy contract addresses
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const address = btn.getAttribute('data-address');
        navigator.clipboard.writeText(address);
        
        // Show feedback
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-check"></i> Copied';
        setTimeout(() => {
          btn.innerHTML = originalText;
        }, 2000);
      });
    });
    
    // View contract on BscScan
    document.querySelectorAll('.view-contract').forEach(btn => {
      btn.addEventListener('click', () => {
        const address = btn.getAttribute('data-address');
        window.open(`https://bscscan.com/address/${address}`, '_blank');
      });
    });
    
    // Verify all contracts
    document.getElementById('verify-contracts').addEventListener('click', () => {
      window.open('https://bscscan.com/', '_blank');
    });
    
    // View GitHub
    document.getElementById('view-github').addEventListener('click', () => {
      window.open('https://github.com/your-repo', '_blank');
    });
    
    // Connect to Web3 for interactions
    document.getElementById('connect-to-web3').addEventListener('click', async () => {
      try {
        if (!window.ethereum) {
          throw new Error("Please install MetaMask");
        }
        
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        document.getElementById('interaction-panel').style.display = 'block';
        
        // Populate function select based on contract
        document.getElementById('contract-select').addEventListener('change', (e) => {
          const contractAddress = e.target.value;
          const functionSelect = document.getElementById('function-select');
          
          functionSelect.innerHTML = '<option value="">Select a Function</option>';
          functionSelect.disabled = !contractAddress;
          
          if (contractAddress) {
            // In a real implementation, you would load the ABI and populate functions
            // This is a simplified example
            const functions = getContractFunctions(contractAddress);
            functions.forEach(func => {
              const option = document.createElement('option');
              option.value = func.signature;
              option.textContent = func.name;
              functionSelect.appendChild(option);
            });
          }
        });
        
        // Function parameter handling would be implemented here
        
      } catch (error) {
        alert(error.message);
      }
    });
    
    // Simplified function for demo purposes
    function getContractFunctions(contractAddress) {
      // This would normally come from the ABI
      const functions = {
        '0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52': [
          { name: 'balanceOf', signature: 'balanceOf(address)' },
          { name: 'transfer', signature: 'transfer(address,uint256)' }
        ],
        '0x25548Ba29a0071F30E4bDCd98Ea72F79341b07a1': [
          { name: 'stake', signature: 'stake(uint256)' },
          { name: 'claimRewards', signature: 'claimRewards()' }
        ],
        // Add other contracts...
      };
      
      return functions[contractAddress] || [];
    }
  </script>
</body>
</html>
