<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SólCoin Founders Circle — Pre-Sale</title>
<meta name="description" content="Secure your SólCoin Founders spot for 100 KLY. Only 100 wallets. Lifetime perks, staking boosts, and exclusive Founders NFT." />
<meta name="theme-color" content="#0b0b0d" />

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta property="og:title" content="SólCoin Founders Circle — Pre-Sale" />
<meta property="og:description" content="100 KLY • 1 SólCoin per wallet • Only 100 wallets • Lifetime perks." />
<meta property="og:image" content="https://example.com/solcoin-founders-og.jpg" />
<meta property="og:url" content="https://example.com/founders" />
<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="SólCoin Founders Circle — Pre-Sale" />
<meta name="twitter:description" content="100 KLY • 1 SólCoin per wallet • Only 100 wallets • Lifetime perks." />
<meta name="twitter:image" content="https://example.com/solcoin-founders-og.jpg" />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

<style>
  :root{
    --bg:#0b0b0d; --bg2:#101014; --panel:#121216;
    --text:#f4f4f5; --muted:#b6b6b8;
    --gold:#ffd98a; --gold2:#d4af37; --gold-faint:rgba(212,175,55,.13);
    --stroke:#26262c;
    --ok:#3ddc97; --warn:#ffb020; --danger:#ff6b6b;
    --focus:#7dd3fc;
    --glow:0 0 18px rgba(212,175,55,.24);
    --r:16px; --r-lg:20px; --r-xl:26px;
    --shadow:0 18px 40px rgba(0,0,0,.45);
    --max:1200px;
  }
  *{box-sizing:border-box} html{scroll-behavior:smooth}
  body{margin:0;background:
    radial-gradient(1200px 700px at 50% -10%,#17171b 0%,#0b0b0d 50%,#050506 100%);
    color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial;line-height:1.55}

  /* Header */
  .top{position:sticky;top:0;z-index:40;background:rgba(11,11,13,.5);
    backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,217,138,.08)}
  .top__in{max-width:var(--max);margin:0 auto;padding:12px 18px;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;align-items:center;gap:10px}
  .brand__icon{width:40px;height:40px;border-radius:50%;display:grid;place-items:center;
    background:var(--gold-faint);border:1px solid rgba(255,217,138,.25);color:var(--gold)}
  .brand__name{font-weight:800;letter-spacing:.2px}
  .brand__name span{color:var(--gold)}
  .mini-nav{display:flex;gap:14px}
  .mini-nav a{color:var(--muted);text-decoration:none;font-size:.92rem}
  .mini-nav a:hover{color:var(--text)}
  .verify-pill{display:inline-flex;gap:8px;align-items:center;padding:8px 10px;border-radius:999px;border:1px solid var(--stroke);
    background:#0f0f13;color:var(--muted);font-size:.86rem}

  /* Layout */
  .wrap{max-width:var(--max);margin:0 auto;padding:22px}
  .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:24px}
  @media (max-width:980px){ .grid{grid-template-columns:1fr} }

  /* Cards */
  .card{background:linear-gradient(180deg,#15151a,#0f0f12);border:1px solid var(--stroke);
    border-radius:var(--r-xl);box-shadow:var(--shadow)}
  .card--pad{padding:24px}
  .badge{display:inline-flex;gap:8px;align-items:center;font-weight:700;color:var(--gold);
    border:1px solid rgba(255,217,138,.3);background:var(--gold-faint);padding:8px 12px;border-radius:999px;font-size:.9rem}

  h1{font-size:clamp(30px,4.5vw,46px);line-height:1.08;margin:14px 0 8px;font-weight:800}
  .lead{color:var(--muted);max-width:72ch}

  /* KPIs row */
  .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:16px 0 12px}
  .kpi{border:1px solid var(--stroke);border-radius:14px;background:linear-gradient(180deg,#15151a,#101014);text-align:center;padding:16px}
  .kpi h3{margin:0 0 4px;color:var(--gold);font-size:20px}
  .kpi span{color:var(--muted);font-size:.86rem}

  .progress{margin-top:10px;height:12px;border:1px solid var(--stroke);border-radius:999px;overflow:hidden;background:#0f0f13}
  .bar{height:100%;width:0;background:linear-gradient(90deg,#ffe49a,#ffd98a,#d4af37);transition:width .5s ease}
  .note{margin-top:8px;color:var(--muted);font-size:.95rem}

  /* CTA card (sticky) */
  .sticky{position:sticky;top:14px}
  .cta{display:flex;flex-direction:column;gap:10px}
  .btn{appearance:none;border:1px solid var(--stroke);border-radius:14px;padding:14px 16px;font-weight:800;cursor:pointer;
    display:inline-flex;align-items:center;justify-content:center;gap:10px;text-decoration:none;color:var(--text);background:#15151a;transition:transform .2s ease, box-shadow .2s ease}
  .btn:hover{transform:translateY(-2px)}
  .btn--gold{background:linear-gradient(180deg,var(--gold),#caa43f);color:#171717;border-color:rgba(255,217,138,.45);box-shadow:var(--glow)}
  .btn--ghost{background:transparent;color:var(--gold);border-color:rgba(255,217,138,.35)}
  .btn[disabled], .btn[aria-disabled="true"]{opacity:.6;cursor:not-allowed;filter:grayscale(30%)}
  .count-pill{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;border:1px dashed var(--stroke);color:var(--muted);font-size:.9rem}

  /* Sections */
  .section{margin-top:26px}
  .title{font-weight:800;margin:0 0 10px}
  .list{display:grid;gap:10px}
  .row{display:flex;gap:10px}
  .dot{width:10px;height:10px;border-radius:50%;background:var(--gold);margin-top:8px;flex:0 0 10px}
  .muted{color:var(--muted);font-size:.92rem}

  /* KLY Buy widget */
  .klybuy{margin-top:26px}
  .klybuy__head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  .klybuy__title{font-weight:800;color:var(--gold)}
  .klybuy__net{color:var(--muted)}
  .klybuy__code{background:#151517;border:1px solid #2f2f35;padding:10px 12px;border-radius:12px;color:#d4af37;
    font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:.95rem;white-space:nowrap;overflow:auto}
  .kbtn{appearance:none;border:1px solid #303036;border-radius:12px;padding:12px 14px;font-weight:800;cursor:pointer;
    background:#1a1a1d;color:#fff;display:inline-flex;align-items:center;gap:8px}
  .kbtn--bnb{background:#f3ba2f;color:#111;border-color:#f3ba2f}
  .kbtn--usdt{background:#26a17b}
  .kbtn--mm{background:#ff6f00}

  /* FAQ */
  .faq{display:grid;gap:10px}
  .q{padding:14px;border:1px solid var(--stroke);border-radius:12px;background:#111115}
  .q b{color:var(--text)}

  /* Sold out ribbon */
  .ribbon{position:absolute;top:14px;right:-42px;background:#1b1b1f;color:#fff;transform:rotate(35deg);
    padding:8px 60px;border:1px solid var(--stroke);text-transform:uppercase;font-weight:900;letter-spacing:.6px}

  /* Motion */
  @media (prefers-reduced-motion:reduce){ *{transition:none!important;animation:none!important;scroll-behavior:auto!important} }
  @media (max-width:720px){
    .kpis{grid-template-columns:1fr 1fr}
    .wrap{padding:18px}
  }
  @media (max-width:520px){
    .kpis{grid-template-columns:1fr}
  }
</style>

<!-- JSON-LD -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"Product",
  "name":"SólCoin Founders Circle — Phase 1",
  "description":"Claim 1 SólCoin for 100 KLY. 100 wallets max. Includes lifetime perks and Founders NFT.",
  "offers":{
    "@type":"Offer",
    "price":"100",
    "priceCurrency":"KLY",
    "availability":"https://schema.org/InStock",
    "url":"https://thirdweb.com/binance/0x7a732Ae6b2Db2ceACc3Ffe6F63F3B9B0Ce94A026/claim"
  }
}
</script>
</head>
<body>
  <!-- Top -->
  <div class="top">
    <div class="top__in">
      <div class="brand">
        <div class="brand__icon" aria-hidden="true">☉</div>
        <div class="brand__name">SólCoin <span>Founders</span></div>
      </div>
      <nav class="mini-nav" aria-label="primary">
        <a href="#perks">Perks</a>
        <a href="#how">How it works</a>
        <a href="#getkly">Get KLY</a>
        <span id="topVerify" class="verify-pill">
          <svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="8" fill="#b6b6b8"/></svg>
          <span>Verifying…</span>
        </span>
      </nav>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">
      <!-- Left: Story + KPIs -->
      <div class="card card--pad" aria-labelledby="title">
        <span class="badge">🔑 SólCoin Founders Circle — Phase 1</span>
        <h1 id="title">Secure Your Spot • <span style="color:var(--gold)">100 KLY</span> • Only 100 Wallets</h1>
        <p class="lead">Founders get lifetime perks: staking boost, private academy access, priority mints, and the first wave of SólCoin utility. Price is locked for this phase only.</p>

        <div class="kpis" role="status" aria-live="polite" aria-atomic="true">
          <div class="kpi"><h3>100 KLY</h3><span>Cost per wallet</span></div>
          <div class="kpi"><h3 id="tokensPerWallet">1 SólCoin</h3><span>Tokens per wallet</span></div>
          <div class="kpi"><h3 id="spotsLeft">100</h3><span>Spots remaining</span></div>
        </div>

        <div class="progress" title="Spots filled">
          <div id="fillBar" class="bar"></div>
        </div>
        <div class="note">Spots filled: <b id="filledText">0</b>/100 • Live while supplies last.</div>

        <div class="section" id="perks">
          <h3 class="title">Founders Perks</h3>
          <div class="list">
            <div class="row"><div class="dot" aria-hidden="true"></div><div><b>Lifetime staking boost</b> <span class="muted">(percent announced at T-0)</span></div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div><b>Private Academy access</b> <div class="muted">Premium modules for holders</div></div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div><b>Priority mints</b> & early drops <div class="muted">First access to ecosystem launches</div></div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div><b>OG Discord role</b> <div class="muted">Gated channels & founder AMAs</div></div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div><b>Exclusive Founders NFT</b> <div class="muted">On-chain status collectible</div></div></div>
          </div>
        </div>

        <div class="section" id="how">
          <h3 class="title">How it works</h3>
          <div class="list">
            <div class="row"><div class="dot" aria-hidden="true"></div><div>Tap <b>Claim on Thirdweb</b>, connect wallet, select <b>1 token</b></div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div>Pay <b>100 KLY</b>. Token delivers instantly to your wallet</div></div>
            <div class="row"><div class="dot" aria-hidden="true"></div><div>Use your SólCoin to unlock staking and holder utilities</div></div>
          </div>
        </div>
      </div>

      <!-- Right: Sticky Claim -->
      <aside class="card card--pad sticky" aria-labelledby="ctaTitle">
        <div style="position:relative">
          <div id="soldOutRibbon" class="ribbon" style="display:none">Sold Out</div>
        </div>
        <h2 id="ctaTitle" class="title" style="margin-top:0">Claim • Phase 1</h2>
        <div class="list" style="margin-bottom:10px">
          <div class="row"><div class="dot" aria-hidden="true"></div><div><b id="countdown">Ends soon…</b></div></div>
          <div class="row"><div class="dot" aria-hidden="true"></div><div><span class="muted">Verified: BNB Chain • Thirdweb</span></div></div>
        </div>

        <div class="cta" role="group" aria-label="Claim actions">
          <a id="claimBtn" class="btn btn--gold" href="#" target="_blank" rel="noopener" aria-disabled="true">Claim on Thirdweb</a>
          <button id="copyBtn" class="btn btn--ghost" type="button">Copy Claim Link</button>
          <span id="verifyBadge" class="count-pill" title="We verify the network, address and interface before enabling the Claim button.">Verifying…</span>
        </div>

        <div class="section" id="getkly">
          <h3 class="title" style="margin-top:14px">Need KLY?</h3>
          <div class="card" style="border:none;padding:0;background:transparent;box-shadow:none">
            <div class="klybuy__head">
              <div class="klybuy__title">Get KLY</div>
              <div class="klybuy__net">BNB Smart Chain • BEP-20</div>
            </div>
            <div style="display:flex;gap:10px;align-items:center;margin:10px 0 8px">
              <code id="klybuy-address" class="klybuy__code" style="flex:1">0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52</code>
              <button id="klybuy-copy" class="kbtn" type="button">Copy</button>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
              <a id="klybuy-bnb" class="kbtn kbtn--bnb" target="_blank" rel="noopener">Buy with BNB</a>
              <a id="klybuy-usdt" class="kbtn kbtn--usdt" target="_blank" rel="noopener">Buy with USDT</a>
              <button id="klybuy-add" class="kbtn kbtn--mm" type="button">Add KLY to MetaMask</button>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <!-- FAQ -->
    <div class="section">
      <div class="card card--pad">
        <h3 class="title" style="margin-top:0">FAQ</h3>
        <div class="faq">
          <div class="q"><b>What chain is this?</b><br><span class="muted">BNB Smart Chain (BEP-20). Connect to BNB network.</span></div>
          <div class="q"><b>Phase supply?</b><br><span class="muted">100 wallets maximum. Each wallet can claim exactly 1 SólCoin for 100 KLY.</span></div>
          <div class="q"><b>Where’s the purchase?</b><br><span class="muted">On the official Thirdweb claim page linked above. Always verify the contract address.</span></div>
          <div class="q"><b>What about next phases?</b><br><span class="muted">Yes — price increases after Phase 1 is filled.</span></div>
          <div class="q"><b>When do benefits start?</b><br><span class="muted">Utilities unlock immediately after claim. Founders NFT airdrops within 7 days.</span></div>
        </div>
      </div>
    </div>

    <p class="muted" style="text-align:center;margin:24px 0 8px">
      Never trust DMs. We will never ask for your seed phrase. Always verify contract addresses before connecting your wallet.<br/>© SólCoin • Not financial advice
    </p>
  </div>

<!-- ethers UMD (read-only) -->
<script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js" crossorigin="anonymous"></script>
<script>
/* =========================
   CONFIG
========================= */
const TOTAL_SPOTS = 100;
const TOKENS_PER_WALLET = 1;
const CLAIM_URL = "https://thirdweb.com/binance/0x7a732Ae6b2Db2ceACc3Ffe6F63F3B9B0Ce94A026/claim";
const CONTRACT_ADDRESS = "0x7a732Ae6b2Db2ceACc3Ffe6F63F3B9B0Ce94A026"; // Thirdweb ERC20Drop
const RPC_URL = "https://bsc-dataseed.binance.org/";
const CHAIN_ID = 56;
const END_ISO_FALLBACK = "2025-08-22T23:59:00Z"; // fallback window end

const ERC20_DROP_ABI = [
  "function getActiveClaimConditionId() view returns (uint256)",
  "function getClaimConditionById(uint256) view returns (tuple(uint256 startTimestamp,uint256 maxClaimableSupply,uint256 supplyClaimed,uint256 quantityLimitPerTransaction,bytes32 merkleRoot,uint256 pricePerToken,address currency))",
  "function decimals() view returns (uint8)"
];

/* =========================
   DOM
========================= */
const filledText = document.getElementById('filledText');
const spotsLeftEl = document.getElementById('spotsLeft');
const bar = document.getElementById('fillBar');
const tokensPerWalletEl = document.getElementById('tokensPerWallet');

const claimBtn = document.getElementById('claimBtn');
const copyBtn = document.getElementById('copyBtn');
const countdownEl = document.getElementById('countdown');

const verifyBadge = document.getElementById('verifyBadge');
const topVerify = document.getElementById('topVerify');
const soldOutRibbon = document.getElementById('soldOutRibbon');

/* =========================
   STATE
========================= */
let tokenDecimals = 18;
let spotsClaimed = 0; // wallets (not tokens)
let verified = false;
let dynamicEndMs = null;

/* =========================
   UTIL
========================= */
function setVerifyState(state, msg){
  const html = (type, iconBg, stroke, inner) =>
  `<svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
     <circle cx="12" cy="12" r="10" fill="${iconBg}" stroke="${stroke}" stroke-width="2"/>
     ${inner||""}
   </svg> <span>${msg}</span>`;

  const okSvg = html('#103b33','#3ddc97','',`<path d="M8.5 12.5l2.5 2.5 4.5-5" fill="none" stroke="#3ddc97" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>`);
  const warnSvg = html('#3b0f0f','#ff6b6b','',`<path d="M12 7v6M12 16.5v.5" stroke="#ff6b6b" stroke-width="2" stroke-linecap="round"/>`);
  const loadingSvg = `<svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="8" fill="#b6b6b8"/></svg> <span>${msg}</span>`;

  const markup = state==='ok' ? okSvg : state==='warn' ? warnSvg : loadingSvg;
  verifyBadge.innerHTML = markup;
  topVerify.innerHTML = markup;
}

function enableClaim(){
  verified = true;
  claimBtn.setAttribute('aria-disabled','false');
  claimBtn.removeAttribute('disabled');
  claimBtn.href = CLAIM_URL;
}
function disableClaim(){
  verified = false;
  claimBtn.setAttribute('aria-disabled','true');
  claimBtn.setAttribute('disabled','true');
  claimBtn.href = '#';
}

function renderSpots(){
  const left = Math.max(0, TOTAL_SPOTS - spotsClaimed);
  const pct  = Math.min(100, (spotsClaimed / TOTAL_SPOTS) * 100);

  spotsLeftEl.textContent = String(left);
  filledText.textContent  = String(spotsClaimed);
  bar.style.width = pct + "%";

  const soldOut = (left === 0);
  soldOutRibbon.style.display = soldOut ? 'block' : 'none';
  claimBtn.textContent = soldOut ? 'Sold Out' : 'Claim on Thirdweb';
  claimBtn.toggleAttribute('disabled', soldOut || !verified);
  claimBtn.setAttribute('aria-disabled', soldOut || !verified ? 'true' : 'false');
}

function tick(){
  const fallbackMs = new Date(END_ISO_FALLBACK).getTime();
  const endMs = dynamicEndMs || fallbackMs;
  if (!endMs || Number.isNaN(endMs)) return countdownEl.textContent = "⏳ Closing soon";

  const d = endMs - Date.now();
  if (d <= 0) return countdownEl.textContent = "⏳ Closing soon";
  const days = Math.floor(d / 86400000);
  const hrs  = Math.floor((d % 86400000) / 3600000);
  const min  = Math.floor((d % 3600000) / 60000);
  countdownEl.textContent = `Ends in ${days}d ${hrs}h ${min}m`;
}

/* =========================
   READ: Thirdweb ERC20Drop
========================= */
async function fetchLivePhase(){
  try {
    const provider = new ethers.providers.JsonRpcProvider(RPC_URL, { name: 'bnb', chainId: CHAIN_ID });
    const c = new ethers.Contract(CONTRACT_ADDRESS, ERC20_DROP_ABI, provider);

    try { tokenDecimals = await c.decimals(); } catch(_){}

    const id   = await c.getActiveClaimConditionId();
    const cond = await c.getClaimConditionById(id);

    // cond.supplyClaimed is in token units (decimals)
    const claimedTokens = Number(ethers.utils.formatUnits(cond.supplyClaimed, tokenDecimals));
    const walletsClaimed = Math.floor(claimedTokens / TOKENS_PER_WALLET);

    spotsClaimed = Math.max(0, Math.min(TOTAL_SPOTS, walletsClaimed));
    renderSpots();

    // Next phase start → dynamic end
    try {
      const nextCond = await c.getClaimConditionById(id.add(1));
      const nextStartMs = Number(nextCond.startTimestamp) * 1000;
      if (!Number.isNaN(nextStartMs) && nextStartMs > Date.now()) dynamicEndMs = nextStartMs;
    } catch(_) { dynamicEndMs = null; }
  } catch(e){
    console.error("Phase fetch failed:", e);
    // keep last known render
  }
}

/* =========================
   VERIFY everything before enabling CTA
========================= */
async function verifyEverything(){
  try{
    setVerifyState('loading','Verifying…');
    disableClaim();

    // 1) URL sanity
    const u = new URL(CLAIM_URL);
    const parts = u.pathname.split('/').filter(Boolean); // ["binance","0x...","claim"]
    if (parts[0] !== 'binance') throw new Error('Thirdweb network mismatch');
    if ((parts[1]||'').toLowerCase() !== CONTRACT_ADDRESS.toLowerCase()) throw new Error('URL contract != configured contract');

    // 2) Network + code
    const provider = new ethers.providers.JsonRpcProvider(RPC_URL, { name:'bnb', chainId: CHAIN_ID });
    const net = await provider.getNetwork();
    if (net.chainId !== CHAIN_ID) throw new Error('Unexpected chain id');
    const code = await provider.getCode(CONTRACT_ADDRESS);
    if (!code || code === '0x') throw new Error('No contract code at address');

    // 3) Interface probe
    const c = new ethers.Contract(CONTRACT_ADDRESS, ERC20_DROP_ABI, provider);
    await Promise.all([c.getActiveClaimConditionId().catch(()=>true), c.decimals().catch(()=>true)]);

    setVerifyState('ok','Verified on BNB • Address matches');
    enableClaim();
    renderSpots();
  }catch(err){
    console.error("Verify failed:", err);
    setVerifyState('warn', err?.message || 'Verification failed');
    disableClaim();
  }
}

/* =========================
   INIT
========================= */
tokensPerWalletEl.textContent = `${TOKENS_PER_WALLET} SólCoin`;
renderSpots();
fetchLivePhase().then(tick);
verifyEverything();

// Polling (pause when tab hidden)
let pollTimer=null, tickTimer=null;
function startTimers(){
  if(!pollTimer) pollTimer=setInterval(fetchLivePhase, 30000);
  if(!tickTimer) tickTimer=setInterval(tick, 30000);
}
function stopTimers(){
  clearInterval(pollTimer); pollTimer=null;
  clearInterval(tickTimer); tickTimer=null;
}
document.addEventListener('visibilitychange',()=>{ document.hidden ? stopTimers() : (fetchLivePhase(), tick(), startTimers()); });
startTimers();

/* =========================
   UX: Copy link + KLY widget
========================= */
copyBtn.addEventListener('click', async ()=>{
  try{
    await navigator.clipboard.writeText(CLAIM_URL);
    const old = copyBtn.textContent; copyBtn.textContent = "Copied ✓";
    setTimeout(()=> copyBtn.textContent = old, 1400);
  }catch(_){ window.prompt("Copy the claim link:", CLAIM_URL); }
});
claimBtn.addEventListener('click',(e)=>{ if(!verified || claimBtn.hasAttribute('disabled')) e.preventDefault(); });

// KLY buy links + add to MetaMask
(function initKLY(){
  const KLY = "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52";
  const BSC_USDT = "0x55d398326f99059fF775485246999027B3197955";
  const $ = (id)=>document.getElementById(id);
  $("klybuy-bnb").href  = `https://pancakeswap.finance/swap?outputCurrency=${KLY}`;
  $("klybuy-usdt").href = `https://pancakeswap.finance/swap?inputCurrency=${BSC_USDT}&outputCurrency=${KLY}`;
  $("klybuy-copy").addEventListener("click", async ()=>{
    try{ await navigator.clipboard.writeText(KLY); const b=$("klybuy-copy"); const t=b.textContent; b.textContent="Copied ✓"; setTimeout(()=>b.textContent=t,1200); }
    catch(_){ window.prompt("Copy KLY address:", KLY); }
  });
  $("klybuy-add").addEventListener("click", async ()=>{
    if(!window.ethereum) return alert("Open in a wallet browser with MetaMask.");
    try{
      await ethereum.request({
        method:'wallet_watchAsset',
        params:{ type:'ERC20', options:{ address:KLY, symbol:'KLY', decimals:18, image:'https://yourcdn.com/kly-logo.png' } }
      });
    }catch(e){ console.error(e); }
  });
})();
</script>
</body>
</html>
