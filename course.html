<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Transformational 7-module course on self-realization">
  <title>Path of Awakening</title>
  
  <!-- Preconnect to CDNs for better performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://unpkg.com">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;700&family=EB+Garamond:ital@0;1&family=Orbitron:wght@700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
  
  <!-- Libraries (loaded asynchronously where possible) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.3.0/aframe/build/aframe-ar.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" defer></script>
  <script src="https://unpkg.com/@web3modal/ethers@2.6.1/dist/index.js" defer></script>
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>☯</text></svg>">
  
  <style>
    :root {
      --gold-light: #f9e076;
      --gold-primary: #d4af37;
      --gold-dark: #8a6d0b;
      --teal-light: #00ffe7;
      --teal-dark: #007a6d;
      --bg-dark: #0a0a0f;
      --bg-darker: #050508;
      --text-light: #f0f0f0;
      --text-muted: rgba(200, 200, 200, 0.6);
      --module-bg: rgba(20, 20, 30, 0.8);
      --module-complete: rgba(212, 175, 55, 0.1);
      --nft-glow: rgba(0, 255, 231, 0.3);
      --transition-base: 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    /* Base Styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-dark);
      color: var(--text-light);
      font-family: 'EB Garamond', serif;
      overflow-x: hidden;
      line-height: 1.6;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* 3D Sacred Geometry Background */
    .cosmic-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.15;
      pointer-events: none;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
    }
    
    /* Typography */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 400;
      line-height: 1.2;
    }
    
    /* Hero Section */
    .wisdom-hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      padding: 4rem 2rem;
      background: radial-gradient(ellipse at center, var(--bg-dark) 0%, var(--bg-darker) 100%);
    }
    
    .kly-logo {
      position: absolute;
      top: 2rem;
      left: 2rem;
      width: 120px;
      height: auto;
      opacity: 0.8;
      transition: opacity var(--transition-base);
      z-index: 10;
    }
    
    .kly-logo:hover {
      opacity: 1;
    }
    
    .title-container {
      text-align: center;
      position: relative;
      margin-bottom: 4rem;
      max-width: 90%;
    }
    
    .title-decoration {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, var(--gold-primary) 15%, var(--gold-primary) 85%, transparent 100%);
    }
    
    .title-decoration.top {
      top: -2rem;
    }
    
    .title-decoration.bottom {
      bottom: -2rem;
    }
    
    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 300;
      font-size: clamp(2.5rem, 5vw, 5rem);
      letter-spacing: 0.5rem;
      margin: 0;
      text-transform: uppercase;
      position: relative;
    }
    
    .gold-gradient {
      background: linear-gradient(135deg, var(--gold-light), var(--gold-primary), var(--gold-dark));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 400;
    }
    
    .subtitle {
      font-size: clamp(1rem, 1.5vw, 1.2rem);
      color: var(--text-muted);
      letter-spacing: 0.1rem;
      margin-top: 1.5rem;
      max-width: 600px;
      line-height: 1.6;
    }
    
    .serif-italic {
      font-style: italic;
      color: var(--gold-primary);
    }
    
    /* CTA Buttons */
    .cta-container {
      position: relative;
      margin-top: 3rem;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: center;
    }
    
    .wisdom-cta {
      background: transparent;
      color: var(--gold-primary);
      border: 1px solid rgba(200, 160, 100, 0.3);
      padding: 1.2rem 3rem;
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.1rem;
      letter-spacing: 0.2rem;
      position: relative;
      overflow: hidden;
      transition: all var(--transition-base);
      backdrop-filter: blur(5px);
      cursor: pointer;
      border-radius: 2px;
      min-width: 280px;
    }
    
    .wisdom-cta:hover {
      border-color: rgba(200, 160, 100, 0.6);
      background: rgba(20, 15, 5, 0.3);
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
    }
    
    .wisdom-cta::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(200, 160, 100, 0.1), transparent);
      transition: 0.7s;
    }
    
    .wisdom-cta:hover::before {
      left: 100%;
    }
    
    .cta-icon {
      margin-left: 0.8rem;
      font-size: 1.2rem;
      display: inline-block;
      transition: transform var(--transition-base);
    }
    
    .wisdom-cta:hover .cta-icon {
      transform: rotate(45deg);
    }
    
    .disclaimer {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 1.5rem;
      letter-spacing: 0.05rem;
      opacity: 0.7;
      max-width: 500px;
    }
    
    /* Animated Triquetra */
    .triquetra {
      position: absolute;
      width: 120px;
      height: 120px;
      opacity: 0.7;
      transition: opacity 1s ease;
      pointer-events: none;
    }
    
    .triquetra path {
      stroke: var(--gold-primary);
      stroke-width: 1.5;
      fill: none;
      stroke-dasharray: 300;
      stroke-dashoffset: 300;
      animation: draw 8s infinite alternate;
    }
    
    @keyframes draw {
      0% { stroke-dashoffset: 300; opacity: 0.3; }
      50% { stroke-dashoffset: 0; opacity: 0.7; }
      100% { stroke-dashoffset: -300; opacity: 0.3; }
    }
    
    /* Course Content */
    #courseContent {
      text-align: left;
      max-width: 900px;
      margin: 4rem auto;
      opacity: 1;
      height: auto;
      overflow: hidden;
    }
    
    h2 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 400;
      font-size: 2.5rem;
      color: var(--gold-primary);
      margin: 3rem 0 1.5rem;
      position: relative;
    }
    
    h2::after {
      content: "";
      display: block;
      width: 100px;
      height: 1px;
      background: linear-gradient(90deg, var(--gold-primary), transparent);
      margin-top: 1rem;
    }
    
    h3 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 400;
      font-size: 1.8rem;
      color: var(--teal-light);
      margin: 2rem 0 1rem;
    }
    
    h4 {
      font-family: 'EB Garamond', serif;
      font-style: italic;
      font-size: 1.2rem;
      color: var(--gold-primary);
      margin: 1.5rem 0 0.5rem;
    }
    
    article {
      background: var(--module-bg);
      border-left: 2px solid var(--gold-primary);
      padding: 2rem;
      margin-bottom: 3rem;
      border-radius: 0 8px 8px 0;
      transition: all var(--transition-base);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(5px);
    }
    
    article:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 25px rgba(0, 0, 0, 0.5);
    }
    
    article.completed {
      border-left-color: var(--teal-light);
      background: var(--module-complete);
    }
    
    article.completed::after {
      content: '✓';
      position: absolute;
      top: 1rem;
      right: 1rem;
      color: var(--teal-light);
      font-weight: bold;
      font-size: 1.5rem;
    }

    article:focus,
    article:active,
    article p:focus,
    article p:active {
      outline: none !important;
      box-shadow: none !important;
      -webkit-tap-highlight-color: transparent !important;
    }
    
    p {
      margin: 1rem 0;
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    ul, ol {
      margin: 1.5rem 0;
      padding-left: 1.5rem;
    }
    
    li {
      margin-bottom: 1rem;
      position: relative;
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    li:before {
      content: '•';
      color: var(--gold-primary);
      position: absolute;
      left: -1.2rem;
    }
    
    strong {
      color: var(--gold-primary);
      font-weight: 400;
    }
    
    em {
      color: var(--teal-light);
      font-style: italic;
    }
    
    .practice-box {
      background: rgba(0, 255, 231, 0.05);
      border-left: 2px solid var(--teal-light);
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 0 8px 8px 0;
    }
    
    .practice-box h4 {
      color: var(--teal-light);
    }
    
    .bonus-section {
      background: rgba(212, 175, 55, 0.05);
      border: 1px solid rgba(212, 175, 55, 0.2);
      padding: 2rem;
      border-radius: 8px;
      margin: 4rem 0;
    }
    
    .bonus-section h3 {
      color: var(--gold-primary);
    }
    
    .module-complete {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      margin-top: 2rem;
      color: var(--gold-primary);
    }
    
    .module-complete input {
      cursor: pointer;
      width: 20px;
      height: 20px;
      accent-color: var(--gold-primary);
    }
    
    .module-complete label {
      font-family: 'EB Garamond', serif;
      font-size: 1.1rem;
      cursor: pointer;
    }
    
    .key-quote {
      font-style: italic;
      color: var(--gold-primary);
      border-left: 2px solid var(--gold-primary);
      padding-left: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Progress Tracking */
    .progress-container {
      width: 100%;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      margin: 3rem 0;
      overflow: hidden;
      position: relative;
      height: 6px;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--gold-primary), var(--teal-light));
      width: 0%;
      transition: width 1s ease;
      position: relative;
    }
    
    .progress-text {
      position: absolute;
      right: 0;
      top: -2rem;
      font-size: 0.9rem;
      color: var(--text-muted);
    }
    
    /* Wallet Connection */
    #walletStatus {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: var(--gold-primary);
      min-height: 1.5rem;
    }
    
    /* AR Styles */
    .ar-marker {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 300px;
      height: 300px;
      z-index: 100;
      border: 1px solid var(--gold-primary);
      border-radius: 8px;
      overflow: hidden;
      display: none;
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
    }
    
    /* Meditation Visualizer */
    .meditation-viz {
      width: 100%;
      height: 200px;
      background: rgba(0,0,0,0.2);
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
    }
    
    .breath-circle {
      position: absolute;
      border-radius: 50%;
      border: 2px solid var(--teal-light);
      transform: translate(-50%, -50%);
      opacity: 0.7;
    }
    
    /* NFT Certificate */
    .nft-certificate {
      max-width: 400px;
      margin: 2rem auto;
      padding: 2rem;
      background: linear-gradient(135deg, rgba(20, 20, 30, 0.8), rgba(5, 5, 8, 0.9));
      border: 1px solid var(--gold-primary);
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 0 30px var(--nft-glow);
      display: none;
    }
    
    .nft-certificate h3 {
      color: var(--gold-primary);
      margin-bottom: 1rem;
    }
    
    .nft-certificate p {
      margin: 0.5rem 0;
    }
    
    .nft-image {
      width: 150px;
      height: 150px;
      margin: 1rem auto;
      background: radial-gradient(circle, var(--teal-light) 0%, var(--gold-primary) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: var(--bg-darker);
    }
    
    /* Community Section */
    .community-section {
      background: rgba(0, 122, 109, 0.05);
      border: 1px solid var(--teal-dark);
      padding: 2rem;
      border-radius: 8px;
      margin: 4rem 0;
    }
    
    .community-section h3 {
      color: var(--teal-light);
    }
    
    /* Loading State */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-darker);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(212, 175, 55, 0.3);
      border-radius: 50%;
      border-top-color: var(--gold-primary);
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 0 1.5rem;
      }
      
      .kly-logo {
        width: 80px;
        top: 1.5rem;
        left: 1.5rem;
      }
      
      h1 {
        font-size: 2.2rem;
        letter-spacing: 0.3rem;
      }
      
      h2 {
        font-size: 2rem;
      }
      
      h3 {
        font-size: 1.5rem;
      }
      
      article {
        padding: 1.5rem;
      }
      
      .wisdom-cta {
        padding: 1rem 2rem;
        font-size: 1rem;
        min-width: 240px;
      }
      
      .ar-marker {
        width: 200px;
        height: 200px;
        bottom: 1rem;
        right: 1rem;
      }
      
      .title-container {
        margin-bottom: 2rem;
      }
      
      .title-decoration.top {
        top: -1.5rem;
      }
      
      .title-decoration.bottom {
        bottom: -1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .wisdom-hero {
        padding: 6rem 1.5rem 4rem;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .subtitle {
        font-size: 0.9rem;
      }
      
      .wisdom-cta {
        padding: 0.8rem 1.5rem;
        font-size: 0.9rem;
        min-width: 200px;
      }
      
      article {
        padding: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading" id="loadingScreen">
    <div class="loading-spinner"></div>
    <p style="margin-top: 1rem; color: var(--gold-primary);">Initializing Wisdom Journey...</p>
  </div>
  
  <!-- 3D Sacred Geometry Background -->
  <div id="cosmicContainer" class="cosmic-canvas"></div>
  
  <!-- AR Meditation Marker -->
  <div class="ar-marker" id="arMarker">
    <a-scene embedded arjs>
      <a-entity 
        geometry="primitive: torusKnot; radius: 0.5; radiusTubular: 0.1"
        material="color: #D4AF37; metalness: 0.8; roughness: 0.2"
        rotation="0 45 0"
        animation="property: rotation; to: 0 405 0; loop: true; dur: 10000">
      </a-entity>
      <a-marker-camera preset="hiro"></a-marker-camera>
    </a-scene>
  </div>
  
  <div class="container">
    <!-- Hero Section -->
    <section class="wisdom-hero">
      <img src="https://raw.githubusercontent.com/DelonteKelly/KLY-landing-/main/KLY-logo.png" alt="KLY Logo" class="kly-logo" loading="lazy">
      
      <div class="title-container">
        <div class="title-decoration top"></div>
        <h1>The Path of <span class="gold-gradient">Awakening</span></h1>
        <div class="title-decoration bottom"></div>
        <p class="subtitle">A <span class="serif-italic">transformational</span> journey into self-realization, presence, and embodied truth.</p>
      </div>
      
      <div class="cta-container">
        <button id="startCourseBtn" class="wisdom-cta">
          <span class="cta-text">Begin Journey</span>
          <span class="cta-icon">⌾</span>
        </button>

        <button id="connectWallet" class="wisdom-cta">Connect Wallet to Unlock</button>
        <p id="walletStatus"></p>

        <p class="disclaimer">✧ For those who grasp the alchemical keys — the veil parts but for a moment. ✧</p>

        <svg class="triquetra" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M50,15 L65,50 L50,85 L35,50 L50,15 M20,65 L50,50 L80,65 L65,50 L80,35 L50,50 L20,35 L35,50 L20,65"/>
        </svg>
      </div>
    </section>

    <!-- Progress Tracking -->
    <div class="progress-container" id="progressContainer">
      <div class="progress-bar" id="progressBar"></div>
      <span class="progress-text" id="progressText">0% Complete</span>
    </div>
    
    <!-- Course Content -->
    <div id="courseContent">
      <h2>The Path of Awakening: Dissolving Illusion & Living in Truth</h2>
      <p>This 7-module course is a transformational journey into self-realization, presence, and embodied truth. Each module builds upon the last, guiding you through progressive stages of awakening.</p>
      
      <!-- Module 1 -->
      <article id="module1">
        <h3>Module 1: Foundations of Self-Awareness</h3>
        <h4>Theme: Becoming the Observer</h4>
        <p>
          Self-awareness is the foundation of awakening. It's the ability to step out of the stream of unconscious thoughts and emotions, 
          observing them without judgment. When you become the observer, you stop identifying with the mental chatter and start to see 
          your true nature beyond the mind.
        </p>
        
        <ul>
          <li>
            <strong>What is self-awareness?</strong><br>
            Self-awareness is the conscious recognition of your thoughts, emotions, and behaviors as they arise. 
            It's the difference between being <em>lost in thought</em> (where your mind runs on autopilot) and 
            <em>observing thought</em> (where you witness thoughts like clouds passing through the sky).
            <br><br>
            <em>Key Insight:</em> The "I" that observes is not your mind, but your presence — your true self.
          </li>
          
          <li>
            <strong>Mindfulness Practices for Daily Life:</strong><br>
            The <em>5 Senses Grounding Technique</em> helps anchor your awareness into the present moment:
            <ol>
              <li>Notice 5 things you can see.</li>
              <li>Notice 4 things you can touch.</li>
              <li>Notice 3 things you can hear.</li>
              <li>Notice 2 things you can smell.</li>
              <li>Notice 1 thing you can taste.</li>
            </ol>
            This exercise is especially helpful when feeling overwhelmed, anxious, or disconnected.
          </li>
          
          <li>
            <strong>Journaling for Clarity and Self-Discovery:</strong><br>
            Journaling acts as a mirror for the mind. There are two main approaches:
            <ul>
              <li><strong>Stream-of-Consciousness:</strong> Write continuously without censoring, allowing your deeper feelings and patterns to emerge.</li>
              <li><strong>Structured Reflection:</strong> Use prompts like:
                <ul>
                  <li>What did I feel most today and why?</li>
                  <li>What limiting thought showed up today?</li>
                  <li>What truth do I know deep down?</li>
                </ul>
              </li>
            </ul>
          </li>
          
          <li>
            <strong>Identifying Unconscious Patterns and Inherited Beliefs:</strong><br>
            The <em>3-Layer Belief Audit</em> helps uncover programming:
            <ol>
              <li><strong>Surface Beliefs:</strong> Thoughts you are aware of (e.g., "I'm not good at public speaking").</li>
              <li><strong>Hidden Beliefs:</strong> Conditioned ideas from family, culture, or religion (e.g., "Money is hard to earn").</li>
              <li><strong>Core Beliefs:</strong> Deep-rooted assumptions about self-worth and identity (e.g., "I'm not enough").</li>
            </ol>
            By questioning these beliefs, you create space to replace them with empowering truths.
          </li>
        </ul>
        
        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>5-Minute Breath + Journaling Meditation:</strong>  
            Sit quietly and focus on slow, deep breathing for 2-3 minutes, watching your breath.  
            As thoughts arise, notice them without judgment. After the breathwork, spend 2 minutes journaling your 
            thoughts or feelings without editing.
          </p>
        </div>
        
        <div class="key-quote">
          <p><em>"You are not your thoughts. You are the awareness behind them."</em></p>
        </div>
        
        <div class="module-complete">
          <input type="checkbox" id="completeModule1" data-module="1">
          <label for="completeModule1">Mark as complete</label>
        </div>
      </article>

      <!-- Module 2 -->
      <article id="module2">
        <h3>Module 2: Breaking the Illusion of Ego</h3>
        <h4>Theme: You Are Not Your Story</h4>
        <p>
          The ego is not who you are—it is a mask, a mental construct created from past experiences, 
          societal conditioning, and survival patterns. Your essence is timeless, beyond roles and labels. 
          This module guides you to recognize the difference between your conditioned self and your true Self, 
          and to begin loosening the grip of ego-driven narratives.
        </p>

        <ul>
          <li>
            <strong>Understanding Ego vs. Essence:</strong><br>
            The ego is the "constructed self," a collection of thoughts, memories, and identifications. 
            Your essence is the witnessing presence—the silent awareness that observes all experiences.
            <br><br>
            <em>Example:</em>  
            When you say "I am a teacher" or "I am a failure," you are speaking from ego-identification.  
            Your essence, however, is neither success nor failure—it is the unchanging observer behind those roles.
          </li>
          
          <li>
            <strong>The Trap of Roles, Labels, and Identity:</strong><br>
            Society teaches us to define ourselves by what we do, what we own, or how others see us. 
            But these are temporary. When we cling to these labels ("I am my job," "I am my trauma"), 
            we forget the deeper truth of our being.
            <br><br>
            <em>Key Reflection:</em>  
            Which labels or stories do you hold onto the most? Who would you be without these labels?
          </li>
          
          <li>
            <strong>The Silent Watcher:</strong><br>
            True freedom begins when you meet the silent awareness beyond thought and form. 
            This "silent watcher" is the same presence that noticed your first thought as a child 
            and will remain when all stories fall away.  
            <em>Practice:</em>  
            Throughout the day, pause and ask: "Who is aware of this thought?"
          </li>
          
          <li>
            <strong>Ego's Defense Mechanisms:</strong><br>
            Ego resists dissolution because it believes it is you. 
            It uses tactics such as:
            <ul>
              <li><strong>Spiritual Materialism:</strong> Turning spirituality into another identity ("I am more spiritual than them").</li>
              <li><strong>Projection:</strong> Blaming others to avoid looking inward.</li>
              <li><strong>Control & Comparison:</strong> Constantly seeking to feel superior or "right."</li>
            </ul>
            Awareness of these patterns is the first step to disarming them.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>"Who am I?" Self-Inquiry Meditation (10 min):</strong>  
            Sit in stillness. With each breath, ask "Who am I?" Observe each thought that arises 
            and let it go. Continue peeling back layers of identity (e.g., "I am not my job," 
            "I am not my name"), until you rest in the silent presence that remains.
            <br>
            <em>(Guided audio included in resources.)</em>
          </p>
        </div>

        <div class="key-quote">
          <p><em>"The ego dies when you realize you were never it."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule2" data-module="2">
          <label for="completeModule2">Mark as complete</label>
        </div>
      </article>

      <!-- Module 3 -->
      <article id="module3">
        <h3>Module 3: Entering the Now</h3>
        <h4>Theme: Presence is Power</h4>
        <p>
          Presence is the art of fully inhabiting this moment. Most of our suffering arises from either 
          dwelling on the past or worrying about the future. The mind thrives on time-based narratives, 
          but true power lives only in the eternal <strong>Now</strong>. In this module, we learn to anchor into presence, 
          opening the door to peace, clarity, and inner freedom.
        </p>

        <ul>
          <li>
            <strong>The Mind's Obsession with Past/Future:</strong><br>
            When we constantly replay past regrets or anticipate future outcomes, we create unnecessary suffering.  
            The past no longer exists except as memory; the future is only imagination. Presence frees you from both.  
            <br><br>
            <em>Key Practice:</em> When you notice a thought about the past or future, ask,  
            "Is this thought useful in this moment? Or is it just pulling me away from Now?"
          </li>

          <li>
            <strong>Anchoring in the Breath and Senses:</strong><br>
            The body is always here, in the present. By returning to the breath, the feel of the ground beneath your feet, 
            or the sensations in your hands, you reconnect with Now.  
            <br><br>
            <em>Quick Technique:</em> Take 3 deep breaths. With each exhale, silently say, "I am here."
          </li>

          <li>
            <strong>Listening as Meditation:</strong><br>
            Sound is a powerful anchor to presence. Whether it's birdsong, distant traffic, or the hum of your own breath, 
            simply listen—without labeling or judging.  
            <br><br>
            <em>Try This:</em> Sit quietly and focus on the most distant sound you can hear. Then, listen to the closest sound. 
            Let the layers of sound bring you into stillness.
          </li>

          <li>
            <strong>The Gap Between Thoughts:</strong><br>
            Between every thought there is a gap of pure awareness—still, silent, and free.  
            <br><br>
            <em>Mini Practice:</em> As you watch your thoughts, notice the brief space before the next one arises. 
            That space is your true Self—unchanging and infinite.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Presence Scan + Nature-Based Stillness:</strong><br>
            Spend 10 minutes outdoors. Feel your feet on the earth, notice the breeze, listen to natural sounds. 
            Slowly scan your body from head to toe, noticing where you hold tension. With every breath, release tension and deepen presence.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"The present moment is not just a place of peace. It is where your true power resides."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule3" data-module="3">
          <label for="completeModule3">Mark as complete</label>
        </div>
      </article>

      <!-- Module 4 -->
      <article id="module4">
        <h3>Module 4: Surrender & Emotional Alchemy</h3>
        <h4>Theme: Freedom Through Letting Go</h4>
        <p>
          Surrender is not weakness — it is the ultimate strength. It means releasing the need to control 
          life's unfolding and allowing reality to be as it is. Through surrender, we learn to process emotions 
          instead of suppressing them, transmuting pain into wisdom and resistance into peace.
        </p>

        <ul>
          <li>
            <strong>What is Surrender? (vs. Giving Up):</strong><br>
            Surrender is an act of conscious trust — a deep acceptance of what is, while still showing up 
            with intention and presence. Giving up, by contrast, is rooted in defeat and apathy.  
            <br><br>
            <em>Insight:</em> True surrender often feels like exhaling after holding your breath for too long.
          </li>

          <li>
            <strong>Allowing Emotions to Move:</strong><br>
            Emotions are like waves — they rise, peak, and pass if we allow them to flow. Suppression traps 
            these waves in the body, but allowing them to surface leads to healing.  
            <br><br>
            <em>Practice Tip:</em> When a heavy emotion arises, instead of labeling it as "bad," 
            try saying, "This is energy moving through me. I allow it to be here."
          </li>

          <li>
            <strong>The 3 Steps of Emotional Alchemy:</strong><br>
            <ol>
              <li><strong>Feel It:</strong> Drop into the body and locate where the emotion resides (e.g., tight chest, knotted stomach).</li>
              <li><strong>Name It:</strong> Identify the emotion without judgment ("This is anger," "This is grief").</li>
              <li><strong>Release It:</strong> Breathe into the sensation, visualizing it dissolving into light.</li>
            </ol>
          </li>

          <li>
            <strong>Forgiveness as Liberation:</strong><br>
            Forgiveness is not condoning harmful actions — it is freeing yourself from the weight of resentment.  
            <br><br>
            <em>Journal Prompt:</em> "What pain am I ready to release? How has holding onto this hurt affected me?"
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Surrender Breathwork (15 min):</strong><br>
            Lie down comfortably. Inhale deeply for 4 counts, hold for 2, then exhale slowly for 6 counts.  
            With each exhale, mentally repeat: "I release all resistance." Visualize tension leaving your body as dark smoke,  
            transforming into golden light with each breath.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"Peace comes not from controlling life, but from surrendering to it."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule4" data-module="4">
          <label for="completeModule4">Mark as complete</label>
        </div>
      </article>

      <!-- Module 5 -->
      <article id="module5">
        <h3>Module 5: The Illusion of Separation</h3>
        <h4>Theme: Remembering Oneness</h4>
        <p>
          The sense of being a separate "self" is the root of all suffering. This module explores the truth of  
          interconnectedness — how the boundaries we perceive between "self" and "other" are constructs of the mind.  
          As we dissolve these illusions, we awaken to our fundamental unity with all existence.
        </p>

        <ul>
          <li>
            <strong>Seeing Through the Veil of Duality:</strong><br>
            The mind categorizes reality into opposites: good/bad, light/dark, self/other.  
            But in truth, these are two sides of one whole.  
            <br><br>
            <em>Meditation:</em> Contemplate how every "opposite" depends on its counterpart to exist  
            (e.g., there is no "light" without "dark" to define it).
          </li>

          <li>
            <strong>The Mirror of Relationships:</strong><br>
            Every person reflects aspects of yourself — both the qualities you admire and those you judge.  
            <br><br>
            <em>Exercise:</em> Think of someone who irritates you. Ask: "What does this person show me about myself?  
            Where might I have similar patterns?"
          </li>

          <li>
            <strong>Nature as Teacher:</strong><br>
            Spend time observing how everything in nature exists in symbiotic relationship.  
            The tree "separate" from the soil is an illusion — they are one interconnected system.  
            <br><br>
            <em>Practice:</em> Sit with a plant or natural object. Sense its energy field merging with yours.
          </li>

          <li>
            <strong>Quantum Entanglement & Spiritual Connection:</strong><br>
            Modern physics confirms what mystics have always known — at the fundamental level,  
            all things are interconnected and influence each other across space and time.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Oneness Meditation (20 min):</strong><br>
            Visualize your consciousness expanding to include the room, the city, the planet,  
            and ultimately the entire cosmos. Feel that every being is a unique expression  
            of the same infinite consciousness.  
            <br><br>
            <em>Mantra:</em> "I am not in the universe — the universe is in me."
          </p>
        </div>

        <div class="key-quote">
          <p><em>"You are not a drop in the ocean. You are the entire ocean in a drop." — Rumi</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule5" data-module="5">
          <label for="completeModule5">Mark as complete</label>
        </div>
      </article>

      <!-- Module 6 -->
      <article id="module6">
        <h3>Module 6: Embodied Enlightenment</h3>
        <h4>Theme: Wisdom in Action</h4>
        <p>
          Awakening is not an escape from life, but a deeper engagement with it. This module bridges  
          spiritual insight with practical embodiment — how to live your realization in everyday moments,  
          relationships, and challenges.
        </p>

        <ul>
          <li>
            <strong>From Transcendence to Integration:</strong><br>
            Many seekers get "stuck" in transcendent states, avoiding worldly responsibilities.  
            True awakening embraces both form and formlessness.  
            <br><br>
            <em>Question:</em> "How can I bring more presence into my daily tasks?"
          </li>

          <li>
            <strong>The 4 Pillars of Embodied Awakening:</strong><br>
            <ol>
              <li><strong>Presence:</strong> Maintaining awareness during routine activities</li>
              <li><strong>Authenticity:</strong> Expressing your truth with compassion</li>
              <li><strong>Service:</strong> Seeing all actions as offerings</li>
              <li><strong>Surrender:</strong> Trusting life's unfolding</li>
            </ol>
          </li>

          <li>
            <strong>Shadow Work & Wholeness:</strong><br>
            Your "shadow" consists of disowned aspects of yourself. Integrating these brings profound healing.  
            <br><br>
            <em>Journal Prompt:</em> "What qualities do I judge harshly in others? How might these reflect  
            parts of myself I've rejected?"
          </li>

          <li>
            <strong>Sacred Mundanity:</strong><br>
            Enlightenment shines through ordinary moments — washing dishes, walking the dog, waiting in line.  
            <br><br>
            <em>Practice:</em> Choose one routine activity this week to perform with complete mindful attention.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Walking Meditation + Energy Grounding:</strong><br>
            Walk slowly, feeling each foot connect with the earth. With each step, visualize roots  
            extending from your feet into the earth's core, anchoring your awakened awareness into physical form.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"Before enlightenment, chop wood, carry water. After enlightenment, chop wood, carry water." — Zen Proverb</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule6" data-module="6">
          <label for="completeModule6">Mark as complete</label>
        </div>
      </article>

      <!-- Module 7 -->
      <article id="module7">
        <h3>Module 7: Living as Awareness</h3>
        <h4>Theme: The Unfolding Mystery</h4>
        <p>
          The final module is not an ending, but a new beginning — living from the recognition  
          that you are the awareness in which all experiences arise and pass away. Here, we explore  
          how to navigate life from this liberated perspective.
        </p>

        <ul>
          <li>
            <strong>The Dance of Form and Formlessness:</strong><br>
            You are both the wave (individual self) and the ocean (universal consciousness).  
            Awakening embraces this paradox — fully engaged in life while resting in timeless presence.  
            <br><br>
            <em>Meditation:</em> Alternate focus between your individual identity and the vast awareness  
            that contains it.
          </li>

          <li>
            <strong>Spontaneity & Flow:</strong><br>
            When identified with awareness, action arises from intuitive wisdom rather than conditioned thinking.  
            <br><br>
            <em>Practice:</em> For one day, pause before decisions and ask: "What arises from presence right now?"
          </li>

          <li>
            <strong>The Gift of Impermanence:</strong><br>
            All forms change — this is not a flaw, but the beauty of existence.  
            <br><br>
            <em>Contemplation:</em> Watch a sunset, noticing how each moment is perfectly complete even as it transforms.
          </li>

          <li>
            <strong>Beyond Seeking:</strong><br>
            The seeker dissolves into the found. Here, life becomes a playful exploration rather than  
            a problem to solve.  
            <br><br>
            <em>Question:</em> "What remains when I stop trying to become?"
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Open-Eye Awareness Meditation (30 min):</strong><br>
            Sit comfortably with eyes open, letting your gaze soften. Notice how all appearances —  
            objects, sounds, sensations — arise within your awareness like reflections in a mirror.  
            Rest as the mirror itself — clear, boundless, and undisturbed.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"You are not a person seeking enlightenment. You are enlightenment recognizing itself."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule7" data-module="7">
          <label for="completeModule7">Mark as complete</label>
        </div>
      </article>

      <!-- Bonus Content -->
      <div class="bonus-section">
        <h3>Bonus: The Alchemy of Consciousness</h3>
        <p>
          These bonus materials explore the deeper symbology of awakening and consciousness.
        </p>

        <ul>
          <li><strong>The Meditation:</strong> A guided visualization connecting with universal energy</li>
          <li><strong>Sacred Awareness:</strong> How to engage with daily life from a place of presence</li>
          <li><strong>AR Meditation Space:</strong> Activate the AR marker (button below) for an immersive experience</li>
        </ul>

        <button id="arToggleBtn" class="wisdom-cta" style="margin-top: 1.5rem;">
          Toggle AR Meditation Space
        </button>
      </div>

      <!-- Community Section -->
      <div class="community-section">
        <h3>Join the Wisdom Circle</h3>
        <p>
          Connect with fellow travelers on the path. Share insights, ask questions, and deepen your practice  
          in our community.
        </p>
        <ul>
          <li>Weekly wisdom shares</li>
          <li>Monthly live Q&A sessions</li>
          <li>Meditation gatherings</li>
        </ul>
        <button id="joinCommunityBtn" class="wisdom-cta" style="margin-top: 1.5rem;">
          Access Community Portal
        </button>
      </div>
    </div>
  </div>
  
  <!-- NFT Certificate (hidden by default) -->
  <div class="nft-certificate" id="nftCertificate">
    <div class="nft-image">☯</div>
    <h3>Certificate of Awakening</h3>
    <p>Presented to</p>
    <p id="certificateAddress"></p>
    <p>For completing the Path of Awakening course</p>
    <p>Issued on <span id="certificateDate"></span></p>
    <button id="mintNFTBtn" class="wisdom-cta" style="margin-top: 1.5rem;">
      Mint as NFT
    </button>
  </div>

<script>
  // Configuration
  const CONFIG = {
    KLY_CONTRACT: "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52",
    MIN_BALANCE: 500,
    erc20ABI: [
      "function balanceOf(address) view returns (uint256)",
      "function decimals() view returns (uint8)"
    ],
    NFT_IMAGE_URL: "https://example.com/nft-image.png"
  };

  // State management
  const state = {
    provider: null,
    signer: null,
    address: null,
    completedModules: JSON.parse(localStorage.getItem('completedModules')) || [],
    progress: parseInt(localStorage.getItem('progress')) || 0
  };

  // DOM Elements
  const elements = {
    loadingScreen: document.getElementById("loadingScreen"),
    courseContent: document.getElementById("courseContent"),
    progressBar: document.getElementById("progressBar"),
    progressText: document.getElementById("progressText"),
    walletStatus: document.getElementById("walletStatus"),
    connectWallet: document.getElementById("connectWallet"),
    startCourseBtn: document.getElementById("startCourseBtn"),
    arToggleBtn: document.getElementById("arToggleBtn"),
    arMarker: document.getElementById("arMarker"),
    nftCertificate: document.getElementById("nftCertificate"),
    certificateAddress: document.getElementById("certificateAddress"),
    certificateDate: document.getElementById("certificateDate"),
    mintNFTBtn: document.getElementById("mintNFTBtn")
  };

  // Initialize the application
  async function initApp() {
    try {
      // Initialize 3D background
      init3DBackground();
      
      // Set up event listeners
      setupEventListeners();
      
      // Check if wallet is already connected
      if (window.ethereum && window.ethereum.selectedAddress) {
        await connectWallet();
      }
      
      // Update progress from localStorage
      updateProgress(state.progress);
      
      // Hide loading screen after everything is initialized
      setTimeout(() => {
        elements.loadingScreen.style.opacity = '0';
        setTimeout(() => {
          elements.loadingScreen.style.display = 'none';
        }, 500);
      }, 1500);
    } catch (error) {
      console.error("Initialization error:", error);
      elements.loadingScreen.innerHTML = `
        <p style="color: var(--gold-primary);">Initialization failed. Please refresh the page.</p>
        <button onclick="window.location.reload()" class="wisdom-cta" style="margin-top: 1rem;">
          Refresh Page
        </button>
      `;
    }
  }

  // Set up all event listeners
  function setupEventListeners() {
    // Wallet connection
    elements.connectWallet.addEventListener("click", connectWallet);
    
    // Course navigation
    elements.startCourseBtn?.addEventListener("click", () => {
      scrollToElement("#courseContent");
    });
    
    // AR toggle
    elements.arToggleBtn?.addEventListener("click", toggleAR);
    
    // Module completion checkboxes
    document.querySelectorAll(".module-complete input[type='checkbox']").forEach(checkbox => {
      const moduleId = checkbox.dataset.module;
      checkbox.checked = state.completedModules.includes(moduleId);
      
      checkbox.addEventListener("change", function() {
        updateModuleCompletion(moduleId, this.checked);
      });
    });
    
    // Mint NFT button
    elements.mintNFTBtn?.addEventListener("click", mintCertificateNFT);
  }

  // Connect wallet function
  async function connectWallet() {
    try {
      if (!window.ethereum) {
        alert("Please install MetaMask or another Ethereum wallet to continue");
        return;
      }
      
      // Request account access
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      state.address = accounts[0];
      
      // Set up ethers provider and signer
      state.provider = new ethers.providers.Web3Provider(window.ethereum);
      state.signer = state.provider.getSigner();
      
      // Update UI
      elements.walletStatus.textContent = `Connected: ${state.address.slice(0, 6)}...${state.address.slice(-4)}`;
      elements.connectWallet.textContent = "Wallet Connected";
      
      // Check KLY balance
      await checkKLYBalance();
      
      // Set up event listener for account changes
      window.ethereum.on('accountsChanged', (newAccounts) => {
        if (newAccounts.length === 0) {
          // Wallet disconnected
          state.address = null;
          elements.walletStatus.textContent = "";
          elements.connectWallet.textContent = "Connect Wallet to Unlock";
          elements.courseContent.style.display = "none";
        } else {
          // Account changed
          state.address = newAccounts[0];
          elements.walletStatus.textContent = `Connected: ${state.address.slice(0, 6)}...${state.address.slice(-4)}`;
          checkKLYBalance();
        }
      });
    } catch (error) {
      console.error("Wallet connection error:", error);
      elements.walletStatus.textContent = "❌ Wallet connection failed";
      elements.walletStatus.style.color = "#ff6b6b";
    }
  }

  // Check KLY token balance
  async function checkKLYBalance() {
    try {
      const token = new ethers.Contract(CONFIG.KLY_CONTRACT, CONFIG.erc20ABI, state.provider);
      const rawBalance = await token.balanceOf(state.address);
      const decimals = await token.decimals();
      const balance = parseFloat(ethers.utils.formatUnits(rawBalance, decimals));
      
      if (balance >= CONFIG.MIN_BALANCE) {
        elements.courseContent.style.display = "block";
        elements.walletStatus.textContent += ` | ✅ ${balance.toFixed(2)} KLY — Access Granted`;
        showCertificateIfCompleted();
      } else {
        elements.courseContent.style.display = "none";
        elements.walletStatus.textContent += ` | ❌ ${balance.toFixed(2)} KLY — Minimum 500 KLY required`;
      }
    } catch (error) {
      console.error("Balance check failed:", error);
      elements.walletStatus.textContent += " | Error checking balance";
    }
  }

  // Update module completion status
  function updateModuleCompletion(moduleId, isCompleted) {
    if (isCompleted) {
      if (!state.completedModules.includes(moduleId)) {
        state.completedModules.push(moduleId);
      }
      document.getElementById(`module${moduleId}`).classList.add("completed");
    } else {
      state.completedModules = state.completedModules.filter(id => id !== moduleId);
      document.getElementById(`module${moduleId}`).classList.remove("completed");
    }
    
    // Save to localStorage
    localStorage.setItem('completedModules', JSON.stringify(state.completedModules));
    
    // Update progress
    const totalModules = 7;
    const newProgress = Math.round((state.completedModules.length / totalModules) * 100);
    updateProgress(newProgress);
    
    // Show certificate if all modules completed
    if (state.completedModules.length === totalModules) {
      showCertificateIfCompleted();
    }
  }

  // Update progress bar
  function updateProgress(percent) {
    state.progress = percent;
    localStorage.setItem('progress', percent.toString());
    elements.progressBar.style.width = `${percent}%`;
    elements.progressText.textContent = `${percent}% Complete`;
  }

  // Show certificate if all modules are completed
  function showCertificateIfCompleted() {
    if (state.completedModules.length === 7 && state.address) {
      elements.certificateAddress.textContent = `${state.address.slice(0, 6)}...${state.address.slice(-4)}`;
      elements.certificateDate.textContent = new Date().toLocaleDateString();
      elements.nftCertificate.style.display = "block";
      scrollToElement("#nftCertificate");
    }
  }

  // Mint certificate as NFT
  async function mintCertificateNFT() {
    if (!state.signer) {
      alert("Please connect your wallet first");
      return;
    }
    
    try {
      elements.mintNFTBtn.textContent = "Minting...";
      elements.mintNFTBtn.disabled = true;
      
      // In a real implementation, you would call your NFT contract here
      // This is just a simulation
      await new Promise(resolve => setTimeout(resolve, 2000));
      
      alert("🎉 Certificate NFT minted successfully!");
      elements.mintNFTBtn.textContent = "Mint as NFT";
      elements.mintNFTBtn.disabled = false;
    } catch (error) {
      console.error("Minting error:", error);
      alert("Failed to mint NFT. Please try again.");
      elements.mintNFTBtn.textContent = "Mint as NFT";
      elements.mintNFTBtn.disabled = false;
    }
  }

  // Toggle AR marker visibility
  function toggleAR() {
    elements.arMarker.style.display = elements.arMarker.style.display === "none" ? "block" : "none";
  }

  // Scroll to element with smooth behavior
  function scrollToElement(selector) {
    const element = document.querySelector(selector);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  // Initialize 3D background
  function init3DBackground() {
    const container = document.getElementById("cosmicContainer");
    
    // Scene setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);
    
    // Sacred geometry
    const geometry = new THREE.IcosahedronGeometry(2, 1);
    const material = new THREE.MeshBasicMaterial({ 
      color: 0xD4AF37, 
      wireframe: true, 
      transparent: true, 
      opacity: 0.3 
    });
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);
    
    // Particles
    const particles = new THREE.BufferGeometry();
    const particleCount = 1000;
    const pos = new Float32Array(particleCount * 3);
    const colors = new Float32Array(particleCount * 3);
    
    for (let i = 0; i < particleCount; i++) {
      pos[i * 3] = (Math.random() - 0.5) * 100;
      pos[i * 3 + 1] = (Math.random() - 0.5) * 100;
      pos[i * 3 + 2] = (Math.random() - 0.5) * 100;
      
      colors[i * 3] = 0.8 + Math.random() * 0.2; // R
      colors[i * 3 + 1] = 0.6 + Math.random() * 0.2; // G
      colors[i * 3 + 2] = 0.1 + Math.random() * 0.1; // B
    }
    
    particles.setAttribute('position', new THREE.BufferAttribute(pos, 3));
    particles.setAttribute('color', new THREE.BufferAttribute(colors, 3));
    
    const particleMaterial = new THREE.PointsMaterial({
      size: 0.2,
      vertexColors: true,
      transparent: true,
      opacity: 0.8
    });
    
    const particleSystem = new THREE.Points(particles, particleMaterial);
    scene.add(particleSystem);
    camera.position.z = 5;
    
    // Animation loop
    function animate() {
      requestAnimationFrame(animate);
      mesh.rotation.x += 0.001;
      mesh.rotation.y += 0.002;
      particleSystem.rotation.y += 0.0005;
      renderer.render(scene, camera);
    }
    
    animate();
    
    // Handle window resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  }

  // Initialize the app when DOM is loaded
  document.addEventListener("DOMContentLoaded", initApp);
</script>
</body>
</html>
