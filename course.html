<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3modal@1.9.12/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Transformational 7-module course on self-realization for KLY token holders">
  <title>KLY Path of Awakening</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;700&family=EB+Garamond:ital@0;1&family=Orbitron:wght@700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --gold-light: #f9e076;
      --gold-primary: #d4af37;
      --gold-dark: #8a6d0b;
      --teal-light: #00ffe7;
      --teal-dark: #007a6d;
      --bg-dark: #0a0a0f;
      --bg-darker: #050508;
      --text-light: #f0f0f0;
      --text-muted: rgba(200, 200, 200, 0.6);
      --module-bg: rgba(20, 20, 30, 0.8);
      --module-complete: rgba(212, 175, 55, 0.1);
    }
    
    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-dark);
      color: var(--text-light);
      font-family: 'EB Garamond', serif;
      overflow-x: hidden;
      line-height: 1.6;
    }
    
    /* Sacred Geometry Background */
    .cosmic-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.08;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    /* Hero Section */
    .wisdom-hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      padding: 4rem 2rem;
      background: radial-gradient(ellipse at center, var(--bg-dark) 0%, var(--bg-darker) 100%);
    }
    
    .kly-logo {
      position: absolute;
      top: 2rem;
      left: 2rem;
      width: 120px;
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }
    
    .kly-logo:hover {
      opacity: 1;
    }
    
    .title-container {
      text-align: center;
      position: relative;
      margin-bottom: 4rem;
    }
    
    .title-decoration {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, var(--gold-primary) 15%, var(--gold-primary) 85%, transparent 100%);
    }
    
    .title-decoration.top {
      top: -2rem;
    }
    
    .title-decoration.bottom {
      bottom: -2rem;
    }
    
    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 300;
      font-size: clamp(2.5rem, 5vw, 5rem);
      letter-spacing: 0.5rem;
      margin: 0;
      text-transform: uppercase;
      position: relative;
    }
    
    .gold-gradient {
      background: linear-gradient(135deg, var(--gold-light), var(--gold-primary), var(--gold-dark));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 400;
    }
    
    .subtitle {
      font-size: clamp(1rem, 1.5vw, 1.2rem);
      color: var(--text-muted);
      letter-spacing: 0.1rem;
      margin-top: 1.5rem;
      max-width: 600px;
      line-height: 1.6;
    }
    
    .serif-italic {
      font-style: italic;
      color: var(--gold-primary);
    }
    
    .kly-token {
      font-family: 'Courier New', monospace;
      color: var(--teal-light);
      position: relative;
      cursor: help;
    }
    
    .kly-token:hover::after {
      content: "Key to Wisdom";
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(5, 5, 8, 0.9);
      color: var(--gold-light);
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      font-size: 0.8rem;
      white-space: nowrap;
      border: 1px solid var(--gold-dark);
    }
    
    /* CTA Button */
    .cta-container {
      position: relative;
      margin-top: 3rem;
      text-align: center;
    }
    
    .wisdom-cta {
      background: transparent;
      color: var(--gold-primary);
      border: 1px solid rgba(200, 160, 100, 0.3);
      padding: 1.2rem 3rem;
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.1rem;
      letter-spacing: 0.2rem;
      position: relative;
      overflow: hidden;
      transition: all 0.5s ease;
      backdrop-filter: blur(5px);
      cursor: pointer;
    }
    
    .wisdom-cta:hover {
      border-color: rgba(200, 160, 100, 0.6);
      background: rgba(20, 15, 5, 0.3);
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
    }
    
    .wisdom-cta::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(200, 160, 100, 0.1), transparent);
      transition: 0.7s;
    }
    
    .wisdom-cta:hover::before {
      left: 100%;
    }
    
    .cta-icon {
      margin-left: 0.8rem;
      font-size: 1.2rem;
      display: inline-block;
      transition: transform 0.3s ease;
    }
    
    .wisdom-cta:hover .cta-icon {
      transform: rotate(45deg);
    }
    
    .disclaimer {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 1.5rem;
      letter-spacing: 0.05rem;
      opacity: 0.7;
    }
    
    /* Animated Triquetra */
    .triquetra {
      position: absolute;
      width: 120px;
      height: 120px;
      opacity: 0;
      transition: opacity 1s ease;
      pointer-events: none;
    }
    
    .triquetra path {
      stroke: var(--gold-primary);
      stroke-width: 1.5;
      fill: none;
      stroke-dasharray: 300;
      stroke-dashoffset: 300;
      animation: draw 8s infinite alternate;
    }
    
    @keyframes draw {
      0% { stroke-dashoffset: 300; opacity: 0.3; }
      50% { stroke-dashoffset: 0; opacity: 0.7; }
      100% { stroke-dashoffset: -300; opacity: 0.3; }
    }
    
    /* Course Content */
    #courseContent {
      text-align: left;
      max-width: 900px;
      margin: 4rem auto;
      opacity: 0;
      height: 0;
      overflow: hidden;
      transition: opacity 0.5s ease, height 0.5s ease;
    }
    
    #courseContent.visible {
      opacity: 1;
      height: auto;
    }
    
    h2 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 400;
      font-size: 2.5rem;
      color: var(--gold-primary);
      margin: 3rem 0 1.5rem;
      position: relative;
    }
    
    h2::after {
      content: "";
      display: block;
      width: 100px;
      height: 1px;
      background: linear-gradient(90deg, var(--gold-primary), transparent);
      margin-top: 1rem;
    }
    
    h3 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 400;
      font-size: 1.8rem;
      color: var(--teal-light);
      margin: 2rem 0 1rem;
    }
    
    h4 {
      font-family: 'EB Garamond', serif;
      font-style: italic;
      font-size: 1.2rem;
      color: var(--gold-primary);
      margin: 1.5rem 0 0.5rem;
    }
    
    article {
      background: var(--module-bg);
      border-left: 2px solid var(--gold-primary);
      padding: 2rem;
      margin-bottom: 3rem;
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(5px);
    }
    
    article:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 25px rgba(0, 0, 0, 0.5);
    }
    
    article.completed {
      border-left-color: var(--teal-light);
      background: var(--module-complete);
    }
    
    article.completed::after {
      content: '✓';
      position: absolute;
      top: 1rem;
      right: 1rem;
      color: var(--teal-light);
      font-weight: bold;
      font-size: 1.5rem;
    }
    
    p {
      margin: 1rem 0;
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    ul, ol {
      margin: 1.5rem 0;
      padding-left: 1.5rem;
    }
    
    li {
      margin-bottom: 1rem;
      position: relative;
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    li:before {
      content: '•';
      color: var(--gold-primary);
      position: absolute;
      left: -1.2rem;
    }
    
    strong {
      color: var(--gold-primary);
      font-weight: 400;
    }
    
    em {
      color: var(--teal-light);
      font-style: italic;
    }
    
    .practice-box {
      background: rgba(0, 255, 231, 0.05);
      border-left: 2px solid var(--teal-light);
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 0 8px 8px 0;
    }
    
    .practice-box h4 {
      color: var(--teal-light);
    }
    
    .bonus-section {
      background: rgba(212, 175, 55, 0.05);
      border: 1px solid rgba(212, 175, 55, 0.2);
      padding: 2rem;
      border-radius: 8px;
      margin: 4rem 0;
    }
    
    .bonus-section h3 {
      color: var(--gold-primary);
    }
    
    .module-complete {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      margin-top: 2rem;
      color: var(--gold-primary);
    }
    
    .module-complete input {
      cursor: pointer;
      width: 20px;
      height: 20px;
      accent-color: var(--gold-primary);
    }
    
    .module-complete label {
      font-family: 'EB Garamond', serif;
      font-size: 1.1rem;
      cursor: pointer;
    }
    
    .key-quote {
      font-style: italic;
      color: var(--gold-primary);
      border-left: 2px solid var(--gold-primary);
      padding-left: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Progress Tracking */
    .progress-container {
      width: 100%;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      margin: 3rem 0;
      overflow: hidden;
      position: relative;
      height: 6px;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--gold-primary), var(--teal-light));
      width: 0%;
      transition: width 1s ease;
      position: relative;
    }
    
    .progress-text {
      position: absolute;
      right: 0;
      top: -2rem;
      font-size: 0.9rem;
      color: var(--text-muted);
    }
    
    /* Wallet Connection */
    .wallet-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    
    .wallet-address {
      font-family: monospace;
      background: rgba(255, 255, 255, 0.1);
      padding: 0.8rem 1.5rem;
      border-radius: 5px;
      font-size: 0.9rem;
      word-break: break-all;
    }
    
    .disconnect-btn {
      background: rgba(212, 175, 55, 0.1);
      border: 1px solid var(--gold-primary);
      color: var(--gold-primary);
      padding: 0.8rem 1.5rem;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'EB Garamond', serif;
      font-size: 0.9rem;
    }
    
    .disconnect-btn:hover {
      background: rgba(212, 175, 55, 0.2);
    }
    
    #status {
      margin-top: 1rem;
      font-weight: bold;
      color: var(--teal-light);
      min-height: 1.5rem;
    }
    
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: var(--teal-light);
      animation: spin 1s ease-in-out infinite;
      margin-left: 10px;
      vertical-align: middle;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .hidden {
      display: none;
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .container {
        padding: 0 1.5rem;
      }
      
      h1 {
        font-size: 2.2rem;
        letter-spacing: 0.3rem;
      }
      
      h2 {
        font-size: 2rem;
      }
      
      h3 {
        font-size: 1.5rem;
      }
      
      article {
        padding: 1.5rem;
      }
      
      .wisdom-cta {
        padding: 1rem 2rem;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Sacred Geometry Background -->
  <canvas id="cosmicCanvas" class="cosmic-canvas"></canvas>
  
  <div class="container">
    <!-- Hero Section -->
    <section class="wisdom-hero">
      <img src="kly-logo.svg" alt="Kelly Legacy Estates" class="kly-logo">
      
      <div class="title-container">
        <div class="title-decoration top"></div>
        <h1>The Path of <span class="gold-gradient">Awakening</span></h1>
        <div class="title-decoration bottom"></div>
        <p class="subtitle">A <span class="serif-italic">transformational</span> journey for those who hold <span class="kly-token">500+ KLY</span> tokens. The ancient wisdom meets blockchain consciousness.</p>
      </div>
      
      <div class="cta-container">
        <button id="connectWalletBtn" class="wisdom-cta">
          <span class="cta-text">Initiate Journey</span>
          <span class="cta-icon">⌾</span>
        </button>
        <p class="disclaimer">For seekers holding the alchemical keys</p>
        
        <!-- Animated Triquetra (hidden until connection) -->
        <svg id="triquetra" class="triquetra" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M50,15 L65,50 L50,85 L35,50 L50,15 M20,65 L50,50 L80,65 L65,50 L80,35 L50,50 L20,35 L35,50 L20,65"/>
        </svg>
      </div>
    </section>

    <!-- Wallet Connection Info -->
    <div id="connect-section">
      <div id="walletConnected" class="wallet-info hidden">
        <span class="wallet-address" id="walletAddress"></span>
        <button class="disconnect-btn" id="disconnectWalletBtn">Disconnect</button>
      </div>
      <p id="status"></p>
      <div class="progress-container hidden" id="progressContainer">
        <div class="progress-bar" id="progressBar"></div>
        <span class="progress-text" id="progressText">0% Complete</span>
      </div>
    </div>
    
    <!-- Course Content (Hidden until wallet connection) -->
    <div id="courseContent">
      <h2>The Path of Awakening: Dissolving Illusion & Living in Truth</h2>
      <p>This 7-module course is a transformational journey into self-realization, presence, and embodied truth. Each module builds upon the last, guiding you through progressive stages of awakening.</p>
      
      <!-- Module 1 -->
      <article id="module1">
        <h3>Module 1: Foundations of Self-Awareness</h3>
        <h4>Theme: Becoming the Observer</h4>
        <p>
          Self-awareness is the foundation of awakening. It's the ability to step out of the stream of unconscious thoughts and emotions, 
          observing them without judgment. When you become the observer, you stop identifying with the mental chatter and start to see 
          your true nature beyond the mind.
        </p>
        
        <ul>
          <li>
            <strong>What is self-awareness?</strong><br>
            Self-awareness is the conscious recognition of your thoughts, emotions, and behaviors as they arise. 
            It's the difference between being <em>lost in thought</em> (where your mind runs on autopilot) and 
            <em>observing thought</em> (where you witness thoughts like clouds passing through the sky).
            <br><br>
            <em>Key Insight:</em> The "I" that observes is not your mind, but your presence — your true self.
          </li>
          
          <li>
            <strong>Mindfulness Practices for Daily Life:</strong><br>
            The <em>5 Senses Grounding Technique</em> helps anchor your awareness into the present moment:
            <ol>
              <li>Notice 5 things you can see.</li>
              <li>Notice 4 things you can touch.</li>
              <li>Notice 3 things you can hear.</li>
              <li>Notice 2 things you can smell.</li>
              <li>Notice 1 thing you can taste.</li>
            </ol>
            This exercise is especially helpful when feeling overwhelmed, anxious, or disconnected.
          </li>
          
          <li>
            <strong>Journaling for Clarity and Self-Discovery:</strong><br>
            Journaling acts as a mirror for the mind. There are two main approaches:
            <ul>
              <li><strong>Stream-of-Consciousness:</strong> Write continuously without censoring, allowing your deeper feelings and patterns to emerge.</li>
              <li><strong>Structured Reflection:</strong> Use prompts like:
                <ul>
                  <li>What did I feel most today and why?</li>
                  <li>What limiting thought showed up today?</li>
                  <li>What truth do I know deep down?</li>
                </ul>
              </li>
            </ul>
          </li>
          
          <li>
            <strong>Identifying Unconscious Patterns and Inherited Beliefs:</strong><br>
            The <em>3-Layer Belief Audit</em> helps uncover programming:
            <ol>
              <li><strong>Surface Beliefs:</strong> Thoughts you are aware of (e.g., "I'm not good at public speaking").</li>
              <li><strong>Hidden Beliefs:</strong> Conditioned ideas from family, culture, or religion (e.g., "Money is hard to earn").</li>
              <li><strong>Core Beliefs:</strong> Deep-rooted assumptions about self-worth and identity (e.g., "I'm not enough").</li>
            </ol>
            By questioning these beliefs, you create space to replace them with empowering truths.
          </li>
        </ul>
        
        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>5-Minute Breath + Journaling Meditation:</strong>  
            Sit quietly and focus on slow, deep breathing for 2-3 minutes, watching your breath.  
            As thoughts arise, notice them without judgment. After the breathwork, spend 2 minutes journaling your 
            thoughts or feelings without editing.
          </p>
        </div>
        
        <div class="key-quote">
          <p><em>"You are not your thoughts. You are the awareness behind them."</em></p>
        </div>
        
        <div class="module-complete">
          <input type="checkbox" id="completeModule1" data-module="1">
          <label for="completeModule1">Mark as complete</label>
        </div>
      </article>

      <!-- Module 2 -->
      <article id="module2">
        <h3>Module 2: Breaking the Illusion of Ego</h3>
        <h4>Theme: You Are Not Your Story</h4>
        <p>
          The ego is not who you are—it is a mask, a mental construct created from past experiences, 
          societal conditioning, and survival patterns. Your essence is timeless, beyond roles and labels. 
          This module guides you to recognize the difference between your conditioned self and your true Self, 
          and to begin loosening the grip of ego-driven narratives.
        </p>

        <ul>
          <li>
            <strong>Understanding Ego vs. Essence:</strong><br>
            The ego is the "constructed self," a collection of thoughts, memories, and identifications. 
            Your essence is the witnessing presence—the silent awareness that observes all experiences.
            <br><br>
            <em>Example:</em>  
            When you say "I am a teacher" or "I am a failure," you are speaking from ego-identification.  
            Your essence, however, is neither success nor failure—it is the unchanging observer behind those roles.
          </li>
          
          <li>
            <strong>The Trap of Roles, Labels, and Identity:</strong><br>
            Society teaches us to define ourselves by what we do, what we own, or how others see us. 
            But these are temporary. When we cling to these labels ("I am my job," "I am my trauma"), 
            we forget the deeper truth of our being.
            <br><br>
            <em>Key Reflection:</em>  
            Which labels or stories do you hold onto the most? Who would you be without these labels?
          </li>
          
          <li>
            <strong>The Silent Watcher:</strong><br>
            True freedom begins when you meet the silent awareness beyond thought and form. 
            This "silent watcher" is the same presence that noticed your first thought as a child 
            and will remain when all stories fall away.  
            <em>Practice:</em>  
            Throughout the day, pause and ask: "Who is aware of this thought?"
          </li>
          
          <li>
            <strong>Ego's Defense Mechanisms:</strong><br>
            Ego resists dissolution because it believes it is you. 
            It uses tactics such as:
            <ul>
              <li><strong>Spiritual Materialism:</strong> Turning spirituality into another identity ("I am more spiritual than them").</li>
              <li><strong>Projection:</strong> Blaming others to avoid looking inward.</li>
              <li><strong>Control & Comparison:</strong> Constantly seeking to feel superior or "right."</li>
            </ul>
            Awareness of these patterns is the first step to disarming them.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>"Who am I?" Self-Inquiry Meditation (10 min):</strong>  
            Sit in stillness. With each breath, ask "Who am I?" Observe each thought that arises 
            and let it go. Continue peeling back layers of identity (e.g., "I am not my job," 
            "I am not my name"), until you rest in the silent presence that remains.
            <br>
            <em>(Guided audio included in resources.)</em>
          </p>
        </div>

        <div class="key-quote">
          <p><em>"The ego dies when you realize you were never it."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule2" data-module="2">
          <label for="completeModule2">Mark as complete</label>
        </div>
      </article>

      <!-- Module 3 -->
      <article id="module3">
        <h3>Module 3: Entering the Now</h3>
        <h4>Theme: Presence is Power</h4>
        <p>
          Presence is the art of fully inhabiting this moment. Most of our suffering arises from either 
          dwelling on the past or worrying about the future. The mind thrives on time-based narratives, 
          but true power lives only in the eternal <strong>Now</strong>. In this module, we learn to anchor into presence, 
          opening the door to peace, clarity, and inner freedom.
        </p>

        <ul>
          <li>
            <strong>The Mind's Obsession with Past/Future:</strong><br>
            When we constantly replay past regrets or anticipate future outcomes, we create unnecessary suffering.  
            The past no longer exists except as memory; the future is only imagination. Presence frees you from both.  
            <br><br>
            <em>Key Practice:</em> When you notice a thought about the past or future, ask,  
            "Is this thought useful in this moment? Or is it just pulling me away from Now?"
          </li>

          <li>
            <strong>Anchoring in the Breath and Senses:</strong><br>
            The body is always here, in the present. By returning to the breath, the feel of the ground beneath your feet, 
            or the sensations in your hands, you reconnect with Now.  
            <br><br>
            <em>Quick Technique:</em> Take 3 deep breaths. With each exhale, silently say, "I am here."
          </li>

          <li>
            <strong>Listening as Meditation:</strong><br>
            Sound is a powerful anchor to presence. Whether it's birdsong, distant traffic, or the hum of your own breath, 
            simply listen—without labeling or judging.  
            <br><br>
            <em>Try This:</em> Sit quietly and focus on the most distant sound you can hear. Then, listen to the closest sound. 
            Let the layers of sound bring you into stillness.
          </li>

          <li>
            <strong>The Gap Between Thoughts:</strong><br>
            Between every thought there is a gap of pure awareness—still, silent, and free.  
            <br><br>
            <em>Mini Practice:</em> As you watch your thoughts, notice the brief space before the next one arises. 
            That space is your true Self—unchanging and infinite.
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Presence Scan + Nature-Based Stillness:</strong><br>
            Spend 10 minutes outdoors. Feel your feet on the earth, notice the breeze, listen to natural sounds. 
            Slowly scan your body from head to toe, noticing where you hold tension. With every breath, release tension and deepen presence.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"The present moment is not just a place of peace. It is where your true power resides."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule3" data-module="3">
          <label for="completeModule3">Mark as complete</label>
        </div>
      </article>

      <!-- Module 4 -->
      <article id="module4">
        <h3>Module 4: Surrender & Emotional Alchemy</h3>
        <h4>Theme: Freedom Through Letting Go</h4>
        <p>
          Surrender is not weakness — it is the ultimate strength. It means releasing the need to control 
          life's unfolding and allowing reality to be as it is. Through surrender, we learn to process emotions 
          instead of suppressing them, transmuting pain into wisdom and resistance into peace.
        </p>

        <ul>
          <li>
            <strong>What is Surrender? (vs. Giving Up):</strong><br>
            Surrender is an act of conscious trust — a deep acceptance of what is, while still showing up 
            with intention and presence. Giving up, by contrast, is rooted in defeat and apathy.  
            <br><br>
            <em>Insight:</em> True surrender often feels like exhaling after holding your breath for too long.
          </li>

          <li>
            <strong>Allowing Emotions to Move:</strong><br>
            Emotions are like waves — they rise, peak, and pass if we allow them to flow. Suppression traps 
            these waves in the body, but allowing them to surface leads to healing.  
            <br><br>
            <em>Practice Tip:</em> When a heavy emotion arises, instead of labeling it as "bad," 
            silently say, "I welcome this feeling. I allow it to pass through me."
          </li>

          <li>
            <strong>Accepting Impermanence:</strong><br>
            Everything in life is transient — joy, pain, seasons, and even identities. Suffering arises 
            when we resist this natural flow. Acceptance opens the heart to peace.  
            <br><br>
            <em>Reflection Question:</em> Which current situation in your life are you resisting, 
            and what would shift if you embraced its impermanence?
          </li>

          <li>
            <strong>The Art of Non-Attachment:</strong><br>
            Non-attachment is not detachment. It's the ability to fully enjoy life, people, and moments 
            without clinging or demanding they stay the same.  
            <br><br>
            <em>Mantra:</em> "I honor what comes, I release what goes, and I trust what remains."
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Guided Emotion-Release Meditation:</strong><br>
            A 10-minute body scan meditation to feel and release tension, where you breathe deeply into 
            any areas of tightness and allow suppressed emotions to surface and dissolve.  
            <em>(Audio file provided in resources.)</em>
          </p>
        </div>

        <div class="key-quote">
          <p><em>"Surrender is not about losing control; it's about trusting the flow of life to carry you."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule4" data-module="4">
          <label for="completeModule4">Mark as complete</label>
        </div>
      </article>

      <!-- Module 5 -->
      <article id="module5">
        <h3>Module 5: The Reality of Oneness</h3>
        <h4>Theme: Beyond Separation</h4>
        <p>
          The sense of separation is the root illusion of human suffering. 
          When we see life as "me vs. them," we fall into conflict, judgment, and fear. 
          True awakening reveals that all beings, all experiences, and all forms 
          are expressions of the same universal consciousness. In this module, we dissolve the illusion 
          of duality and step into the reality of interconnectedness.
        </p>

        <ul>
          <li>
            <strong>The Illusion of Duality:</strong><br>
            We are taught to see life through subject-object perception: "I am here, and the world is out there."  
            But this division is mental, not real. Consciousness is the field in which all experiences arise — 
            there is no true boundary between self and other.  
            <br><br>
            <em>Insight:</em> Just as a wave is never separate from the ocean, you are never separate from the Source.
          </li>

          <li>
            <strong>Recognizing the Self in Others:</strong><br>
            Everyone you meet is a mirror, reflecting parts of you — both the light and the shadow.  
            By practicing <strong>mirror work</strong> and noticing your projections, you deepen your awareness of the 
            shared consciousness that links all beings.  
            <br><br>
            <em>Practice Tip:</em> When triggered by someone, ask:  
            "What is this person reflecting about me that I have yet to accept or integrate?"
          </li>

          <li>
            <strong>Compassion as Practice:</strong><br>
            Compassion is the direct recognition of oneness. When you feel the suffering of others as your own, 
            the illusion of separation begins to dissolve.  
            <br><br>
            <em>Reflection:</em> Start with small acts of empathy — listening deeply, forgiving quickly, and 
            silently wishing others well.
          </li>

          <li>
            <strong>Interconnected Systems:</strong><br>
            All life forms and ecosystems exist in a web of interdependence. What you do to another, 
            you ultimately do to yourself.  
            <br><br>
            <em>Key Question:</em> How does my energy, intention, and action ripple out into the larger field of life?
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
         <p>
            <strong>Oneness Meditation (15 min):</strong><br>
            Sit quietly and visualize roots extending from your body into the earth, connecting you to all life.  
            Then, expand your awareness outward—feeling the air you share with others, the energy that flows between beings.  
            Contemplate how every breath you take is part of a greater exchange with the world.  
            <em>(Guided audio included in resources.)</em>
          </p>
        </div>

        <div class="key-quote">
          <p><em>"We are not drops in the ocean. We are the ocean in drops."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule5" data-module="5">
          <label for="completeModule5">Mark as complete</label>
        </div>
      </article>

      <!-- Module 6 -->
      <article id="module6">
        <h3>Module 6: Living in Truth</h3>
        <h4>Theme: Embodied Enlightenment</h4>
        <p>
          Awakening is not just about peak experiences—it's about how you live day to day.  
          This module bridges spiritual insight with practical living, helping you align your actions,  
          relationships, and purpose with your deepest truth.
        </p>

        <ul>
          <li>
            <strong>Authenticity Over Approval:</strong><br>
            Many people dim their light to fit in or avoid conflict. True freedom comes when you  
            prioritize inner alignment over external validation.  
            <br><br>
            <em>Practice:</em> Notice where you hold back your truth to please others.  
            Start with small, honest expressions and build from there.
          </li>

          <li>
            <strong>Right Action vs. Ego-Driven Action:</strong><br>
            Actions rooted in presence feel effortless and aligned. Ego-driven actions often come  
            from fear, lack, or the need to prove something.  
            <br><br>
            <em>Check-in Question:</em> "Is this action coming from love or fear? From fullness or lack?"
          </li>

          <li>
            <strong>Shadow Integration:</strong><br>
            Your "shadow" represents the disowned parts of yourself—qualities you deny or suppress.  
            Integrating these aspects (anger, vulnerability, power) leads to wholeness.  
            <br><br>
            <em>Exercise:</em> When you judge someone harshly, ask: "What does this say about a quality  
            I might be denying in myself?"
          </li>

          <li>
            <strong>Service as Sacred Practice:</strong><br>
            True service arises naturally from the recognition of oneness. It's not about being  
            "selfless," but about expressing your true nature through contribution.  
            <br><br>
            <em>Reflection:</em> How can your unique gifts serve the awakening of collective consciousness?
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Daily Alignment Check-In:</strong><br>
            Each morning, ask:  
            "How can I live more authentically today?"  
            Each evening, reflect:  
            "Where did I act from truth? Where did I hold back?"  
            Journal your observations without judgment.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"Enlightenment is not about becoming special. It's about realizing you were never separate."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule6" data-module="6">
          <label for="completeModule6">Mark as complete</label>
        </div>
      </article>

      <!-- Module 7 -->
      <article id="module7">
        <h3>Module 7: The Eternal Journey</h3>
        <h4>Theme: Beyond Awakening</h4>
        <p>
          Awakening is not a destination—it's a continuous unfolding. This final module explores  
          how to navigate the paradox of seeking while knowing there's nothing to attain, and how  
          to live with an open heart in an ever-changing world.
        </p>

        <ul>
          <li>
            <strong>The Paradox of Seeking:</strong><br>
            Even the desire for enlightenment can become a trap. True awakening often happens  
            when you stop trying to "get" anywhere and simply rest in being.  
            <br><br>
            <em>Insight:</em> "You are already what you seek."
          </li>

          <li>
            <strong>Cycles of Expansion & Integration:</strong><br>
            Spiritual growth moves in spirals—periods of profound insight followed by phases  
            of integration. Both are necessary.  
            <br><br>
            <em>Reminder:</em> If you feel like you've "lost" your awakening, you haven't.  
            You're just integrating it at deeper levels.
          </li>

          <li>
            <strong>Embracing the Mystery:</strong><br>
            The mind wants answers, but true wisdom lives in the questions. Learn to  
            embrace not-knowing as the highest knowing.  
            <br><br>
            <em>Practice:</em> When faced with uncertainty, say: "I don't need to figure this out.  
            I trust the intelligence of life to guide me."
          </li>

          <li>
            <strong>Death as the Ultimate Teacher:</strong><br>
            Contemplating mortality isn't morbid—it's liberating. Remembering that  
            everything ends helps you cherish each moment and live with greater presence.  
            <br><br>
            <em>Reflection:</em> "If this were my last year, how would I live differently?"
          </li>
        </ul>

        <div class="practice-box">
          <h4>Practice</h4>
          <p>
            <strong>Gratitude & Letting Go Ritual:</strong><br>
            Each night, write down:  
            1) What you're grateful for from the day  
            2) What you're ready to release  
            Then, burn or tear up the "release" paper as a symbolic act of surrender.
          </p>
        </div>

        <div class="key-quote">
          <p><em>"The journey doesn't end—it deepens. There is no final awakening, only infinite layers of homecoming."</em></p>
        </div>

        <div class="module-complete">
          <input type="checkbox" id="completeModule7" data-module="7">
          <label for="completeModule7">Mark as complete</label>
        </div>
      </article>

      <!-- Bonus Section -->
      <div class="bonus-section">
        <h3>Bonus: Integration & Living Practice</h3>
        <p>
          True transformation happens through consistent practice. Here are additional tools  
          to support your ongoing awakening journey:
        </p>

        <ul>
          <li>
            <strong>Morning Presence Ritual:</strong><br>
            Before checking your phone, spend 5 minutes in silence—feeling your breath,  
            setting an intention, or simply being.
          </li>

          <li>
            <strong>Conscious Communication:</strong><br>
            Practice listening fully without preparing your response. Notice how this  
            changes your relationships.
          </li>

          <li>
            <strong>Nature as Mirror:</strong><br>
            Spend time in nature observing how everything—trees, clouds, animals—lives  
            in perfect presence. Let it remind you of your own natural state.
          </li>

          <li>
            <strong>Digital Detox:</strong><br>
            Regular periods of disconnection create space for reconnection with yourself.
          </li>
        </ul>

        <h4>Recommended Resources</h4>
        <ul>
          <li><em>The Power of Now</em> by Eckhart Tolle</li>
          <li><em>Be Here Now</em> by Ram Dass</li>
          <li><em>The Untethered Soul</em> by Michael Singer</li>
          <li><em>Awakening the Buddha Within</em> by Lama Surya Das</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    // Cosmic Background Animation
    const canvas = document.getElementById('cosmicCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Sacred Geometry Parameters
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const maxRadius = Math.min(canvas.width, canvas.height) * 0.4;
    const goldenRatio = (1 + Math.sqrt(5)) / 2;

    function drawSacredGeometry() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = `rgba(212, 175, 55, 0.3)`;
      ctx.lineWidth = 1.2;

      // Flower of Life
      const circles = 6;
      const radius = maxRadius * 0.3;
      
      for (let i = 0; i < circles; i++) {
        const angle = (i * Math.PI * 2) / circles;
        const x = centerX + Math.cos(angle) * radius;
        const y = centerY + Math.sin(angle) * radius;
        
        ctx.beginPath();
        ctx.arc(x, y, radius, 0, Math.PI * 2);
        ctx.stroke();
      }

      // Metatron's Cube
      ctx.beginPath();
      const cubeSize = maxRadius * 0.15;
      const points = [];
      
      for (let i = 0; i < 6; i++) {
        const angle = (i * Math.PI * 2) / 6;
        points.push({
          x: centerX + Math.cos(angle) * cubeSize,
          y: centerY + Math.sin(angle) * cubeSize
        });
      }
      
      // Connect all points
      for (let i = 0; i < points.length; i++) {
        for (let j = 0; j < points.length; j++) {
          ctx.moveTo(points[i].x, points[i].y);
          ctx.lineTo(points[j].x, points[j].y);
        }
      }
      ctx.stroke();

      // Golden Spiral
      ctx.beginPath();
      let spiralRadius = 5;
      let theta = 0;
      const turns = 5;
      const segments = 100;
      
      for (let i = 0; i <= segments; i++) {
        theta = (i / segments) * Math.PI * 2 * turns;
        spiralRadius = 5 * Math.pow(goldenRatio, (theta / (Math.PI * 2)));
        
        const x = centerX + Math.cos(theta) * spiralRadius;
        const y = centerY + Math.sin(theta) * spiralRadius;
        
        if (i === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      ctx.stroke();
    }

    // Animate the background
    let angle = 0;
    function animate() {
      ctx.save();
      ctx.translate(centerX, centerY);
      ctx.rotate(angle * 0.0005);
      ctx.translate(-centerX, -centerY);
      drawSacredGeometry();
      ctx.restore();
      angle++;
      requestAnimationFrame(animate);
    }

    // Handle window resize
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      drawSacredGeometry();
    });

    // Initialize
    drawSacredGeometry();
    animate();

    // Wallet Connection Logic
    let provider;
    let web3Modal;
    let selectedAccount;

    // Initialize Web3Modal
function initWeb3Modal() {
  const providerOptions = {
    walletconnect: {
      package: WalletConnectProvider.default, // Use `.default` if you're using UMD bundle
      options: {
        rpc: {
          56: "https://bsc-dataseed.binance.org/" // BSC Mainnet RPC
        },
        chainId: 56
      }
    }
  };

  const web3Modal = new Web3Modal.default({
    cacheProvider: true,
    providerOptions
  });

  return web3Modal;
}

    // Connect Wallet
    async function connectWallet() {
      const statusElement = document.getElementById('status');
      statusElement.innerHTML = 'Connecting... <span class="loading"></span>';

      try {
        provider = await web3Modal.connect();
        const web3Provider = new ethers.providers.Web3Provider(provider);
        const accounts = await web3Provider.listAccounts();
        
        if (accounts.length > 0) {
          selectedAccount = accounts[0];
          onWalletConnected(selectedAccount);
          checkKLYBalance(web3Provider, selectedAccount);
        } else {
          statusElement.textContent = 'No accounts found. Please try again.';
        }
      } catch (error) {
        console.error('Error connecting wallet:', error);
        statusElement.textContent = 'Error connecting wallet. Please try again.';
      }
    }

    // Disconnect Wallet
    function disconnectWallet() {
      if (provider && provider.close) {
        provider.close();
      }
      web3Modal.clearCachedProvider();
      selectedAccount = null;
      
      document.getElementById('walletConnected').classList.add('hidden');
      document.getElementById('connectWalletBtn').classList.remove('hidden');
      document.getElementById('status').textContent = '';
      document.getElementById('courseContent').classList.remove('visible');
      document.getElementById('progressContainer').classList.add('hidden');
      document.getElementById('triquetra').style.opacity = '0';
    }

    // Wallet Connected Handler
    function onWalletConnected(address) {
      const shortAddress = `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;
      
      document.getElementById('walletAddress').textContent = shortAddress;
      document.getElementById('walletConnected').classList.remove('hidden');
      document.getElementById('connectWalletBtn').classList.add('hidden');
      document.getElementById('triquetra').style.opacity = '0.6';
    }

    // Check KLY Token Balance
    async function checkKLYBalance(web3Provider, address) {
      const statusElement = document.getElementById('status');
      statusElement.innerHTML = 'Checking KLY balance... <span class="loading"></span>';

      // KLY Token Contract Address (replace with actual KLY contract address)
      const klyContractAddress = "0x123...abc"; 
      
      // Minimum required KLY balance (500 tokens)
      const minBalance = ethers.utils.parseUnits("500", 18); // Assuming 18 decimals
      
      try {
        // ABI for balanceOf function
        const abi = ["function balanceOf(address owner) view returns (uint256)"];
        const contract = new ethers.Contract(klyContractAddress, abi, web3Provider);
        
        const balance = await contract.balanceOf(address);
        
        if (balance.gte(minBalance)) {
          statusElement.textContent = '✅ You hold sufficient KLY tokens. Access granted.';
          showCourseContent();
          loadProgress();
        } else {
          statusElement.textContent = '❌ You need at least 500 KLY tokens to access this content.';
        }
      } catch (error) {
        console.error('Error checking balance:', error);
        statusElement.textContent = 'Error checking KLY balance. Please try again.';
      }
    }

    // Show Course Content
    function showCourseContent() {
      document.getElementById('courseContent').classList.add('visible');
      document.getElementById('progressContainer').classList.remove('hidden');
    }

    // Load and Track Progress
    function loadProgress() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"][data-module]');
      const progressBar = document.getElementById('progressBar');
      const progressText = document.getElementById('progressText');
      
      checkboxes.forEach(checkbox => {
        // Load saved state from localStorage
        const moduleId = checkbox.getAttribute('data-module');
        const isComplete = localStorage.getItem(`module-${moduleId}-complete`) === 'true';
        
        if (isComplete) {
          checkbox.checked = true;
          checkbox.closest('article').classList.add('completed');
        }
        
        // Add event listener
        checkbox.addEventListener('change', function() {
          const article = this.closest('article');
          
          if (this.checked) {
            article.classList.add('completed');
            localStorage.setItem(`module-${this.getAttribute('data-module')}-complete`, 'true');
          } else {
            article.classList.remove('completed');
            localStorage.setItem(`module-${this.getAttribute('data-module')}-complete`, 'false');
          }
          
          updateProgress();
        });
      });
      
      updateProgress();
      
      function updateProgress() {
        const completed = document.querySelectorAll('input[type="checkbox"][data-module]:checked').length;
        const total = checkboxes.length;
        const percentage = Math.round((completed / total) * 100);
        
        progressBar.style.width = `${percentage}%`;
        progressText.textContent = `${percentage}% Complete`;
      }
    }

    // Event Listeners
    document.addEventListener('DOMContentLoaded', () => {
      initWeb3Modal();
      
      document.getElementById('connectWalletBtn').addEventListener('click', connectWallet);
      document.getElementById('disconnectWalletBtn').addEventListener('click', disconnectWallet);
      
      // Check if wallet is already connected
      if (web3Modal.cachedProvider) {
        connectWallet();
      }
    });

    // Handle account changes
    if (window.ethereum) {
      window.ethereum.on('accountsChanged', (accounts) => {
        if (accounts.length === 0) {
          // Wallet disconnected
          disconnectWallet();
        } else {
          // Account changed
          selectedAccount = accounts[0];
          onWalletConnected(selectedAccount);
          const web3Provider = new ethers.providers.Web3Provider(provider);
          checkKLYBalance(web3Provider, selectedAccount);
        }
      });
    }
  </script>
</body>
</html>
