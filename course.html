<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KLY Legacy Course</title>
  <style>
    body {
      background-color: #0c0c0c;
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 2rem;
      text-align: center;
    }
    section {
      background: #111;
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem auto;
      max-width: 700px;
      box-shadow: 0 0 15px #00ffe066;
    }
    button {
      background: #00ffe0;
      color: #000;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
    }
    .hidden { display: none; }
    h2 { color: #00ffe0; }
    .status { margin-top: 1rem; font-weight: bold; color: #0f0; }
  </style>
</head>
<body>

<section id="accessPanel">
  <h2>KLY Legacy Course</h2>
  <p>Complete the journey. Unlock legacy knowledge. Mint your NFT certification.</p>
  <button onclick="connectWallet()">Connect Wallet</button>
  <button onclick="verifyAccess()">Verify Access (500 KLY)</button>
  <p id="accessStatus" class="status"></p>
</section>

<section id="courseContent" class="hidden">
  <div id="module1" class="hidden">
 <h2 class="module-title">Module 1: Web3 Foundations</h2>
    <p class="module-text">Web3 is more than a buzzword—it's a paradigm shift in how the internet functions, where users become owners. In this foundational module, you'll explore what makes Web3 different from Web1 (static content) and Web2 (platform-dominated networks). Learn how decentralized systems remove intermediaries, shifting control and value back to individuals. You'll understand blockchain mechanics, public/private keys, wallets, and consensus models.</p>
    <p class="module-text">We explore how decentralization challenges existing systems and how tools like ENS, IPFS, and Soulbound tokens redefine ownership and identity. This module gives you the mental framework and technical grounding to navigate Web3 with clarity and purpose.</p>
    <button onclick="showNextModule(2)">Next</button>
  </div>

  <div id="module2" class="hidden">
    <h2 class="module-title">Module 2: Tokenization</h2>
    <p class="module-text">Tokenization transforms digital assets into programmable, transferable units of value. You'll dive into the mechanics of creating your own token, from ERC-20 and ERC-721 to supply, minting, burning, and liquidity. Learn how tokens can serve as access, equity, incentive, or utility tools within your project.</p>
    <p class="module-text">You’ll explore tokenomics strategy: how to align incentives with user behavior, design fair distributions, and build sustainable ecosystems. Case studies will show real-world application, while legal and regulatory factors help ground your plan in reality.</p>
    <button onclick="showNextModule(3)">Next</button>
  </div>

  <div id="module3" class="hidden">
      <h2 class="module-title">Module 3: Smart Contracts</h2>
    <p class="module-text">Smart contracts are autonomous code that execute automatically when conditions are met. You’ll learn how they replace intermediaries to facilitate trustless agreements. Explore how smart contracts are built in Solidity, what functions they include, and how they power NFTs, DAOs, DeFi, and token models. See how logic becomes code—and code becomes money.</p>
    <p class="module-text">Security is essential. This module covers reentrancy, exploits, and audits. You’ll also explore no-code solutions like Thirdweb and OpenZeppelin, enabling non-devs to deploy contracts safely. This is where your project gains automation, trust, and scale.</p>
    <button onclick="showNextModule(4)">Next</button>
  </div>

  <div id="module4" class="hidden">
      <h2 class="module-title">Module 4: DeFi, Credit & Capital</h2>
    <p class="module-text">Decentralized Finance allows you to access capital, borrow, lend, and earn—without banks. Learn how Aave, Uniswap, Compound, and stablecoins work. Understand liquidity pools, automated market makers (AMMs), and how to use your assets without selling them.</p>
    <p class="module-text">You’ll also learn how to build a Web3-native credit profile and treasury strategy using Gnosis Safe, yield aggregators, and reputation systems. This module helps you think like a decentralized CFO—building systems for sustainable financial growth.</p>
    <button onclick="showNextModule(5)">Next</button>
  </div>

  <div id="module5" class="hidden">
   <h2 class="module-title">Module 5: Ownership & Legacy</h2>
    <p class="module-text">Digital legacy is about preserving control over your assets, identity, and creations. Learn how to structure your estate with multisig wallets, DAOs, and on-chain trusts. Discover how to plan inheritance, succession, and privacy using decentralized identity and encrypted access.</p>
    <p class="module-text">We’ll explore NFT wills, family DAOs, and long-term token storage. Whether you’re preserving wealth or intellectual property, this module helps you build a plan that lasts—and honors your legacy beyond the blockchain.</p>
    <button onclick="showNextModule('mint')">Complete Course</button>
  </div>

  <div id="mintSection" class="hidden">
    <h3>Claim Your NFT Certificate</h3>
    <button onclick="mintNFT()">Mint NFT</button>
    <p id="mintStatus" class="status"></p>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
<script>
  const KLY_TOKEN = "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52";
  const KLY_ABI = [{
    constant: true,
    inputs: [{ name: "account", type: "address" }],
    name: "balanceOf",
    outputs: [{ name: "", type: "uint256" }],
    type: "function"
  }];
  let wallet;

  async function connectWallet() {
    if (!window.ethereum) return alert("Please install MetaMask");
    const web3 = new Web3(window.ethereum);
    await window.ethereum.request({ method: "eth_requestAccounts" });
    const accounts = await web3.eth.getAccounts();
    wallet = accounts[0];
    document.getElementById("accessStatus").innerText = "Wallet connected: " + wallet.slice(0,6) + "..." + wallet.slice(-4);
  }

  async function verifyAccess() {
    if (!wallet) return alert("Connect your wallet first.");
    const web3 = new Web3(window.ethereum);
    const contract = new web3.eth.Contract(KLY_ABI, KLY_TOKEN);
    const balance = await contract.methods.balanceOf(wallet).call();
    const balanceEth = web3.utils.fromWei(balance, "ether");
    if (parseFloat(balanceEth) >= 500) {
      document.getElementById("accessPanel").classList.add("hidden");
      document.getElementById("courseContent").classList.remove("hidden");
      document.getElementById("module1").classList.remove("hidden");
    } else {
      document.getElementById("accessStatus").innerText = "Access Denied: You only hold " + balanceEth + " KLY";
    }
  }

  function showNextModule(id) {
    if (typeof id === 'number') {
      document.getElementById("module" + (id - 1)).classList.add("hidden");
      document.getElementById("module" + id).classList.remove("hidden");
    } else if (id === 'mint') {
      document.getElementById("module5").classList.add("hidden");
      document.getElementById("mintSection").classList.remove("hidden");
    }
  }

  function mintNFT() {
    document.getElementById("mintStatus").innerText = "Minting feature coming soon...";
  }
</script>

</body>
</html>
