<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spiritual Wealth Codes</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Rajdhani&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a; --fg:#e0e0e0; --ink:#ccc;
      --pink:#ff00aa; --cyan:#00ffe7; --glass:rgba(255,255,255,.03);
      --line:rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    body{
      background:var(--bg); color:var(--fg);
      font-family:'Rajdhani',sans-serif; margin:0; padding:1.25rem;
    }
    header{margin-top:.25rem}
    h1{
      text-align:center; color:var(--pink);
      font-size:2.4rem; font-family:'Orbitron',sans-serif;
      text-shadow:0 0 12px var(--pink); margin:1.5rem 0 .75rem;
    }
    .sub{
      text-align:center; color:#9ad; opacity:.85; margin-bottom:1rem; font-size:.95rem;
    }
    /* Tabs */
    .tabs{
      display:flex; gap:.5rem; flex-wrap:wrap; justify-content:center; margin:1rem auto .5rem;
      max-width:1100px;
    }
    .tab{
      padding:.6rem 1rem; border-radius:10px; border:1px solid var(--line);
      background:linear-gradient(135deg, rgba(0,255,231,.2), rgba(255,0,170,.15));
      color:#fff; cursor:pointer; font-weight:700; letter-spacing:.5px;
      box-shadow:0 0 10px rgba(0,255,231,.15);
      user-select:none; transition:transform .08s ease;
    }
    .tab[aria-selected="true"]{outline:2px solid var(--cyan)}
    .tab:active{transform:scale(.98)}
    .wrap{max-width:1100px; margin:0 auto}
    /* Code nav */
    .code-nav{ text-align:center; margin-top:1rem }
    .nav-button{
      padding:.55rem .95rem; font-weight:700; border-radius:10px;
      background:linear-gradient(135deg,var(--cyan),var(--pink));
      border:none; color:#000; font-size:.95rem; cursor:pointer; margin:.25rem;
      box-shadow:0 0 12px rgba(0,255,231,.25);
    }
    .progress{
      margin:1rem auto 0; max-width:800px; height:8px; border-radius:8px;
      background:var(--line); overflow:hidden;
    }
    .progress > div{height:100%; width:0%; background:linear-gradient(90deg,var(--cyan),var(--pink))}
    /* Cards */
    .module-card{
      display:none; background:var(--glass); padding:2rem; border:1px solid var(--pink);
      border-radius:12px; max-width:800px; margin:1.25rem auto;
    }
    .module-card.active{display:block}
    .module-title{
      font-size:1.5rem; font-family:'Orbitron',sans-serif; color:var(--cyan); margin-bottom:.8rem;
    }
    .module-content{ font-size:1.08rem; line-height:1.7; color:var(--ink) }
    h3{margin:.8rem 0 .25rem; color:#e8e8e8}
    ul{margin:.25rem 0 .75rem 1.25rem}
    li{margin:.25rem 0}
    blockquote{ border-left:4px solid var(--cyan); padding-left:1rem; color:#aaa; margin-top:1rem }
    .module-next{
      display:inline-block; margin-top:1.25rem; background:linear-gradient(135deg,var(--cyan),var(--pink));
      padding:.9rem 1.4rem; border-radius:10px; color:#0a0a0a; font-weight:800; text-decoration:none;
      box-shadow:0 0 15px rgba(0,255,231,.4); cursor:pointer;
    }
    /* Applied Wealth section */
    .section{display:none; padding:1.25rem 0}
    .section.active{display:block}
    .grid{
      display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      margin:1rem auto; max-width:1100px;
    }
    .panel{
      background:var(--glass); border:1px solid var(--line); border-radius:12px; padding:1rem 1.1rem;
    }
    .panel h4{font-family:'Orbitron',sans-serif; color:var(--cyan); margin:.2rem 0 .6rem}
    .soft{color:#bfbfbf; font-size:.95rem}
    .table{
      width:100%; border-collapse:collapse; font-size:.98rem;
    }
    .table th,.table td{border:1px solid var(--line); padding:.55rem .6rem}
    .pill{
      display:inline-block; padding:.35rem .6rem; border-radius:999px;
      background:linear-gradient(135deg, rgba(0,255,231,.15), rgba(255,0,170,.12));
      border:1px solid var(--line); margin:.15rem .25rem; font-size:.86rem;
    }
    .row{display:flex; gap:.5rem; flex-wrap:wrap; align-items:center}
    input, textarea{
      width:100%; background:#0f0f0f; border:1px solid var(--line); color:var(--fg);
      border-radius:8px; padding:.6rem .7rem; font-family:inherit; font-size:1rem;
    }
    .btn{
      padding:.6rem 1rem; border-radius:10px; border:1px solid var(--line);
      background:linear-gradient(135deg,var(--cyan),var(--pink)); color:#000; font-weight:800; cursor:pointer;
    }
    .micro{font-size:.86rem; color:#a9a9a9}
    .footer-note{ text-align:center; color:#9b9b9b; margin:1.25rem 0 .5rem; font-size:.9rem }
    /* Accessibility helpers */
    .sr{position:absolute; left:-9999px}
    @media (max-width:520px){
      h1{font-size:2rem}
      .nav-button{font-size:.9rem}
    }
  </style>
</head>
<body>

<header class="wrap">
  <h1>Spiritual Wealth Codes</h1>
  <p class="sub">Embodiment > Effort • Presence > Pressure • Alignment > Hustle</p>
  <div class="tabs" role="tablist" aria-label="Sections">
    <button class="tab" role="tab" aria-selected="true" aria-controls="codes" id="tab-codes">Wealth Codes</button>
    <button class="tab" role="tab" aria-selected="false" aria-controls="applied" id="tab-applied">Applied Wealth</button>
  </div>
</header>

<main class="wrap">
  <!-- ===== Wealth Codes ===== -->
  <section id="codes" class="section active" role="tabpanel" aria-labelledby="tab-codes">
    <div class="code-nav" id="codeNav">
      <!-- Buttons auto-rendered by JS for 1–12 -->
    </div>
    <div class="progress" aria-label="Progress">
      <div id="progressFill"></div>
    </div>

    <!-- Codes 1–12 -->
    <!-- Code 1 -->
    <article id="swc1" class="module-card active" data-index="1">
      <div class="module-title">Code 1: Money Is Frequency</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Money mirrors resonance. Embody worthiness and circulation begins. Embody fear and the flow constricts.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Do I treat money as energy or as survival?</li>
          <li>What tone do I project when I spend?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I do not chase currency — I become the current.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc2">Next: Clearing the Poverty Program</a>
        </div>
      </div>
    </article>

    <!-- Code 2 -->
    <article id="swc2" class="module-card" data-index="2">
      <div class="module-title">Code 2: Clearing the Poverty Program</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Inherited beliefs script outcomes. Rewire wealth by releasing shame and lack from the bloodline and body.</p>
        <h3>Reflection</h3>
        <ul>
          <li>What did my lineage model about money?</li>
          <li>Do I link wealth with guilt or with stewardship?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I return all lack programming to sender.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc3">Next: Divine Exchange</a>
        </div>
      </div>
    </article>

    <!-- Code 3 -->
    <article id="swc3" class="module-card" data-index="3">
      <div class="module-title">Code 3: Divine Exchange</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Energy never leaves — it changes hands. Sacred reciprocity multiplies what’s given in alignment.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Is my offer birthed from soul or survival?</li>
          <li>Where do I resist receiving?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“My gifts are sacred, and I receive in divine measure.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc4">Next: Higher Self CEO</a>
        </div>
      </div>
    </article>

    <!-- Code 4 -->
    <article id="swc4" class="module-card" data-index="4">
      <div class="module-title">Code 4: Higher Self CEO</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Intuition is the operating system. Strategy lands after alignment, not before.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Am I moving from pressure or presence?</li>
          <li>What would my Higher Self build today?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I take divine direction, not desperate action.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc5">Next: Ancient Wealth Systems</a>
        </div>
      </div>
    </article>

    <!-- Code 5 -->
    <article id="swc5" class="module-card" data-index="5">
      <div class="module-title">Code 5: Ancient Wealth Systems</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Our ancestors measured wealth in harmony, land, craft, and access — not hoarding. Remember sacred commerce.</p>
        <h3>Reflection</h3>
        <ul>
          <li>What did the Moors, Nubians, and Kemites model about wealth?</li>
          <li>How can I re-pattern my exchange around value and virtue?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I reclaim the wealth systems of my bloodline.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc6">Next: Claiming the Estate</a>
        </div>
      </div>
    </article>

    <!-- Code 6 -->
    <article id="swc6" class="module-card" data-index="6">
      <div class="module-title">Code 6: Claiming the Estate</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Your estate is jurisdiction: legal, energetic, creative. Move from debtor identity to sovereign stewardship.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Under what name do I receive my inheritance?</li>
          <li>Is my wealth privately held or publicly exposed?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I am the living heir; what was hidden is now restored.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc7">Next: Crystalline Currency</a>
        </div>
      </div>
    </article>

    <!-- Code 7 -->
    <article id="swc7" class="module-card" data-index="7">
      <div class="module-title">Code 7: Crystalline Currency Activation</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>You are the vault. Ideas are promissory notes from Source waiting to crystallize through embodiment.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Which codes haven’t I executed in form?</li>
          <li>Where am I dimming broadcast power?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I am the oracle, the offer, and the overflow.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc8">Next: Time Wealth</a>
        </div>
      </div>
    </article>

    <!-- Code 8 -->
    <article id="swc8" class="module-card" data-index="8">
      <div class="module-title">Code 8: Time Wealth</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Time is your most liquid asset. Buy back hours before buying more hustle. High-leverage > high-effort.</p>
        <h3>Reflection</h3>
        <ul>
          <li>What 20% creates 80% of my outcomes?</li>
          <li>What can be automated, delegated, deleted?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I invest time where compound impact lives.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc9">Next: Nervous System Capacity</a>
        </div>
      </div>
    </article>

    <!-- Code 9 -->
    <article id="swc9" class="module-card" data-index="9">
      <div class="module-title">Code 9: Nervous System Capacity</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Income expands to the level your body can safely hold. Regulate, then scale.</p>
        <h3>Reflection</h3>
        <ul>
          <li>What revenue level feels safe in my body today?</li>
          <li>What somatic practices expand that window?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I earn at the speed of safety and truth.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc10">Next: Pricing as Prayer</a>
        </div>
      </div>
    </article>

    <!-- Code 10 -->
    <article id="swc10" class="module-card" data-index="10">
      <div class="module-title">Code 10: Pricing as Prayer</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Price is a boundary and a blessing. It signals the container needed for transformation.</p>
        <h3>Reflection</h3>
        <ul>
          <li>Does my price honor the result, cost, and capacity?</li>
          <li>What tiered paths make ascension simple?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“My price is a promise to the work.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc11">Next: Multiplying Streams</a>
        </div>
      </div>
    </article>

    <!-- Code 11 -->
    <article id="swc11" class="module-card" data-index="11">
      <div class="module-title">Code 11: Multiplying Streams</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>One message, many mediums. Repurpose signal into products, services, licensing, and royalties.</p>
        <h3>Reflection</h3>
        <ul>
          <li>How can one scroll become five assets?</li>
          <li>Where can I earn while I sleep?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I design streams that sing without me.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc12">Next: Sacred Reserves</a>
        </div>
      </div>
    </article>

    <!-- Code 12 -->
    <article id="swc12" class="module-card" data-index="12">
      <div class="module-title">Code 12: Sacred Reserves</div>
      <div class="module-content">
        <h3>Essence</h3>
        <p>Cash, energy, and attention reserves create sovereign choices. Liquidity is spiritual freedom.</p>
        <h3>Reflection</h3>
        <ul>
          <li>What % of revenue becomes reserves by default?</li>
          <li>What is my minimum energetic reserve each week?</li>
        </ul>
        <h3>Activation</h3>
        <blockquote>“I protect the storehouse; abundance protects me.”</blockquote>
        <div style="text-align:center;">
          <a class="module-next" data-next="swc1">Return to Code 1</a>
        </div>
      </div>
    </article>
  </section>

  <!-- ===== Applied Wealth ===== -->
  <section id="applied" class="section" role="tabpanel" aria-labelledby="tab-applied">
    <div class="grid">
      <!-- 7-Day Protocol -->
      <div class="panel">
        <h4>7-Day Protocol: Embodied Prosperity</h4>
        <ol class="soft">
          <li><b>Day 1 — Audit:</b> 30-min energetic & spending audit. Tag: <span class="pill">Expand</span> / <span class="pill">Neutral</span> / <span class="pill">Drain</span>.</li>
          <li><b>Day 2 — Offer Clarity:</b> Write 1 offer promise, process, proof.</li>
          <li><b>Day 3 — Price Prayer:</b> Breathe 4-7-8 x 7 rounds; set tiers (Entry / Core / Ascension).</li>
          <li><b>Day 4 — Stream Split:</b> Repurpose 1 asset into 3 formats.</li>
          <li><b>Day 5 — Nervous System:</b> 11-min somatic: box breath + humming + shaking.</li>
          <li><b>Day 6 — Sacred Reserve:</b> Auto-move % to reserves (suggest 10–30%).</li>
          <li><b>Day 7 — Reciprocity:</b> Give value to 3 people, ask 1 direct invitation.</li>
        </ol>
        <p class="micro">Mark days complete below:</p>
        <div class="row" id="daysRow"></div>
      </div>

      <!-- Offer Matrix Template -->
      <div class="panel">
        <h4>Offer Matrix (Copy & Refine)</h4>
        <table class="table" id="offerTable" aria-label="Offer matrix">
          <thead>
            <tr><th>Tier</th><th>Promise</th><th>Delivery</th><th>Price</th></tr>
          </thead>
          <tbody>
            <tr><td>Entry</td><td>Quick win / activation</td><td>PDF + mini-workshop</td><td>$</td></tr>
            <tr><td>Core</td><td>Main transformation</td><td>Cohort / 1:1 / Portal</td><td>$$$</td></tr>
            <tr><td>Ascension</td><td>Legacy level</td><td>Mastermind / License</td><td>$$$$$</td></tr>
          </tbody>
        </table>
        <div class="row">
          <button class="btn" id="downloadCSV">Download CSV</button>
          <span class="micro">Edit cells directly, then export.</span>
        </div>
      </div>

      <!-- Money Alchemy Ritual -->
      <div class="panel">
        <h4>Money Alchemy Ritual (11:00)</h4>
        <p class="soft">Breath + focus + spoken activation. Use daily to regulate capacity and anchor Code 9.</p>
        <div class="row">
          <button class="btn" id="startTimer">Start</button>
          <button class="btn" id="pauseTimer">Pause</button>
          <button class="btn" id="resetTimer">Reset</button>
          <span id="timerReadout" class="pill" aria-live="polite">11:00</span>
        </div>
        <blockquote id="ritualLine">“I earn at the speed of safety and truth.”</blockquote>
        <div class="row">
          <button class="btn" id="shuffleAffirm">Shuffle Affirmation</button>
          <button class="btn" id="copyAffirm">Copy</button>
        </div>
      </div>

      <!-- Wealth Ledger (Local) -->
      <div class="panel">
        <h4>Wealth Ledger (Private to This Device)</h4>
        <p class="soft">Track inflow/outflow and notes (saved to your browser only).</p>
        <div class="row">
          <input id="wlDate" type="date" aria-label="Date">
          <input id="wlType" placeholder="Type (inflow/outflow)" aria-label="Type">
          <input id="wlAmt" placeholder="Amount" aria-label="Amount">
        </div>
        <textarea id="wlNote" rows="3" placeholder="Notes (signal, lesson, next aligned action)"></textarea>
        <div class="row" style="margin-top:.5rem">
          <button class="btn" id="addLedger">Add Entry</button>
          <button class="btn" id="exportLedger">Export JSON</button>
          <span class="micro" id="ledgerCount">0 entries</span>
        </div>
        <div id="ledgerList" class="soft" style="margin-top:.5rem; max-height:220px; overflow:auto"></div>
      </div>
    </div>
    <p class="footer-note">Tip: Press ◀ / ▶ to move between codes. Deep-link with <code>#swc7</code>, etc.</p>
  </section>
</main>

<script>
  // ---------- Helpers / State ----------
  const codeIds = Array.from({length:12}, (_,i)=>`swc${i+1}`);
  const progressFill = document.getElementById('progressFill');
  const state = {
    current: 'swc1',
    seen: new Set(JSON.parse(localStorage.getItem('swc_seen')||'[]'))
  };

  function saveSeen(){
    localStorage.setItem('swc_seen', JSON.stringify([...state.seen]));
  }
  function setProgress(){
    const pct = (state.seen.size / codeIds.length) * 100;
    progressFill.style.width = pct + '%';
    progressFill.title = `${Math.round(pct)}% complete`;
  }

  // ---------- Code Nav ----------
  const codeNav = document.getElementById('codeNav');
  codeIds.forEach((id,i)=>{
    const btn=document.createElement('button');
    btn.className='nav-button';
    btn.textContent=`Code ${i+1}`;
    btn.addEventListener('click',()=>showModule(id,true));
    codeNav.appendChild(btn);
  });

  function showModule(id, pushHash=false){
    document.querySelectorAll('.module-card').forEach(c=>c.classList.remove('active'));
    const el=document.getElementById(id);
    if(!el) return;
    el.classList.add('active');
    state.current=id;
    state.seen.add(id);
    saveSeen(); setProgress();
    if(pushHash) history.replaceState(null,'',`#${id}`);
    // Focus first heading for a11y
    const h = el.querySelector('.module-title'); if(h) h.focus?.();
  }

  // next buttons
  document.querySelectorAll('.module-next').forEach(a=>{
    a.addEventListener('click',()=> showModule(a.dataset.next,true));
  });

  // hash deep-link
  window.addEventListener('load',()=>{
    const target = location.hash?.slice(1);
    const toShow = codeIds.includes(target) ? target : 'swc1';
    showModule(toShow);
  });

  // keyboard nav
  window.addEventListener('keydown',(e)=>{
    if(['ArrowRight','ArrowLeft'].includes(e.key)){
      const idx = codeIds.indexOf(state.current);
      const next = e.key==='ArrowRight' ? (idx+1)%codeIds.length : (idx-1+codeIds.length)%codeIds.length;
      showModule(codeIds[next],true);
    }
  });

  // ---------- Tabs ----------
  const tabs = document.querySelectorAll('.tab');
  const sections = document.querySelectorAll('.section');
  tabs.forEach(tab=>{
    tab.addEventListener('click',()=>{
      tabs.forEach(t=>t.setAttribute('aria-selected','false'));
      tab.setAttribute('aria-selected','true');
      sections.forEach(s=>s.classList.remove('active'));
      document.getElementById(tab.getAttribute('aria-controls')).classList.add('active');
    });
  });

  // ---------- Applied: 7-day checkboxes ----------
  const daysRow = document.getElementById('daysRow');
  for(let d=1; d<=7; d++){
    const id=`day${d}`;
    const wrap=document.createElement('label');
    wrap.className='pill'; wrap.style.cursor='pointer';
    wrap.innerHTML = `<input id="${id}" type="checkbox" style="accent-color:#00ffe7; margin-right:.4rem"> Day ${d}`;
    daysRow.appendChild(wrap);
    const saved=localStorage.getItem(id)==='1';
    if(saved){ wrap.querySelector('input').checked=true; }
    wrap.querySelector('input').addEventListener('change',e=>{
      localStorage.setItem(id, e.target.checked?'1':'0');
    });
  }

  // ---------- Offer Matrix: editable + CSV ----------
  const offerTable = document.getElementById('offerTable');
  offerTable.querySelectorAll('tbody td').forEach(td=> td.contentEditable = 'true');
  document.getElementById('downloadCSV').addEventListener('click',()=>{
    const rows=[...offerTable.rows].map(r=>[...r.cells].map(c=>`"${(c.innerText||'').replace(/"/g,'""')}"`).join(','));
    const csv=rows.join('\n');
    const blob=new Blob([csv],{type:'text/csv'});
    const a=document.createElement('a');
    a.href=URL.createObjectURL(blob); a.download='offer-matrix.csv'; a.click();
  });

  // ---------- Ritual Timer (11:00) + affirmations ----------
  const timerReadout=document.getElementById('timerReadout');
  const startBtn=document.getElementById('startTimer');
  const pauseBtn=document.getElementById('pauseTimer');
  const resetBtn=document.getElementById('resetTimer');
  let seconds=11*60, tick=null;

  function renderTimer(){
    const m=Math.floor(seconds/60).toString().padStart(2,'0');
    const s=(seconds%60).toString().padStart(2,'0');
    timerReadout.textContent=`${m}:${s}`;
  }
  function startTimer(){
    if(tick) return;
    tick=setInterval(()=>{
      if(seconds>0){ seconds--; renderTimer(); }
      else { clearInterval(tick); tick=null; }
    },1000);
  }
  function pauseTimer(){ clearInterval(tick); tick=null; }
  function resetTimer(){ pauseTimer(); seconds=11*60; renderTimer(); }
  startBtn.addEventListener('click',startTimer);
  pauseBtn.addEventListener('click',pauseTimer);
  resetBtn.addEventListener('click',resetTimer);
  renderTimer();

  const lines=[
    "I earn at the speed of safety and truth.",
    "I do not chase currency — I become the current.",
    "My price is a promise to the work.",
    "I design streams that sing without me.",
    "Liquidity is spiritual freedom.",
    "I protect the storehouse; abundance protects me.",
    "I am the oracle, the offer, and the overflow."
  ];
  const ritualLine=document.getElementById('ritualLine');
  document.getElementById('shuffleAffirm').addEventListener('click',()=>{
    ritualLine.textContent = '“' + lines[Math.floor(Math.random()*lines.length)] + '”';
  });
  document.getElementById('copyAffirm').addEventListener('click',()=>{
    const t=ritualLine.textContent.replace(/^“|”$/g,'');
    navigator.clipboard.writeText(t);
  });

  // ---------- Wealth Ledger (local only) ----------
  const wlDate=document.getElementById('wlDate');
  const wlType=document.getElementById('wlType');
  const wlAmt=document.getElementById('wlAmt');
  const wlNote=document.getElementById('wlNote');
  const ledgerList=document.getElementById('ledgerList');
  const ledgerCount=document.getElementById('ledgerCount');
  const addLedger=document.getElementById('addLedger');
  const exportLedger=document.getElementById('exportLedger');

  const LEDGER_KEY='wealth_ledger_v1';
  let ledger = JSON.parse(localStorage.getItem(LEDGER_KEY) || '[]');

  function renderLedger(){
    ledgerList.innerHTML = ledger.map((e,i)=>`
      <div class="row" style="justify-content:space-between; border-bottom:1px dashed var(--line); padding:.35rem 0;">
        <div>
          <span class="pill">${e.date||'—'}</span>
          <b>${e.type||'—'}</b> • $${e.amount||'0'}
          <div class="micro">${e.note||''}</div>
        </div>
        <button class="btn" data-del="${i}" title="Delete">×</button>
      </div>
    `).join('');
    ledgerCount.textContent = `${ledger.length} entries`;
    ledgerList.querySelectorAll('button[data-del]').forEach(b=>{
      b.addEventListener('click',()=>{
        ledger.splice(parseInt(b.dataset.del),1);
        localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));
        renderLedger();
      });
    });
  }
  renderLedger();

  addLedger.addEventListener('click',()=>{
    const entry={
      date: wlDate.value || new Date().toISOString().slice(0,10),
      type: wlType.value.trim(),
      amount: (parseFloat(wlAmt.value)||0).toFixed(2),
      note: wlNote.value.trim()
    };
    ledger.unshift(entry);
    localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));
    wlType.value=''; wlAmt.value=''; wlNote.value='';
    renderLedger();
  });
  exportLedger.addEventListener('click',()=>{
    const blob=new Blob([JSON.stringify(ledger,null,2)],{type:'application/json'});
    const a=document.createElement('a');
    a.href=URL.createObjectURL(blob); a.download='wealth-ledger.json'; a.click();
  });
</script>

</body>
</html>
