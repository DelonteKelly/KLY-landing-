<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0A0A1E" />
  <title>KLY ACADEMY | DeFi Education Portal</title>

  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">

  <!-- Animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- Web3 Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

  <style>
    :root {
      --primary:#6C4DF6; --primary-light:#8A6DF9;
      --secondary:#FF7D05; --secondary-light:#FF9A3D;
      --accent:#00E0FF; --accent-light:#5DEBFF;
      --dark:#0A0A1E; --darker:#050510;
      --light:#F5F5FF; --lighter:#FFFFFF;
      --success:#00C853; --warning:#FFAB00; --danger:#FF3D00;
      --card-bg:rgba(15,15,35,.8); --glass:rgba(255,255,255,.1);
      --glass-border:rgba(255,255,255,.15); --shadow:0 8px 32px rgba(0,0,0,.3);
      --focus-ring:0 0 0 3px rgba(0,224,255,.35);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    :focus-visible{outline:none;box-shadow:var(--focus-ring);border-radius:6px}
    body{
      background:var(--darker);
      background-image:
        radial-gradient(at 80% 0%, rgba(108,77,246,.2) 0, transparent 50%),
        radial-gradient(at 0% 50%, rgba(0,224,255,.2) 0, transparent 50%),
        linear-gradient(to bottom, rgba(10,10,30,.9), rgba(5,5,16,1));
      color:var(--light);
      font-family:'Kanit',sans-serif; line-height:1.6; min-height:100vh; overflow-x:hidden;
    }
    /* Particles */
    .particles{position:fixed;inset:0;z-index:-1;overflow:hidden}
    .particle{position:absolute;background:var(--accent);border-radius:50%;opacity:.3;animation:float linear infinite}
    @keyframes float{0%{transform:translateY(0) translateX(0)}50%{transform:translateY(-100px) translateX(50px)}100%{transform:translateY(0) translateX(0)}}
    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{animation-duration:.001ms!important;animation-iteration-count:1!important;transition-duration:.001ms!important}
      .particles{display:none}
    }
    /* Typography */
    h1,h2,h3,h4{font-family:'Space Grotesk',sans-serif;font-weight:700;margin-bottom:1rem}
    h1{font-size:3rem;background:linear-gradient(90deg,var(--primary),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent;line-height:1.2;text-transform:uppercase;letter-spacing:1px;display:inline-block;position:relative}
    h1::after{content:'';position:absolute;bottom:-10px;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:3px}
    h2{font-size:2rem;color:var(--accent);position:relative;padding-bottom:.5rem}
    h2::after{content:'';position:absolute;bottom:0;left:0;width:50px;height:2px;background:var(--accent)}
    p{margin-bottom:1rem;color:rgba(255,255,255,.85)}
    a{color:var(--accent);text-decoration:none;position:relative;transition:.3s}
    a:hover{color:var(--accent-light)}
    a::after{content:'';position:absolute;bottom:-2px;left:0;width:0;height:1px;background:var(--accent-light);transition:width .3s}
    a:hover::after{width:100%}
    /* Layout */
    .container{max-width:1400px;margin:0 auto;padding:0 2rem}
    header{padding:3rem 0 2rem;text-align:center;position:relative}
    .logo{font-size:2.5rem;font-weight:700;margin-bottom:1rem;display:flex;align-items:center;justify-content:center;gap:1rem}
    .logo-icon{color:var(--primary);font-size:3rem;animation:pulse 2s infinite}
    .tagline{font-size:1.2rem;color:rgba(255,255,255,.7);max-width:700px;margin:0 auto 1.5rem}
    .main-content{display:grid;grid-template-columns:300px 1fr;gap:2rem;padding-bottom:4rem}
    @media (max-width:992px){.main-content{grid-template-columns:1fr}}
    /* Sidebar */
    .sidebar{background:var(--card-bg);border-radius:1.5rem;padding:2rem;backdrop-filter:blur(10px);border:1px solid var(--glass-border);height:fit-content;position:sticky;top:2rem;box-shadow:var(--shadow);transition:.3s}
    .sidebar:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,.4)}
    .user-profile{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--glass-border)}
    .avatar{width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;color:#fff;box-shadow:0 0 0 3px rgba(108,77,246,.3);transition:.3s}
    .avatar:hover{transform:scale(1.05);box-shadow:0 0 0 5px rgba(108,77,246,.5)}
    .wallet-info{font-size:.9rem}
    .wallet-address{font-family:monospace;word-break:break-all;color:var(--lighter)}
    .disconnect-btn{background:none;border:0;color:var(--danger);font-size:.8rem;cursor:pointer;margin-top:.3rem;display:flex;align-items:center;gap:.3rem;transition:.3s}
    .disconnect-btn:hover{color:var(--lighter)}
    .progress-container{margin:2rem 0}
    .progress-title{display:flex;justify-content:space-between;margin-bottom:.8rem;font-size:.9rem;color:var(--lighter)}
    .progress-bar{height:10px;background:var(--dark);border-radius:5px;overflow:hidden;box-shadow:inset 0 1px 3px rgba(0,0,0,.2)}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--secondary));border-radius:5px;width:0%;transition:width .5s;position:relative;overflow:hidden}
    .progress-fill::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%);animation:shimmer 2s infinite}
    @keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
    .course-menu{margin-top:2rem}
    .course-menu h3{font-size:1.2rem;margin-bottom:1.5rem;color:var(--accent);display:flex;align-items:center;gap:.5rem}
    .menu-item{display:flex;align-items:center;gap:1rem;padding:1rem;border-radius:.8rem;cursor:pointer;transition:.25s;margin-bottom:.5rem;background:rgba(0,0,0,.3);border:1px solid transparent}
    .menu-item:hover{background:rgba(108,77,246,.2);border-color:rgba(108,77,246,.3);transform:translateX(5px)}
    .menu-item.active{background:linear-gradient(90deg,rgba(108,77,246,.3),rgba(0,224,255,.2));border-color:var(--glass-border);box-shadow:0 5px 15px rgba(108,77,246,.2)}
    .menu-icon{width:30px;height:30px;border-radius:8px;background:rgba(0,224,255,.1);display:flex;align-items:center;justify-content:center;color:var(--accent);transition:.2s}
    .menu-item.active .menu-icon{background:var(--primary);color:#fff}
    .menu-text{flex:1}
    .menu-badge{background:var(--secondary);color:var(--darker);padding:.2rem .5rem;border-radius:1rem;font-size:.7rem;font-weight:700}
    /* Content */
    .course-content{background:var(--card-bg);border-radius:1.5rem;padding:2.5rem;backdrop-filter:blur(10px);border:1px solid var(--glass-border);box-shadow:var(--shadow);transition:.3s}
    .course-content:hover{transform:translateY(-5px)}
    .module{display:none}
    .module-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid var(--glass-border)}
    .module-title{font-size:1.8rem;color:var(--lighter);display:flex;align-items:center;gap:1rem}
    .module-number{width:40px;height:40px;background:linear-gradient(135deg,var(--primary),var(--secondary));border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .module-nav{display:flex;gap:1rem}
    .module-section{margin-bottom:2.5rem}
    .module-section h3{color:var(--secondary-light);margin-bottom:1rem;font-size:1.4rem;display:flex;align-items:center;gap:.8rem}
    .module-section h3 i{color:var(--accent);font-size:1.2rem}
    .module-section ul{padding-left:1.8rem;margin-bottom:1.5rem}
    .module-section li{margin-bottom:.8rem;position:relative;padding-left:1.5rem;color:rgba(255,255,255,.85)}
    .module-section li::before{content:'';position:absolute;left:0;top:.6rem;width:8px;height:8px;background:var(--accent);border-radius:50%}
    .callout{background:rgba(0,224,255,.1);border-left:4px solid var(--accent);padding:1.5rem;margin:2rem 0;border-radius:0 .8rem .8rem 0;position:relative;overflow:hidden}
    .callout::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,224,255,.05) 0%,rgba(0,224,255,.01) 100%);pointer-events:none}
    .callout-icon{position:absolute;top:1rem;right:1rem;opacity:.1;font-size:3rem;color:var(--accent)}
    .callout-title{font-weight:700;margin-bottom:.5rem;color:var(--accent-light)}
    /* Buttons */
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.8rem;padding:1rem 2rem;border-radius:.8rem;font-weight:600;cursor:pointer;transition:.25s;border:none;font-family:'Space Grotesk',sans-serif;text-transform:uppercase;letter-spacing:.5px;position:relative;overflow:hidden;z-index:1}
    .btn::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 50%,rgba(255,255,255,.1) 100%);z-index:-1;opacity:0;transition:.3s}
    .btn:hover::before{opacity:1}
    .btn-primary{background:linear-gradient(90deg,var(--primary),var(--secondary));color:#fff;box-shadow:0 5px 20px rgba(108,77,246,.5)}
    .btn-primary:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgba(108,77,246,.7)}
    .btn-outline{background:transparent;border:2px solid var(--glass-border);color:var(--light)}
    .btn-outline:hover{border-color:var(--accent);color:var(--accent);box-shadow:0 5px 15px rgba(0,224,255,.2)}
    .btn-sm{padding:.8rem 1.5rem;font-size:.9rem}
    /* Connect section */
    .connect-section{text-align:center;max-width:700px;margin:3rem auto;padding:3rem;background:var(--card-bg);border-radius:1.5rem;border:1px solid var(--glass-border);backdrop-filter:blur(10px);box-shadow:var(--shadow);position:relative;overflow:hidden}
    .connect-section::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center, rgba(108,77,246,.1) 0%, transparent 70%);animation:rotate 20s linear infinite;z-index:-1}
    @keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    .wallet-options{display:flex;justify-content:center;gap:1rem;margin-top:2rem;flex-wrap:wrap}
    .wallet-option{background:rgba(0,0,0,.3);border:1px solid var(--glass-border);border-radius:.8rem;padding:1rem 1.5rem;display:flex;align-items:center;gap:.8rem;cursor:pointer;transition:.25s}
    .wallet-option:hover{background:rgba(108,77,246,.2);border-color:var(--primary);transform:translateY(-3px)}
    .wallet-icon{font-size:1.5rem;color:var(--accent)}
    /* Notifications */
    .notification{position:fixed;bottom:2rem;right:2rem;padding:1.2rem 2rem;background:var(--dark);color:#fff;border-radius:.8rem;box-shadow:0 10px 25px rgba(0,0,0,.3);display:flex;align-items:center;gap:1rem;z-index:1000;animation:slideIn .4s cubic-bezier(.175,.885,.32,1.275);border-left:4px solid var(--primary);transform-origin:bottom right;max-width:400px}
    .notification.success{border-left-color:var(--success)}
    .notification.error{border-left-color:var(--danger)}
    .notification.warning{border-left-color:var(--warning)}
    .notification-icon{font-size:1.5rem}
    .notification-content{flex:1}
    .notification-title{font-weight:700;margin-bottom:.3rem}
    .notification-message{font-size:.9rem;opacity:.9}
    .notification-close{background:none;border:none;color:rgba(255,255,255,.6);cursor:pointer;font-size:1rem;transition:.2s}
    .notification-close:hover{color:#fff}
    @keyframes slideIn{from{transform:translateX(100%) scale(.9);opacity:0}to{transform:translateX(0) scale(1);opacity:1}}
    /* Certificate */
    .certificate-section{text-align:center;margin-top:4rem;padding-top:3rem;border-top:1px solid var(--glass-border);position:relative}
    .certificate-section::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:150px;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:3px}
    .certificate-title{font-size:1.8rem;margin-bottom:1rem;background:linear-gradient(90deg,var(--primary),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent}
    .certificate-desc{max-width:600px;margin:0 auto 2rem;font-size:1.1rem}
    .certificate-image{max-width:500px;margin:0 auto 2rem;border-radius:1rem;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.5);border:1px solid var(--glass-border);opacity:.95;transition:.3s}
    .certificate-image:hover{opacity:1;transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,.6)}
    /* Float/Pulse */
    @keyframes float2{0%{transform:translateY(0)}50%{transform:translateY(-15px)}100%{transform:translateY(0)}}
    .floating{animation:float2 6s ease-in-out infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
    .pulse{animation:pulse 2s infinite}
    /* Mobile */
    @media (max-width:768px){
      .container{padding:0 1.5rem}
      header{padding:2rem 0 1.5rem}
      h1{font-size:2.2rem}
      .logo{font-size:2rem}.logo-icon{font-size:2.5rem}
      .tagline{font-size:1rem}
      .connect-section{padding:2rem 1.5rem}
      .connect-section h2{font-size:1.5rem}
      .module-header{flex-direction:column;align-items:flex-start;gap:1.5rem}
      .module-nav{width:100%;justify-content:space-between}
      .btn{width:100%}
      .wallet-options{flex-direction:column}
      .wallet-option{width:100%;justify-content:center}
    }
    /* Complete toolbar */
    .complete-toolbar{position:sticky;bottom:-1px;margin-top:1rem;padding-top:1rem;display:flex;justify-content:flex-end;border-top:1px solid var(--glass-border)}
  </style>
</head>
<body>
  <!-- Particles -->
  <div class="particles" id="particles"></div>

  <div class="container">
    <header class="animate__animated animate__fadeInDown">
      <div class="logo">
        <i class="fas fa-graduation-cap logo-icon" aria-hidden="true"></i>
        <span>KLY ACADEMY</span>
      </div>
      <p class="tagline">Master decentralized finance through our immersive Web3 education platform</p>
    </header>

    <!-- Connect / Gate -->
    <div id="connect-section" class="connect-section animate__animated animate__zoomIn">
      <h2>Begin Your DeFi Journey</h2>
      <p>Connect your wallet holding <strong>100+ KLY</strong> to unlock full access to our comprehensive DeFi education program.</p>
      <button id="connect-btn" class="btn btn-primary" onclick="connectWallet()">
        <i class="fas fa-wallet"></i> Connect Wallet
      </button>

      <div class="wallet-options" aria-label="Wallet options">
        <button class="wallet-option" onclick="connectWallet()">
          <i class="fab fa-ethereum wallet-icon" aria-hidden="true"></i><span>MetaMask</span>
        </button>
        <button class="wallet-option" onclick="connectWallet()">
          <i class="fas fa-wallet wallet-icon" aria-hidden="true"></i><span>WalletConnect</span>
        </button>
        <button class="wallet-option" onclick="connectWallet()">
          <i class="fas fa-mobile-alt wallet-icon" aria-hidden="true"></i><span>Trust Wallet</span>
        </button>
      </div>

      <div id="wallet-status" style="margin-top:2rem;"></div>
    </div>

    <!-- App -->
    <div id="app-content" style="display:none;">
      <div class="main-content">
        <aside class="sidebar animate__animated animate__fadeInLeft">
          <div class="user-profile">
            <div class="avatar" id="user-avatar" aria-hidden="true">KL</div>
            <div class="wallet-info">
              <div class="wallet-address" id="wallet-address" aria-live="polite">Not connected</div>
              <button class="disconnect-btn" onclick="disconnectWallet()">
                <i class="fas fa-sign-out-alt"></i> Disconnect
              </button>
            </div>
          </div>

          <div class="progress-container">
            <div class="progress-title">
              <span>Course Progress</span>
              <span id="progress-text">0/12</span>
            </div>
            <div class="progress-bar" aria-hidden="true">
              <div class="progress-fill" id="progress-bar"></div>
            </div>
          </div>

          <!-- Beginner DeFi Course -->
          <div class="course-menu">
            <h3><i class="fas fa-book-open" aria-hidden="true"></i> DeFi Beginner Course</h3>
            <div class="menu-item active" onclick="showModule('module1')">
              <div class="menu-icon"><i class="fas fa-check-circle"></i></div>
              <div class="menu-text">DeFi Basics</div>
              <div class="menu-badge">1</div>
            </div>
            <div class="menu-item" onclick="showModule('module2')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Wallet Setup</div>
              <div class="menu-badge">2</div>
            </div>
            <div class="menu-item" onclick="showModule('module3')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Using DEXs</div>
              <div class="menu-badge">3</div>
            </div>
            <div class="menu-item" onclick="showModule('module4')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Earning with DeFi</div>
              <div class="menu-badge">4</div>
            </div>
            <div class="menu-item" onclick="showModule('module5')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Safety & Strategy</div>
              <div class="menu-badge">5</div>
            </div>
          </div>

          <!-- Master DeFi Course -->
          <div class="course-menu" style="margin-top:2rem;">
            <h3><i class="fas fa-crown" aria-hidden="true"></i> Master DeFi Course</h3>
            <div class="menu-item" onclick="showModule('mdf-1')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Sovereign Mindset</div>
              <div class="menu-badge">1</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-2')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Blockchain & Tokenomics</div>
              <div class="menu-badge">2</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-3')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Wealth via Ecosystems</div>
              <div class="menu-badge">3</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-4')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">DeFi Mastery</div>
              <div class="menu-badge">4</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-5')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">NFTs as Wealth Vehicles</div>
              <div class="menu-badge">5</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-6')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Multiple Web3 Incomes</div>
              <div class="menu-badge">6</div>
            </div>
            <div class="menu-item" onclick="showModule('mdf-7')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div class="menu-text">Sovereign Wealth Strategy</div>
              <div class="menu-badge">7</div>
            </div>
          </div>

          <div style="margin-top:2rem;">
            <h3><i class="fas fa-star" aria-hidden="true"></i> Other Resources</h3>
            <a class="menu-item" href="Spiritual%20wealth%20codes.html" rel="noopener noreferrer">
              <div class="menu-icon"><i class="fas fa-lock-open"></i></div>
              <div class="menu-text">Spiritual Wealth Codes</div>
            </a>
          </div>
        </aside>

        <main class="course-content animate__animated animate__fadeInRight">
          <!-- BEGINNER COURSE -->
          <div id="module1" class="module" style="display:block;">
            <div class="module-header">
              <div class="module-title">
                <div class="module-number">1</div><div>DeFi Basics</div>
              </div>
              <div class="module-nav">
                <button class="btn btn-outline btn-sm" disabled><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="btn btn-primary btn-sm" onclick="showModule('module2')">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </div>
            <div class="module-body">
              <div class="module-section">
                <h3><i class="fas fa-question-circle"></i> What is DeFi?</h3>
                <p>Decentralized Finance (DeFi) is a financial system built on blockchain that removes intermediaries. Smart contracts provide open, permissionless access to financial services.</p>
                <div class="callout">
                  <i class="fas fa-lightbulb callout-icon" aria-hidden="true"></i>
                  <div class="callout-title">Key Insight</div>
                  <p>DeFi gives you full control over your assets with on-chain transparency. Your keys, your crypto.</p>
                </div>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-puzzle-piece"></i> Core Components</h3>
                <ul>
                  <li><strong>Blockchain:</strong> Immutable ledger of transactions</li>
                  <li><strong>Smart Contracts:</strong> Self-executing code powering apps</li>
                  <li><strong>DAOs:</strong> Community-governed protocols</li>
                  <li><strong>dApps:</strong> Interfaces to financial services</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-bolt"></i> Why DeFi Matters</h3>
                <ul>
                  <li>24/7 markets</li>
                  <li>Lower fees (fewer middlemen)</li>
                  <li>Global permissionless access</li>
                  <li>On-chain transparency</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-coins"></i> KLY in the DeFi Ecosystem</h3>
                <ul>
                  <li>Governance in KLY DAO</li>
                  <li>Access to premium features and content</li>
                  <li>Staking rewards</li>
                  <li>Collateral in DeFi protocols</li>
                </ul>
              </div>
            </div>
          </div>

          <div id="module2" class="module">
            <div class="module-header">
              <div class="module-title"><div class="module-number">2</div><div>Wallet Setup</div></div>
              <div class="module-nav">
                <button class="btn btn-outline btn-sm" onclick="showModule('module1')"><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="btn btn-primary btn-sm" onclick="showModule('module3')">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </div>
            <div class="module-body">
              <div class="module-section">
                <h3><i class="fas fa-wallet"></i> Choosing Your Wallet</h3>
                <p>Your wallet is your Web3 identity. You control it — and you’re responsible for it.</p>
                <div class="callout">
                  <i class="fas fa-shield-alt callout-icon" aria-hidden="true"></i>
                  <div class="callout-title">Security First</div>
                  <p>Never share your seed phrase. It’s the master key to your funds.</p>
                </div>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-mobile-alt"></i> Recommended Wallets</h3>
                <ul>
                  <li><strong>MetaMask:</strong> Browser + mobile</li>
                  <li><strong>Trust Wallet:</strong> Mobile with dApp browser</li>
                  <li><strong>Ledger/Trezor:</strong> Hardware for max security</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-key"></i> Setup Process</h3>
                <ol>
                  <li>Download from official sources</li>
                  <li>Create a new wallet</li>
                  <li>Write down the 12–24 word recovery phrase</li>
                  <li>Store it offline (never digital)</li>
                  <li>Set a strong password</li>
                </ol>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-coins"></i> Funding Your Wallet</h3>
                <ul>
                  <li><strong>BNB</strong> for BSC gas (start with ~0.1)</li>
                  <li><strong>KLY</strong> for access/governance</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-plug"></i> Connect to KLY Academy</h3>
                <ol>
                  <li>Click “Connect Wallet”</li>
                  <li>Select provider</li>
                  <li>Approve connection</li>
                  <li>Ensure you’re on BNB Chain</li>
                </ol>
              </div>
            </div>
          </div>

          <div id="module3" class="module">
            <div class="module-header">
              <div class="module-title"><div class="module-number">3</div><div>Using DEXs</div></div>
              <div class="module-nav">
                <button class="btn btn-outline btn-sm" onclick="showModule('module2')"><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="btn btn-primary btn-sm" onclick="showModule('module4')">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </div>
            <div class="module-body">
              <div class="module-section">
                <h3><i class="fas fa-exchange-alt"></i> What Are DEXs?</h3>
                <p>DEXs let you trade directly from your wallet. You keep custody at all times.</p>
                <div class="callout">
                  <i class="fas fa-random callout-icon" aria-hidden="true"></i>
                  <div class="callout-title">Key Advantage</div>
                  <p>No centralized custody. Your funds stay in your control.</p>
                </div>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-chart-line"></i> Top DEX Platforms</h3>
                <ul>
                  <li><strong>PancakeSwap:</strong> Leading on BSC</li>
                  <li><strong>Uniswap:</strong> Pioneer on Ethereum</li>
                  <li><strong>1inch:</strong> Rate aggregator</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-sync-alt"></i> How to Swap</h3>
                <ol>
                  <li>Connect wallet</li>
                  <li>Select input/output tokens</li>
                  <li>Review slippage + price impact</li>
                  <li>Confirm and wait for finality</li>
                </ol>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-info-circle"></i> Important Concepts</h3>
                <ul>
                  <li><strong>Slippage:</strong> 1–3% typical</li>
                  <li><strong>Gas fees:</strong> Paid in BNB</li>
                  <li><strong>Price impact:</strong> Effect of your trade size</li>
                </ul>
              </div>
            </div>
          </div>

          <div id="module4" class="module">
            <div class="module-header">
              <div class="module-title"><div class="module-number">4</div><div>Earning with DeFi</div></div>
              <div class="module-nav">
                <button class="btn btn-outline btn-sm" onclick="showModule('module3')"><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="btn btn-primary btn-sm" onclick="showModule('module5')">Next <i class="fas fa-arrow-right"></i></button>
              </div>
            </div>
            <div class="module-body">
              <div class="module-section">
                <h3><i class="fas fa-piggy-bank"></i> Passive Income Options</h3>
                <div class="callout">
                  <i class="fas fa-hand-holding-usd callout-icon" aria-hidden="true"></i>
                  <div class="callout-title">Rule of Thumb</div>
                  <p>Higher APY usually means higher risk. Diversify across platforms.</p>
                </div>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-lock"></i> Staking</h3>
                <ul>
                  <li>Lock tokens to support network</li>
                  <li>Earn rewards</li>
                  <li>Typical APY: 5–20%</li>
                </ul>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-hand-holding-water"></i> Liquidity Pools</h3>
                <ol>
                  <li>Supply equal value of two tokens</li>
                  <li>Receive LP tokens</li>
                  <li>Earn trading fees + incentives</li>
                </ol>
                <p><em>Beware of impermanent loss.</em></p>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-landmark"></i> Lending</h3>
                <ul>
                  <li>Deposit to earn interest</li>
                  <li>Platforms: Venus, Aave, Compound</li>
                  <li>Typical APY: 2–15%</li>
                </ul>
              </div>
            </div>
          </div>

          <div id="module5" class="module">
            <div class="module-header">
              <div class="module-title"><div class="module-number">5</div><div>Safety & Strategy</div></div>
              <div class="module-nav">
                <button class="btn btn-outline btn-sm" onclick="showModule('module4')"><i class="fas fa-arrow-left"></i> Previous</button>
                <button class="btn btn-primary btn-sm" onclick="showModule('mdf-1')">Master Course <i class="fas fa-arrow-right"></i></button>
              </div>
            </div>
            <div class="module-body">
              <div class="module-section">
                <h3><i class="fas fa-shield-alt"></i> Security Essentials</h3>
                <div class="callout">
                  <i class="fas fa-user-secret callout-icon" aria-hidden="true"></i>
                  <div class="callout-title">Golden Rule</div>
                  <p>If it seems too good to be true, it probably is.</p>
                </div>
              </div>
              <div class="module-section">
                <h3><i class="fas fa-skull-crossbones"></i> Common Threats</h3>
                <ul>
                  <li>Phishing & fake sites</li>
                  <li>Rug pulls</li>
                  <li>Malicious approvals</li>
                  <li>Fake tokens</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- MASTER COURSE -->
         <!-- MDF 1 -->
<div id="mdf-1" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M1</div>
      <div>Module 1 — The Sovereign Mindset of Wealth</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('module5')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-2')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Understand philosophical foundations of sovereign wealth</li>
        <li>Spot scarcity patterns in beliefs and behavior</li>
        <li>Install daily rituals that build “owner” identity</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-layer-group"></i> Core Content</h3>
      <ol>
        <li><strong>Money as Energy + Code</strong>
          <p>In Web3, money is programmable. You define rules (smart contracts), custody (your keys), and policy (governance). Ownership > access.</p>
        </li>
        <li><strong>Scarcity Patterns</strong>
          <ul>
            <li><em>Learned Helplessness:</em> “Markets control me.” → Replace with “I control risk sizing and time horizons.”</li>
            <li><em>Urgency Addiction:</em> Chasing pumps. → Replace with scheduled reviews and rules-based entries.</li>
            <li><em>External Validation:</em> Decisions by timeline chatter. → Replace with written theses and invalidation criteria.</li>
          </ul>
        </li>
        <li><strong>The Web3 Sovereignty Shift</strong>
          <p>Censorship resistance, self-custody, and transparent ledgers enable an “owner-operator” mindset for finance and identity.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-clipboard-list callout-icon" aria-hidden="true"></i>
        <div class="callout-title">Mindset & Rituals</div>
        <ul>
          <li><strong>Belief Audit:</strong> List 5 money beliefs. Label each as “scarcity” or “sovereign.” Rewrite in first-principles language.</li>
          <li><strong>AM/PM Bookends (7 days):</strong> 5-minute breathwork + 3-line intention AM; 3 wins + 1 improvement PM.</li>
          <li><strong>Owner Signals:</strong> Replace “I hope” with “I choose / I will test.”</li>
        </ul>
      </div>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-list-check"></i> Implementation Checklist</h3>
      <ul>
        <li>Define your 3 core values for wealth decisions</li>
        <li>Create a one-page investment thesis template</li>
        <li>Schedule weekly 30-min review on calendar</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-link"></i> Additional Resources</h3>
      <ul>
        <li><a href="#" target="_blank" rel="noopener"><i class="fa-solid fa-book"></i> Recommended Reading: Sovereign wealth principles</a></li>
        <li><a href="#" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines"></i> One-Page Thesis Template (PDF)</a></li>
      </ul>
    </div>
  </div>
</div>
         <!-- MDF 2 -->
<div id="mdf-2" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M2</div>
      <div>Module 2 — Blockchain & Tokenomics Decoded</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-1')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-3')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Grasp chain architecture and consensus</li>
        <li>Read token standards & basic contract fields</li>
        <li>Evaluate token economics beyond hype</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-cubes"></i> Core Content</h3>
      <ol>
        <li><strong>Architecture & Consensus</strong>
          <p>Blocks, state, finality. PoS validator sets, slashing, and economic security. Throughput vs decentralization trade-offs.</p>
        </li>
        <li><strong>Standards & Metadata</strong>
          <ul>
            <li>ERC-20: <em>name, symbol, decimals, totalSupply</em></li>
            <li>ERC-721/1155: unique vs semi-fungible assets</li>
            <li>Approvals & allowances: risk surface of “infinite approvals”</li>
          </ul>
        </li>
        <li><strong>Tokenomics That Endure</strong>
          <ul>
            <li>Distribution: team/investor/treasury/community</li>
            <li>Emissions: schedule, halvenings, burns, buybacks</li>
            <li>Utility: fee capture, staking sinks, governance power</li>
          </ul>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-clipboard-check"></i> Token Due Diligence (TDD)</h3>
      <ul>
        <li>Contract verified? Proxy upgradability understood?</li>
        <li>Treasury transparency and runway</li>
        <li>Vesting cliffs & unlock calendar noted</li>
        <li>On-chain usage metrics (fees, DAU, TVL) trend up?</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-calculator callout-icon"></i>
        <div class="callout-title">Hands-On</div>
        <ul>
          <li>Open a token on a block explorer and record: supply, holders, top 10 concentration, recent transfers.</li>
          <li>Sketch a vesting curve and annotate likely volatility windows.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
        <!-- MDF 3 -->
<div id="mdf-3" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M3</div>
      <div>Module 3 — Wealth via Ecosystems</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-2')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-4')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Map a token’s real economy (users, fees, incentives)</li>
        <li>Design a secure wallet & permissions setup</li>
        <li>Build a trackable participation plan</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-network-wired"></i> Core Content</h3>
      <ol>
        <li><strong>Utility-First vs Narrative-First</strong>
          <p>Look for measurable usage: transactions, fee accrual, partner integrations. Narratives without usage fade.</p>
        </li>
        <li><strong>Roles in an Ecosystem</strong>
          <ul>
            <li><em>Holder:</em> Thesis + risk limits</li>
            <li><em>Liquidity Provider:</em> Fees & incentives vs IL</li>
            <li><em>Contributor:</em> Bounties, governance, tooling</li>
          </ul>
        </li>
        <li><strong>Participation Flywheel</strong>
          <p>Use → earn → reinvest → influence governance → improve utility → compounding network effects.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-shield-halved"></i> Security Setup</h3>
      <ul>
        <li>Hot wallet (small ops), hardware wallet (vault), separate “approval” wallet</li>
        <li>Use multisig for treasuries and long-term holdings</li>
        <li>Approval revokes scheduled monthly</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-clipboard-check callout-icon"></i>
        <div class="callout-title">Your Ecosystem Plan</div>
        <ol>
          <li>Select one protocol. Write a 1-paragraph usage thesis.</li>
          <li>Define your role (holder/LP/contributor) and KPIs (e.g., fees earned, proposals voted, tools shipped).</li>
          <li>Set up a dashboard (spreadsheet or tracker) and update weekly.</li>
        </ol>
      </div>
    </div>
  </div>
</div>
         <!-- MDF 4 -->
<div id="mdf-4" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M4</div>
      <div>Module 4 — DeFi Mastery</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-3')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-5')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Compare yield strategies across risk spectrum</li>
        <li>Quantify impermanent loss and mitigate it</li>
        <li>Design vault/auto-compound strategies</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-chart-line"></i> Core Content</h3>
      <ol>
        <li><strong>Yield Menu</strong>
          <ul>
            <li>Staking/Lending (lower risk, lower variance)</li>
            <li>LP Fees + Incentives (medium risk, IL exposure)</li>
            <li>Leverage & Structured Products (advanced)</li>
          </ul>
        </li>
        <li><strong>AMM Mechanics & IL</strong>
          <p>Understand x*y=k, price ranges, concentrated liquidity, and when IL is offset by fees/emissions.</p>
        </li>
        <li><strong>Vaults & Automation</strong>
          <p>Auto-compound frequency vs gas costs; strategy decay when incentives change; exit criteria.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-toolbox"></i> Playbook</h3>
      <ul>
        <li>Define target APY band and max drawdown allowed</li>
        <li>Position sizing: 1–5% per strategy for beginners</li>
        <li>Stop-loss or “time-stop” rules for farms</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-microscope callout-icon"></i>
        <div class="callout-title">Hands-On</div>
        <ol>
          <li>Model a 30-day LP with assumed fees/emissions and 3 price paths. Decide if IL is acceptable.</li>
          <li>Create a rebalancing schedule (weekly/biweekly) and document triggers to pause.</li>
        </ol>
      </div>
    </div>
  </div>
</div>

        <!-- MDF 5 -->
<div id="mdf-5" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M5</div>
      <div>Module 5 — NFTs as Wealth Vehicles</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-4')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-6')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Distinguish collectible vs utility NFTs</li>
        <li>Design mint economics & royalty flows</li>
        <li>Evaluate secondary markets and liquidity</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-paintbrush"></i> Core Content</h3>
      <ol>
        <li><strong>Utility Matrix</strong>
          <ul>
            <li>Access (courses, communities, events)</li>
            <li>Identity (soulbound credentials)</li>
            <li>Revenue Share / Points (where compliant)</li>
          </ul>
        </li>
        <li><strong>Mint & Market Design</strong>
          <ul>
            <li>Supply sizing, allowlists, reveal mechanics</li>
            <li>Royalties vs marketplace enforcement realities</li>
            <li>Post-mint utility delivery roadmap</li>
          </ul>
        </li>
        <li><strong>Trading Strategy</strong>
          <p>Volume/holders, distribution across wallets, wash-trade patterns, and liquidity depth. Entry rules > vibes.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-brain callout-icon"></i>
        <div class="callout-title">Creator & Trader Tracks</div>
        <ul>
          <li><strong>Creator:</strong> Draft a one-pager: purpose, supply, price, royalty, utility timeline.</li>
          <li><strong>Trader:</strong> Build a checklist: team doxxing, wallet distribution, 7-day volume, holder retention.</li>
        </ul>
      </div>
    </div>
  </div>
</div>
        <!-- MDF 6 -->
<div id="mdf-6" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M6</div>
      <div>Module 6 — Multiple Web3 Income Streams</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-5')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('mdf-7')">
        Next <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Map and prioritize diversified crypto income</li>
        <li>Set up repeatable prospecting & delivery loops</li>
        <li>Track revenue, costs, and runway</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-money-bill-trend-up"></i> Core Content</h3>
      <ol>
        <li><strong>Freelance & Bounties</strong>
          <p>Dev, design, community, analytics. Quote in stablecoins; consider token bonuses with vesting.</p>
        </li>
        <li><strong>Creator & Education</strong>
          <p>Courses, newsletters, gated communities (NFT/Token). Focus on outcomes and clear curriculum.</p>
        </li>
        <li><strong>Operator & Governance</strong>
          <p>DAO roles, grants, and proposal workstreams. Build a public contribution portfolio.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-list-check"></i> Income Matrix</h3>
      <ul>
        <li>3–5 income lanes; target % split (e.g., 50% stable, 30% tokens, 20% royalties)</li>
        <li>Monthly KPI review: hours → invoiced → collected</li>
        <li>Emergency runway goal: 6–12 months</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-clipboard-list callout-icon"></i>
        <div class="callout-title">Build & Ship</div>
        <ol>
          <li>Create a one-page offer (problem → solution → deliverables → proof → price).</li>
          <li>Pitch 5 prospects or apply to 3 bounties; log outcomes.</li>
          <li>Set up an earnings tracker (date, client, token amount, USD value).</li>
        </ol>
      </div>
    </div>
  </div>
</div>

       <!-- MDF 7 -->
<div id="mdf-7" class="module" style="display:none;">
  <div class="module-header">
    <div class="module-title">
      <div class="module-number">M7</div>
      <div>Module 7 — Sovereign Wealth Strategy</div>
    </div>
    <div class="module-nav">
      <button class="btn btn-outline btn-sm" onclick="showModule('mdf-6')">
        <i class="fas fa-arrow-left"></i> Previous
      </button>
      <button class="btn btn-primary btn-sm" onclick="showModule('module1')">
        <i class="fas fa-home"></i> Return to Start
      </button>
    </div>
  </div>

  <div class="module-body">
    <div class="module-section">
      <h3><i class="fa-solid fa-star"></i> Learning Objectives</h3>
      <ul>
        <li>Assemble a 5-year sovereign wealth plan</li>
        <li>Create asset protection & recovery playbooks</li>
        <li>Design compounding systems and reviews</li>
      </ul>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-chess-king"></i> Core Content</h3>
      <ol>
        <li><strong>Allocation Framework</strong>
          <ul>
            <li>Core (BTC/ETH/majors), Satellite (select L2/DeFi), Venture (experiments)</li>
            <li>Stablecoin safety tiers (custodial, over-collateralized, algo risks)</li>
          </ul>
        </li>
        <li><strong>Protection</strong>
          <ul>
            <li>Hardware wallets + metal backups; multisig for >$X thresholds</li>
            <li>Estate basics: beneficiaries, access instructions, encrypted vault</li>
            <li>Operational security: device hygiene, phishing drills</li>
          </ul>
        </li>
        <li><strong>Compounding Flywheel</strong>
          <p>Flow: Earn → Allocate → Automate → Review → Iterate. Small edges, long time.</p>
        </li>
      </ol>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-dumbbell"></i> Practical Exercises</h3>
      <div class="callout">
        <i class="fas fa-shield-alt callout-icon"></i>
        <div class="callout-title">Blueprint & Drills</div>
        <ol>
          <li>Write a 1-page 5-year plan (targets, allocation bands, rebalancing cadence).</li>
          <li>Run a recovery simulation: device lost—restore from seed; confirm balances.</li>
          <li>Quarterly “premortem”: list 5 portfolio risks and mitigation steps.</li>
        </ol>
      </div>
    </div>

    <div class="module-section">
      <h3><i class="fa-solid fa-list-check"></i> Review Cadence</h3>
      <ul>
        <li>Weekly: dashboard update, small improvements</li>
        <li>Monthly: rebalance, thesis refresh, rotate out laggards</li>
        <li>Quarterly: debrief, tax prep, risk retune</li>
      </ul>
    </div>
  </div>
</div>

          <!-- CERTIFICATE -->
          <div class="certificate-section" id="certificate-section">
            <h3 class="certificate-title">Course Completion Certificate</h3>
            <p class="certificate-desc">Finish all 12 modules to mint your exclusive NFT certificate that verifies your completion of the KLY Academy DeFi track.</p>
            <div class="certificate-image floating">
              <img
                src="https://blush-worthy-ape-39.mypinata.cloud/ipfs/bafybeidmaskps5ouvljx7li667xnvalle566d577vixhtj5rejphrx5bua/Key%20of%20Ascension.PNG"
                alt="Certificate of Completion"
                style="width:100%;display:block;border-radius:12px;box-shadow:0 0 32px rgba(255,215,0,.7);transition:transform .4s ease"
                onmouseover="this.style.transform='scale(1.03)'"
                onmouseout="this.style.transform='scale(1)'"
              />
            </div>
            <button class="btn btn-primary" onclick="mintCertificate()" id="mint-btn" disabled>
              <i class="fas fa-lock"></i> Complete All Modules to Unlock
            </button>
            <div id="mint-status" style="margin-top:1.5rem;"></div>
          </div>
        </main>
      </div>
    </div>
  </div>

  <script>
    /* =========================
       Config / Contracts
    ========================== */
    const KLY_TOKEN_ADDRESS = "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52";
    const NFT_CONTRACT_ADDRESS = "0xc1a2E9A475779EfD04247EA473638717E26cd5C5";
    const KLY_TOKEN_ABI = [
      "function balanceOf(address) view returns (uint256)",
      "function decimals() view returns (uint8)"
    ];
    const NFT_CONTRACT_ABI = [
      "function mintTo(address to, string uri) public"
    ];

    const TOTAL_MODULES = 12;
    const MODULE_IDS = ['module1','module2','module3','module4','module5','mdf-1','mdf-2','mdf-3','mdf-4','mdf-5','mdf-6','mdf-7'];

    const LS_KEYS = { COMPLETED:'kly_completed_v1', INPROG:'kly_inprogress_v1' };
    function lsGet(key, fallback){ try{ return JSON.parse(localStorage.getItem(key)) ?? fallback }catch{ return fallback } }
    function lsSet(key, val){ localStorage.setItem(key, JSON.stringify(val)) }

    /* =========================
       Web3 State
    ========================== */
    let provider, web3Modal, signer, userAddress, currentModuleId = null;
    let completedModules = lsGet(LS_KEYS.COMPLETED, []);
    let inProgressModules = lsGet(LS_KEYS.INPROG, []);

    // DOM
    const connectSection = document.getElementById('connect-section');
    const appContent = document.getElementById('app-content');
    const connectBtn = document.getElementById('connect-btn');
    const walletStatus = document.getElementById('wallet-status');
    const walletAddress = document.getElementById('wallet-address');
    const userAvatar = document.getElementById('user-avatar');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const mintBtn = document.getElementById('mint-btn');
    const mintStatus = document.getElementById('mint-status');

    /* =========================
       Particles
    ========================== */
    function createParticles(){
      const c = document.getElementById('particles');
      const count = window.innerWidth < 768 ? 20 : 50;
      for(let i=0;i<count;i++){
        const p = document.createElement('div'); p.className='particle';
        const size = Math.random()*5+2, x=Math.random()*100, y=Math.random()*100;
        const op = Math.random()*0.3+0.1, dur=Math.random()*20+10, delay=Math.random()*10;
        const color = `hsl(${Math.random()*60+200}, 100%, 70%)`;
        Object.assign(p.style,{
          width:`${size}px`,height:`${size}px`,left:`${x}%`,top:`${y}%`,opacity:op,background:color,animationDuration:`${dur}s`,animationDelay:`-${delay}s`
        });
        c.appendChild(p);
      }
    }

    /* =========================
       Notifications
    ========================== */
    function showNotification(message, type='info', title=''){
      const existing = document.querySelector('.notification'); if(existing) existing.remove();
      const n = document.createElement('div');
      n.className = `notification ${type}`;
      n.setAttribute('role', 'status'); n.setAttribute('aria-live','polite');
      let icon=''; if(type==='success') {icon='check-circle'; title=title||'Success'}
      else if(type==='error'){icon='times-circle'; title=title||'Error'}
      else if(type==='warning'){icon='exclamation-triangle'; title=title||'Warning'}
      else {icon='info-circle'; title=title||'Info'}
      n.innerHTML = `
        <i class="fas fa-${icon} notification-icon" aria-hidden="true"></i>
        <div class="notification-content">
          <div class="notification-title">${title}</div>
          <div class="notification-message">${message}</div>
        </div>
        <button class="notification-close" aria-label="Close notification" onclick="this.parentElement.remove()"><i class="fas fa-times"></i></button>
      `;
      document.body.appendChild(n);
      setTimeout(()=>{ n.style.opacity='0'; setTimeout(()=>n.remove(), 300); }, 5000);
    }

    /* =========================
       Web3Modal + Chain Helpers
    ========================== */
    const BSC_CHAIN_ID_DEC = 56;
    const BSC_CHAIN_ID_HEX = '0x38';
    const BSC = {
      chainId: BSC_CHAIN_ID_HEX,
      chainName: 'BNB Smart Chain',
      nativeCurrency: { name:'BNB', symbol:'BNB', decimals:18 },
      rpcUrls: ['https://bsc-dataseed.binance.org/'],
      blockExplorerUrls: ['https://bscscan.com']
    };

    async function initWeb3Modal(){
      const providerOptions = {
        walletconnect: {
          package: window.WalletConnectProvider.default,
          options: { rpc: { [BSC_CHAIN_ID_DEC]: BSC.rpcUrls[0] }, chainId: BSC_CHAIN_ID_DEC }
        }
      };
      web3Modal = new window.Web3Modal.default({ cacheProvider:true, providerOptions, theme:'dark' });
    }

    async function ensureBsc(instance){
      const eth = instance || window.ethereum;
      if(!eth?.request) return false;
      try{
        await eth.request({ method:'wallet_switchEthereumChain', params:[{ chainId:BSC_CHAIN_ID_HEX }] });
        return true;
      }catch(e){
        if(e?.code===4902){
          try{ await eth.request({ method:'wallet_addEthereumChain', params:[BSC] }); return true; }catch{ return false; }
        }
        return false;
      }
    }

    async function addBscNetwork(){
      try{
        await window.ethereum.request({ method:'wallet_addEthereumChain', params:[BSC] });
        showNotification('BNB Chain added', 'success');
        setTimeout(()=>location.reload(), 800);
      }catch(err){ showNotification(`Failed to add BSC: ${err.message}`, 'error'); }
    }
    window.addBscNetwork = addBscNetwork;

    async function connectWallet(){
      try{
        connectBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connecting...';
        const instance = await web3Modal.connect();
        provider = new ethers.providers.Web3Provider(instance, 'any');
        signer = provider.getSigner();
        userAddress = await signer.getAddress();

        const net = await provider.getNetwork().catch(()=>({ chainId:0 }));
        if(net.chainId !== BSC_CHAIN_ID_DEC){
          const ok = await ensureBsc(instance);
          if(!ok){
            showNotification('Please switch to BNB Smart Chain (BSC).', 'warning');
            walletStatus.innerHTML = `
              <div style="color: var(--warning); text-align:center;">
                <i class="fas fa-exclamation-triangle"></i> Switch to BNB Chain
                <div style="margin-top:1rem;"><button onclick="addBscNetwork()" class="btn btn-primary btn-sm">
                  <i class="fas fa-network-wired"></i> Add BSC Network
                </button></div>
              </div>`;
            connectBtn.innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
            return;
          }
          provider = new ethers.providers.Web3Provider(instance, 'any');
          signer = provider.getSigner();
        }

        // listeners
        instance.removeAllListeners?.();
        instance.on?.('accountsChanged', async accs=>{
          if(!accs?.length) return disconnectWallet();
          userAddress = accs[0]; await postConnectUI();
        });
        instance.on?.('chainChanged', async ()=>{
          const ok = await ensureBsc(instance); if(!ok) return disconnectWallet();
          provider = new ethers.providers.Web3Provider(instance, 'any'); signer = provider.getSigner();
          await postConnectUI();
        });
        instance.on?.('disconnect', ()=> disconnectWallet());

        await postConnectUI();
      }catch(error){
        console.error('Connection error:', error);
        showNotification(error?.message || 'Connection failed', 'error');
      }finally{
        connectBtn.innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
      }
    }
    window.connectWallet = connectWallet;

    async function postConnectUI(){
      const short = `${userAddress.slice(0,6)}...${userAddress.slice(-4)}`;
      walletAddress.textContent = short;
      userAvatar.textContent = userAddress.slice(2,4).toUpperCase();

      try{
        const kly = new ethers.Contract(KLY_TOKEN_ADDRESS, KLY_TOKEN_ABI, provider);
        const [raw, dec] = await Promise.all([kly.balanceOf(userAddress), kly.decimals()]);
        const bal = Number(ethers.utils.formatUnits(raw, dec));

        if(bal >= 100){
          connectSection.style.display='none'; appContent.style.display='block';
          showNotification('Wallet connected', 'success');
          restoreProgress();
          updateProgress();
        }else{
          appContent.style.display='none'; connectSection.style.display='block';
          walletStatus.innerHTML = `
            <div style="color: var(--danger); text-align:center;">
              <i class="fas fa-exclamation-circle"></i> Insufficient KLY balance (${bal.toFixed(2)}/100 required)
              <div style="margin-top:1rem;">
                <a href="https://pancakeswap.finance/swap?outputCurrency=${KLY_TOKEN_ADDRESS}" target="_blank" rel="noopener noreferrer" class="btn btn-primary btn-sm">
                  <i class="fas fa-exchange-alt"></i> Buy KLY on PancakeSwap
                </a>
              </div>
            </div>`;
        }
      }catch(e){
        console.error(e);
        showNotification('Could not read KLY balance. Check network and token address.', 'error');
      }
    }

    async function disconnectWallet(){
      try{ if(web3Modal?.clearCachedProvider) await web3Modal.clearCachedProvider(); }catch{}
      connectSection.style.display='block'; appContent.style.display='none';
      walletAddress.textContent = 'Not connected'; userAvatar.textContent = 'KL';
      showNotification('Wallet disconnected', 'success');
    }
    window.disconnectWallet = disconnectWallet;

    /* =========================
       Modules: routing + progress
    ========================== */
    function restoreProgress(){
      completedModules = lsGet(LS_KEYS.COMPLETED, []);
      inProgressModules = lsGet(LS_KEYS.INPROG, []);
      document.querySelectorAll('.menu-item').forEach(mi=>{
        const onclick = mi.getAttribute('onclick')||'';
        const id = (onclick.match(/showModule\('([^']+)'\)/)||[])[1];
        const icon = mi.querySelector('.menu-icon i'); if(!id||!icon) return;
        if(completedModules.includes(id)) icon.className='fas fa-check-circle';
        else if(inProgressModules.includes(id)) icon.className='fas fa-spinner';
        else icon.className='far fa-circle';
      });
      updateProgress();
    }

    function ensureCompleteToolbar(moduleEl){
      if(moduleEl.querySelector('.complete-toolbar')) return;
      const bar = document.createElement('div');
      bar.className = 'complete-toolbar';
      bar.innerHTML = `
        <button class="btn btn-primary btn-sm" id="btn-mark-complete">
          <i class="fas fa-check"></i> Mark Complete
        </button>`;
      moduleEl.appendChild(bar);
      bar.querySelector('#btn-mark-complete').addEventListener('click', markCurrentComplete);
    }

    function showModule(moduleId){
      document.querySelectorAll('.module').forEach(el=>el.style.display='none');
      const mod = document.getElementById(moduleId); if(!mod) return;
      mod.style.display='block'; mod.classList.add('animate__animated','animate__fadeIn');
      currentModuleId = moduleId;

      if(location.hash !== `#/${moduleId}`) history.replaceState(null,'',`#/${moduleId}`);

      document.querySelectorAll('.menu-item').forEach(el=>el.classList.remove('active'));
      const active = document.querySelector(`.menu-item[onclick="showModule('${moduleId}')"]`);
      if(active) active.classList.add('active');

      if(!inProgressModules.includes(moduleId) && !completedModules.includes(moduleId)){
        inProgressModules.push(moduleId); lsSet(LS_KEYS.INPROG, inProgressModules);
        if(active?.querySelector('.menu-icon i')) active.querySelector('.menu-icon i').className='fas fa-spinner';
        updateProgress();
      }
      ensureCompleteToolbar(mod);
    }
    window.showModule = showModule;

    function markCurrentComplete(){
      if(!currentModuleId) return;
      if(!completedModules.includes(currentModuleId)){
        completedModules.push(currentModuleId);
        lsSet(LS_KEYS.COMPLETED, completedModules);
      }
      inProgressModules = inProgressModules.filter(id=>id!==currentModuleId);
      lsSet(LS_KEYS.INPROG, inProgressModules);

      const icon = document.querySelector(`.menu-item[onclick="showModule('${currentModuleId}')"] .menu-icon i`);
      if(icon) icon.className='fas fa-check-circle';

      updateProgress();
      showNotification('Module marked complete ✅', 'success');

      if(completedModules.length >= TOTAL_MODULES){
        mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Mint NFT Certificate';
        mintBtn.disabled = false; mintBtn.classList.add('pulse');
        launchConfetti();
      }
    }

    function updateProgress(){
      const dedup = [...new Set(completedModules)].filter(id=>MODULE_IDS.includes(id));
      const completed = dedup.length;
      const pct = (completed / TOTAL_MODULES) * 100;
      progressBar.style.width = `${pct}%`;
      progressText.textContent = `${completed}/${TOTAL_MODULES}`;
      if(completed >= TOTAL_MODULES){
        mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Mint NFT Certificate';
        mintBtn.disabled = false; mintBtn.classList.add('pulse');
      }else{
        mintBtn.innerHTML = '<i class="fas fa-lock"></i> Complete All Modules to Unlock';
        mintBtn.disabled = true; mintBtn.classList.remove('pulse');
      }
    }

    /* =========================
       Mint Certificate
    ========================== */
    async function mintCertificate(){
      if(!signer){ return showNotification('Please connect your wallet first', 'error'); }
      const completed = [...new Set(completedModules)].filter(id=>MODULE_IDS.includes(id)).length;
      if(completed < TOTAL_MODULES){ return showNotification('Complete all modules to mint the certificate', 'warning'); }

      try{
        const to = await signer.getAddress();
        const nft = new ethers.Contract(NFT_CONTRACT_ADDRESS, NFT_CONTRACT_ABI, signer);
        const tokenURI = 'ipfs://bafybeihkmkaf2mgx7xkrnkhmzd2uvhr6ddgj6z3vkqcgnvlaa3z7x263r4';

        mintBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...'; mintBtn.disabled = true;

        let gasEstimate;
        try{ gasEstimate = await nft.estimateGas.mintTo(to, tokenURI); }
        catch(e){
          showNotification('Gas estimation failed — are you authorized to mint?', 'error');
          mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Try Again'; mintBtn.disabled = false; return;
        }

        const tx = await nft.mintTo(to, tokenURI, { gasLimit: gasEstimate.mul(120).div(100) });
        mintStatus.innerHTML = `
          <div style="color: var(--accent); text-align:center;">
            <i class="fas fa-spinner fa-spin"></i> Transaction submitted...
            <div style="margin-top:.5rem;">
              <a href="https://bscscan.com/tx/${tx.hash}" target="_blank" rel="noopener noreferrer" style="color:var(--accent)">
                <i class="fas fa-external-link-alt"></i> View on BscScan
              </a>
            </div>
          </div>`;

        await tx.wait();
        mintStatus.innerHTML = `<div style="color:var(--success); text-align:center;"><i class="fas fa-check-circle"></i> Certificate minted!</div>`;
        showNotification('NFT Certificate minted successfully!', 'success');
        launchConfetti(); mintBtn.style.display='none';
      }catch(error){
        console.error(error);
        showNotification(`Minting failed: ${error?.message || 'Unknown error'}`, 'error');
        mintStatus.innerHTML = `<div style="color:var(--danger); text-align:center;"><i class="fas fa-times-circle"></i> ${error?.message || 'Error'}</div>`;
        mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Try Again'; mintBtn.disabled = false;
      }
    }
    window.mintCertificate = mintCertificate;

    /* =========================
       Confetti
    ========================== */
    function launchConfetti(){
      if(typeof confetti!=='function') return;
      confetti({ particleCount:150, spread:70, origin:{ y:.6 }, colors:['#6C4DF6','#FF7D05','#00E0FF'], scalar:1.2 });
      setTimeout(()=>{
        confetti({ particleCount:100, angle:60, spread:55, origin:{ x:0, y:.7 }, colors:['#6C4DF6','#FF7D05','#00E0FF'] });
        confetti({ particleCount:100, angle:120, spread:55, origin:{ x:1, y:.7 }, colors:['#6C4DF6','#FF7D05','#00E0FF'] });
      },300);
    }

    /* =========================
       Init
    ========================== */
    window.addEventListener('load', async ()=>{
      createParticles();
      await initWeb3Modal();
      if(web3Modal.cachedProvider){ await connectWallet().catch(()=>{}); }
      const initial = (location.hash.match(/^#\/(.+)/)||[])[1] || 'module1';
      showModule(MODULE_IDS.includes(initial) ? initial : 'module1');
      restoreProgress();
    });

    // Keyboard: focus search later if you add one; for now no-op
  </script>
</body>
</html>
