<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Web3 Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
  <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KLY Academy | DeFi Education Portal</title>
  
  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <!-- Animation Libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <style>
    :root {
      --primary: #6C4DF6;
      --secondary: #FF7D05;
      --accent: #00E0FF;
      --dark: #0A0A1E;
      --darker: #050510;
      --light: #F5F5FF;
      --success: #00C853;
      --warning: #FFAB00;
      --danger: #FF3D00;
      --card-bg: rgba(15, 15, 35, 0.8);
      --glass: rgba(255, 255, 255, 0.05);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: var(--darker);
      background-image: 
        radial-gradient(at 80% 0%, rgba(108, 77, 246, 0.15) 0px, transparent 50%),
        radial-gradient(at 0% 50%, rgba(0, 224, 255, 0.15) 0px, transparent 50%);
      color: var(--light);
      font-family: 'Kanit', sans-serif;
      line-height: 1.6;
      min-height: 100vh;
    }
    
    /* Typography */
    h1, h2, h3, h4 {
      font-family: 'Space Grotesk', sans-serif;
      font-weight: 700;
      margin-bottom: 1rem;
    }
    
    h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      line-height: 1.2;
    }
    
    h2 {
      font-size: 1.8rem;
      color: var(--accent);
    }
    
    p {
      margin-bottom: 1rem;
    }
    
    a {
      color: var(--accent);
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    a:hover {
      color: var(--primary);
      text-decoration: underline;
    }
    
    /* Layout */
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    
    header {
      padding: 2rem 0;
      text-align: center;
    }
    
    .logo {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .logo-icon {
      color: var(--primary);
    }
    
    /* Main Content */
    .main-content {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 2rem;
      padding-bottom: 3rem;
    }
    
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }
    
    /* Sidebar */
    .sidebar {
      background: var(--card-bg);
      border-radius: 1rem;
      padding: 1.5rem;
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass);
      height: fit-content;
      position: sticky;
      top: 2rem;
    }
    
    .user-profile {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .wallet-info {
      font-size: 0.9rem;
    }
    
    .wallet-address {
      font-family: monospace;
      word-break: break-all;
    }
    
    .disconnect-btn {
      background: none;
      border: none;
      color: var(--danger);
      font-size: 0.8rem;
      cursor: pointer;
      margin-top: 0.3rem;
    }
    
    .progress-container {
      margin: 1.5rem 0;
    }
    
    .progress-title {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }
    
    .progress-bar {
      height: 8px;
      background: var(--dark);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 4px;
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .course-menu {
      margin-top: 1.5rem;
    }
    
    .course-menu h3 {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      color: var(--accent);
    }
    
    .menu-item {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      padding: 0.8rem 0;
      border-bottom: 1px solid var(--glass);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .menu-item:hover {
      color: var(--accent);
    }
    
    .menu-item.active {
      color: var(--primary);
      font-weight: 500;
    }
    
    .menu-icon {
      width: 24px;
      text-align: center;
    }
    
    /* Course Content */
    .course-content {
      background: var(--card-bg);
      border-radius: 1rem;
      padding: 2rem;
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass);
    }
    
    .module-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--glass);
    }
    
    .module-title {
      font-size: 1.5rem;
    }
    
    .module-nav {
      display: flex;
      gap: 1rem;
    }
    
    .module-body {
      padding: 1rem 0;
    }
    
    .module-section {
      margin-bottom: 2rem;
    }
    
    .module-section h3 {
      color: var(--secondary);
      margin-bottom: 0.8rem;
      font-size: 1.2rem;
    }
    
    .module-section ul {
      padding-left: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .module-section li {
      margin-bottom: 0.5rem;
    }
    
    .callout {
      background: rgba(0, 224, 255, 0.1);
      border-left: 4px solid var(--accent);
      padding: 1rem;
      margin: 1.5rem 0;
      border-radius: 0 0.5rem 0.5rem 0;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }
    
    .btn-primary {
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(108, 77, 246, 0.4);
    }
    
    .btn-outline {
      background: transparent;
      border: 1px solid var(--glass);
      color: var(--light);
    }
    
    .btn-outline:hover {
      border-color: var(--accent);
      color: var(--accent);
    }
    
    .btn-sm {
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
    }
    
    /* Wallet Connect Section */
    .connect-section {
      text-align: center;
      max-width: 600px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--card-bg);
      border-radius: 1rem;
      border: 1px solid var(--glass);
      backdrop-filter: blur(10px);
    }
    
    .connect-section h2 {
      margin-bottom: 1rem;
    }
    
    .connect-section p {
      margin-bottom: 2rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* Notification */
    .notification {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      padding: 1rem 1.5rem;
      background: var(--dark);
      color: white;
      border-radius: 0.5rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 0.8rem;
      z-index: 1000;
      animation: slideIn 0.3s ease-out;
      border-left: 4px solid var(--primary);
    }
    
    .notification.success {
      border-left-color: var(--success);
    }
    
    .notification.error {
      border-left-color: var(--danger);
    }
    
    .notification.warning {
      border-left-color: var(--warning);
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    /* Badges */
    .badge {
      display: inline-block;
      padding: 0.3rem 0.6rem;
      border-radius: 1rem;
      font-size: 0.8rem;
      font-weight: 500;
      background: var(--primary);
      color: white;
      margin-left: 0.5rem;
    }
    
    /* Certificate Section */
    .certificate-section {
      text-align: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid var(--glass);
    }
    
    /* Mobile Styles */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      
      .container {
        padding: 0 1rem;
      }
      
      .module-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }
      
      .module-nav {
        width: 100%;
        justify-content: space-between;
      }
      
      .btn {
        width: 100%;
      }
    }
    
    /* Animations */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-graduation-cap logo-icon"></i>
        <span>KLY Academy</span>
      </div>
      <p>Master DeFi with our comprehensive educational platform</p>
    </header>
    
    <div id="connect-section" class="connect-section">
      <h2>Connect Your Wallet</h2>
      <p>To access the KLY Academy courses, please connect your wallet holding 100+ KLY tokens</p>
      <button id="connect-btn" class="btn btn-primary" onclick="connectWallet()">
        <i class="fas fa-wallet"></i> Connect Wallet
      </button>
      <div id="wallet-status" style="margin-top: 1rem;"></div>
    </div>
    
    <div id="app-content" style="display: none;">
      <div class="main-content">
        <aside class="sidebar">
          <div class="user-profile">
            <div class="avatar" id="user-avatar">KL</div>
            <div class="wallet-info">
              <div class="wallet-address" id="wallet-address">0x1a2...3b4c</div>
              <button class="disconnect-btn" onclick="disconnectWallet()">
                <i class="fas fa-sign-out-alt"></i> Disconnect
              </button>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-title">
              <span>Course Progress</span>
              <span id="progress-text">0/5</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="progress-bar"></div>
            </div>
          </div>
          
          <div class="course-menu">
            <h3>DeFi Beginner Course</h3>
            <div class="menu-item active" onclick="showModule('module1')">
              <div class="menu-icon"><i class="fas fa-circle"></i></div>
              <div>1. DeFi Basics</div>
            </div>
            <div class="menu-item" onclick="showModule('module2')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div>2. Wallet Setup</div>
            </div>
            <div class="menu-item" onclick="showModule('module3')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div>3. Using DEXs</div>
            </div>
            <div class="menu-item" onclick="showModule('module4')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div>4. Earning with DeFi</div>
            </div>
            <div class="menu-item" onclick="showModule('module5')">
              <div class="menu-icon"><i class="far fa-circle"></i></div>
              <div>5. Safety & Strategy</div>
            </div>
          </div>
          
          <div style="margin-top: 2rem;">
            <h3>Other Resources</h3>
            <div class="menu-item" onclick="window.location.href='Spiritual%20wealth%20codes.html'">
              <div class="menu-icon"><i class="fas fa-star"></i></div>
              <div>Spiritual Wealth Codes</div>
            </div>
          </div>
        </aside>
        
        <main class="course-content">
      <!-- MODULE 1 -->
    <div id="module1" class="module-card animate__animated">
      <div class="module-title">Module 1: What is DeFi?</div>
      <div class="module-content">
        <h3>Overview</h3>
        <p>Decentralized Finance (DeFi) is a groundbreaking evolution of traditional finance. Instead of relying on banks or intermediaries, DeFi uses blockchain technology to give you direct, secure, and transparent control over your finances.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Understand the fundamentals of DeFi</li>
          <li>Explore the benefits of decentralization</li>
          <li>Recognize the risks and responsibilities involved</li>
        </ul>

        <h3>Core Concepts</h3>
        <ul>
          <li><strong>Blockchain:</strong> A secure, transparent ledger that records every transaction.</li>
          <li><strong>Smart Contracts:</strong> Self-executing digital contracts coded directly into the blockchain.</li>
          <li><strong>Non-Custodial:</strong> Full ownership of your funds — no banks, no middlemen.</li>
        </ul>

        <h3>Why It Matters</h3>
        <p>Traditional finance is often slow, costly, and exclusive. DeFi removes gatekeepers, lowers fees, and democratizes access to financial tools — all you need is a crypto wallet.</p>

        <h3>Real-World Example</h3>
        <p>Imagine lending crypto to someone in another country and earning interest — instantly, without banks or paperwork. That's DeFi in action.</p>

        <h3>KLY Integration</h3>
        <p>KLY is a utility token designed to power DeFi education and access. Holding KLY unlocks premium content, platform features, and DAO governance rights.</p>

        <blockquote style="border-left: 3px solid var(--neon-pink); padding-left: 15px; font-style: italic;">
          "DeFi is finance by the people, for the people."
        </blockquote>

        <div class="module-navigation">
          <a class="module-next" onclick="showModule('module2')">
            <i class="fas fa-arrow-right"></i> Next: Setting Up Your Wallet
          </a>
        </div>
      </div>
    </div>

    <!-- MODULE 2 -->
    <div id="module2" class="module-card animate__animated">
      <div class="module-title">Module 2: Setting Up Your Wallet</div>
      <div class="module-content">
        <h3>Overview</h3>
        <p>Your DeFi wallet is your digital passport. It stores your assets, connects you to dApps, and empowers you to interact directly with Web3 platforms. In this module, you'll learn how to create, secure, and fund your wallet.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Understand what DeFi wallets do</li>
          <li>Create and back up your wallet securely</li>
          <li>Fund and connect your wallet to the DeFi ecosystem</li>
        </ul>

        <h3>Step-by-Step: Create Your Wallet</h3>

        <h4>Step 1: Choose a Wallet</h4>
        <ul>
          <li><strong>MetaMask:</strong> Leading browser/mobile wallet for Ethereum and BNB Chain.</li>
          <li><strong>Trust Wallet:</strong> Mobile-first wallet supporting multiple blockchains.</li>
          <li><strong>Coinbase Wallet:</strong> Ideal for beginners — not the same as Coinbase Exchange.</li>
        </ul>

        <h4>Step 2: Install the Wallet</h4>
        <p>Use official sources only:</p>
        <ul>
          <li><a href="https://metamask.io" target="_blank" style="color: var(--neon-blue);">MetaMask.io</a></li>
          <li>Or download from the App Store / Google Play</li>
        </ul>

        <h4>Step 3: Backup Your Secret Phrase</h4>
        <p>Write down your 12- or 24-word recovery phrase during setup. Never store it online or share it. It's the master key to your funds.</p>

        <h4>Step 4: Fund Your Wallet</h4>
        <ul>
          <li>Transfer BNB (for BNB Chain) or ETH (for Ethereum) from a centralized exchange</li>
          <li>Receive crypto directly from another wallet</li>
        </ul>

        <h4>Step 5: Connect to a dApp</h4>
        <p>Visit any DeFi-enabled site (like <strong>kellylegacyestates.com</strong>) and click <em>"Connect Wallet"</em>. Confirm the connection in your wallet app.</p>

        <h3>Wallet Safety Tips</h3>
        <ul>
          <li>Verify URLs before connecting</li>
          <li>Use a hardware wallet for large balances</li>
          <li>Enable password and biometric protection</li>
          <li>Never share your recovery phrase</li>
        </ul>

        <h3>Real-World Example</h3>
        <p>John installs MetaMask, sends $100 in BNB from Binance, and connects to PancakeSwap. He's trading within minutes — no banks, no delays.</p>

        <h3>KLY Integration</h3>
        <p>To unlock advanced KLY features like certificate minting and governance, you'll need a wallet with KLY tokens connected to the platform.</p>

        <div class="module-navigation">
          <a class="module-next" onclick="showModule('module3')">
            <i class="fas fa-arrow-right"></i> Next: Using Decentralized Exchanges
          </a>
        </div>
      </div>
    </div>
    
    <!-- MODULE 3 -->
    <div id="module3" class="module-card animate__animated">
      <div class="module-title">Module 3: Using Decentralized Exchanges (DEXs)</div>
      <div class="module-content">

        <h3>Overview</h3>
        <p>Decentralized Exchanges (DEXs) allow you to trade crypto directly from your wallet — no registration, no middlemen. These platforms use smart contracts to enable peer-to-peer trading securely and transparently.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Understand how DEXs differ from centralized exchanges</li>
          <li>Learn how to swap tokens using your wallet</li>
          <li>Explore top DEX platforms on Ethereum and BNB Chain</li>
        </ul>

        <h3>How to Trade on a DEX</h3>

        <h4>Step 1: Connect Your Wallet</h4>
        <p>Go to a trusted DEX like <a href="https://pancakeswap.finance" target="_blank" style="color: var(--neon-blue);">PancakeSwap</a> or <a href="https://uniswap.org" target="_blank" style="color: var(--neon-blue);">Uniswap</a>. Click "Connect Wallet" and approve the request from your wallet app.</p>

        <h4>Step 2: Select Tokens</h4>
        <p>Choose the crypto you want to swap (e.g., BNB) and the one you want to receive (e.g., KLY). Enter the amount.</p>

        <h4>Step 3: Review and Confirm</h4>
        <p>Click "Swap" and approve the transaction in your wallet. Pay the small gas fee, and your tokens will appear in your wallet within seconds.</p>

        <h3>Popular DEX Platforms</h3>
        <ul>
          <li><a href="https://pancakeswap.finance" target="_blank" style="color: var(--neon-blue);">PancakeSwap</a> – Best for BNB Chain</li>
          <li><a href="https://uniswap.org" target="_blank" style="color: var(--neon-blue);">Uniswap</a> – Pioneer DEX on Ethereum</li>
          <li><a href="https://app.1inch.io" target="_blank" style="color: var(--neon-blue);">1inch</a> – Aggregates best rates across multiple DEXs</li>
        </ul>

        <h3>What You'll Need</h3>
        <ul>
          <li>A DeFi wallet (e.g., MetaMask or Trust Wallet)</li>
          <li>BNB or ETH to pay gas fees</li>
          <li>The crypto you want to trade</li>
        </ul>

        <h3>Benefits of DEXs</h3>
        <ul>
          <li>Full control of your funds — no third-party custody</li>
          <li>No KYC or personal data required</li>
          <li>Access to new and community-driven tokens like KLY</li>
        </ul>

        <h3>Real-World Example</h3>
        <p>Jane connects Trust Wallet to PancakeSwap, swaps BNB for KLY, and receives her tokens in real time — no signup, no wait.</p>

        <h3>KLY Integration</h3>
        <p>You can buy KLY using BNB on PancakeSwap. Always verify the official token address from the KLY dashboard before swapping.</p>

        <div class="module-navigation">
          <a class="module-next" onclick="showModule('module4')">
            <i class="fas fa-arrow-right"></i> Next: Earning with DeFi
          </a>
        </div>
      </div>
    </div>
    
    <!-- MODULE 4 -->
    <div id="module4" class="module-card animate__animated">
      <div class="module-title">Module 4: Earning with DeFi (Yield & Lending)</div>
      <div class="module-content">

        <h3>Overview</h3>
        <p>DeFi enables passive income through staking, lending, and yield farming — allowing you to earn without actively trading. This module breaks down each method and how to get started safely.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Understand how DeFi generates passive income</li>
          <li>Compare staking, lending, and yield farming</li>
          <li>Identify top platforms to start earning</li>
        </ul>

        <h3>1. Staking</h3>
        <p>Lock your tokens in a smart contract to earn rewards. You help secure the network or support a protocol while earning more of the same token.</p>
        <ul>
          <li><strong>Example:</strong> Stake KLY to earn additional KLY</li>
          <li><strong>Platforms:</strong> Kelly Legacy Platform, PancakeSwap</li>
        </ul>

        <h3>2. Lending</h3>
        <p>Deposit crypto into a lending pool where borrowers pay interest. You earn that interest passively.</p>
        <ul>
          <li><strong>Example:</strong> Lend BUSD on Venus to earn up to 12% APY</li>
          <li><strong>Assets:</strong> BUSD, USDT, BNB, ETH</li>
        </ul>

        <h3>3. Yield Farming</h3>
        <p>Provide liquidity to a DEX (by pairing two tokens), then earn trading fees and bonus tokens. This is higher risk but can generate higher returns.</p>
        <ul>
          <li><strong>Example:</strong> Add KLY/USDT liquidity to PancakeSwap</li>
          <li><strong>Note:</strong> Be aware of impermanent loss</li>
        </ul>

        <h3>Top Platforms</h3>
        <ul>
          <li><a href="https://app.venus.io" target="_blank" style="color: var(--neon-blue);">Venus</a> – Lending on BNB Chain</li>
          <li><a href="https://pancakeswap.finance" target="_blank" style="color: var(--neon-blue);">PancakeSwap</a> – Staking and LP rewards</li>
          <li><a href="https://aave.com" target="_blank" style="color: var(--neon-blue);">Aave</a> – Lending on Ethereum and Polygon</li>
        </ul>

        <h3>Tips for Earning Safely</h3>
        <ul>
          <li>Start small and test the platform</li>
          <li>Only use trusted, audited platforms</li>
          <li>Track your rewards and set goals</li>
        </ul>

        <h3>Real-World Example</h3>
        <p>Marcus stakes 5,000 KLY and earns 250 KLY in rewards after 30 days — no trading required.</p>

        <h3>KLY Integration</h3>
        <p>Use the Liberty Pool on PancakeSwap to farm KLY/USDT LP tokens. Staking also grants governance rights in the KLY DAO.</p>

        <div class="module-navigation">
          <a class="module-next" onclick="showModule('module5')">
            <i class="fas fa-arrow-right"></i> Next: DeFi Safety & Strategy
          </a>
        </div>
      </div>
    </div>
    
    <!-- MODULE 5 -->
    <div id="module5" class="module-card animate__animated">
      <div class="module-title">Module 5: DeFi Safety & Long-Term Strategy</div>
      <div class="module-content">

        <h3>Overview</h3>
        <p>With great freedom comes great responsibility. This module helps you protect your assets, avoid common scams, and build a smart, sustainable crypto strategy.</p>

        <h3>Objectives</h3>
        <ul>
          <li>Learn the major risks in DeFi</li>
          <li>Practice wallet safety and protection</li>
          <li>Build a smart, long-term investment strategy</li>
        </ul>

        <h3>Common Risks</h3>
        <ul>
          <li><strong>Rugpulls:</strong> When developers abandon a project after draining funds</li>
          <li><strong>Phishing:</strong> Fake links and impostor sites tricking users</li>
          <li><strong>Smart Contract Bugs:</strong> Code flaws hackers can exploit</li>
          <li><strong>Impermanent Loss:</strong> Value loss from providing liquidity</li>
        </ul>

        <h3>Security Best Practices</h3>
        <ul>
          <li>Bookmark trusted platforms — avoid random links</li>
          <li>Never share your seed phrase — ever</li>
          <li>Use hardware wallets for high-value holdings</li>
          <li>Use "burner wallets" to test new dApps</li>
        </ul>

        <h3>Long-Term Wealth Strategy</h3>
        <ul>
          <li><strong>Diversify:</strong> Spread risk across assets and protocols</li>
          <li><strong>Reinvest:</strong> Compound your yield over time</li>
          <li><strong>Take Profits:</strong> Secure gains into stablecoins or move to cold storage</li>
          <li><strong>Stay Informed:</strong> Follow news, audits, and governance changes</li>
        </ul>

        <h3>KLY Wealth Blueprint</h3>
        <p>After completing this course, you can stake KLY, mint your NFT Certificate, and even launch your own project via the KLY Launchpad. Education is just the beginning.</p>

        <blockquote style="border-left: 4px solid var(--neon-blue); padding-left: 1rem; margin-top: 2rem; color: #aaa;">
          "In DeFi, the most powerful strategy is education + protection."
        </blockquote>

        <div class="module-navigation">
          <a class="module-next" onclick="showModule('module1')">
            <i class="fas fa-arrow-left"></i> Return to Module 1
          </a>
        </div>
      </div>
    </div>

    </div>
          
          <div class="certificate-section" id="certificate-section">
            <h3>Complete the Course to Earn Your Certificate</h3>
            <p>Finish all 5 modules to mint your NFT certificate of completion</p>
            <button class="btn btn-primary" onclick="mintCertificate()" id="mint-btn" disabled>
              <i class="fas fa-lock"></i> Complete All Modules to Unlock
            </button>
            <div id="mint-status" style="margin-top: 1rem;"></div>
          </div>
        </main>
      </div>
    </div>
  </div>

  <script>
    // Contract addresses and ABIs
    const KLY_TOKEN_ADDRESS = "0x2e4fEB2Fe668c8Ebe84f19e6c8fE8Cf8131B4E52";
    const NFT_CONTRACT_ADDRESS = "0xc1a2E9A475779EfD04247EA473638717E26cd5C5";
    const KLY_TOKEN_ABI = [
      "function balanceOf(address) view returns (uint256)",
      "function decimals() view returns (uint8)"
    ];
    const NFT_CONTRACT_ABI = [
      "function mintTo(address to, string memory uri) public"
    ];

    // Global variables
    let provider, web3Modal, signer, userAddress;
    let completedModules = [];
    
    // DOM elements
    const connectSection = document.getElementById('connect-section');
    const appContent = document.getElementById('app-content');
    const connectBtn = document.getElementById('connect-btn');
    const walletStatus = document.getElementById('wallet-status');
    const walletAddress = document.getElementById('wallet-address');
    const userAvatar = document.getElementById('user-avatar');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const mintBtn = document.getElementById('mint-btn');
    const mintStatus = document.getElementById('mint-status');

    // Initialize Web3Modal
    async function initWeb3Modal() {
      const providerOptions = {
        walletconnect: {
          package: window.WalletConnectProvider.default,
          options: {
            rpc: {
              56: "https://bsc-dataseed.binance.org/" 
            },
            chainId: 56
          }
        }
      };
      
      web3Modal = new window.Web3Modal.default({
        cacheProvider: false,
        providerOptions,
        theme: "dark"
      });
    }

    // Connect wallet
    async function connectWallet() {
      try {
        connectBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connecting...';
        
        const instance = await web3Modal.connect();
        provider = new ethers.providers.Web3Provider(instance);
        signer = provider.getSigner();
        userAddress = await signer.getAddress();
        
        // Update UI
        const shortAddress = `${userAddress.substring(0, 6)}...${userAddress.substring(38)}`;
        walletAddress.textContent = shortAddress;
        userAvatar.textContent = userAddress.substring(2, 4).toUpperCase();
        
        // Check network
        const network = await provider.getNetwork();
        if (network.chainId !== 56) {
          showNotification("Please switch to BNB Chain", "warning");
          walletStatus.innerHTML = '<span style="color: var(--warning)">Switch to BNB Chain to continue</span>';
          return;
        }
        
        // Check KLY balance
        const klyContract = new ethers.Contract(KLY_TOKEN_ADDRESS, KLY_TOKEN_ABI, provider);
        const balance = await klyContract.balanceOf(userAddress);
        const decimals = await klyContract.decimals();
        const klyBalance = parseFloat(ethers.utils.formatUnits(balance, decimals));
        
        if (klyBalance >= 100) {
          // Success - show app content
          connectSection.style.display = 'none';
          appContent.style.display = 'block';
          showNotification("Wallet connected successfully", "success");
          
          // Initialize course progress
          updateProgress();
        } else {
          walletStatus.innerHTML = `
            <span style="color: var(--danger)">Insufficient KLY balance (${klyBalance.toFixed(2)}/100 required)</span>
            <div style="margin-top: 1rem;">
              <a href="https://pancakeswap.finance/swap?outputCurrency=${KLY_TOKEN_ADDRESS}" 
                 target="_blank" 
                 class="btn btn-primary btn-sm">
                <i class="fas fa-exchange-alt"></i> Buy KLY on PancakeSwap
              </a>
            </div>
          `;
        }
      } catch (error) {
        console.error("Connection error:", error);
        showNotification(`Connection failed: ${error.message}`, "error");
        walletStatus.innerHTML = `<span style="color: var(--danger)">Error: ${error.message}</span>`;
      } finally {
        connectBtn.innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
      }
    }
    
    // Disconnect wallet
    async function disconnectWallet() {
      if (web3Modal && web3Modal.clearCachedProvider) {
        await web3Modal.clearCachedProvider();
      }
      connectSection.style.display = 'block';
      appContent.style.display = 'none';
      showNotification("Wallet disconnected", "success");
    }
    
    // Show module
    function showModule(moduleId) {
      // Hide all modules
      document.querySelectorAll('.module').forEach(el => {
        el.style.display = 'none';
      });
      
      // Show selected module
      document.getElementById(moduleId).style.display = 'block';
      
      // Update active menu item
      document.querySelectorAll('.menu-item').forEach(el => {
        el.classList.remove('active');
        el.querySelector('.menu-icon i').className = 'far fa-circle';
      });
      
      const activeItem = document.querySelector(`.menu-item[onclick="showModule('${moduleId}')"]`);
      if (activeItem) {
        activeItem.classList.add('active');
        activeItem.querySelector('.menu-icon i').className = 'fas fa-circle';
      }
      
      // Mark module as completed if not already
      if (!completedModules.includes(moduleId)) {
        completedModules.push(moduleId);
        updateProgress();
      }
    }
    
    // Update progress bar
    function updateProgress() {
      const totalModules = 5;
      const completed = completedModules.length;
      const percentage = (completed / totalModules) * 100;
      
      progressBar.style.width = `${percentage}%`;
      progressText.textContent = `${completed}/${totalModules}`;
      
      // Enable mint button if all modules completed
      if (completed === totalModules) {
        mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Mint NFT Certificate';
        mintBtn.disabled = false;
        mintBtn.classList.add('pulse');
      }
    }
    
    // Mint certificate
    async function mintCertificate() {
      if (!signer) {
        showNotification("Please connect your wallet first", "error");
        return;
      }
      
      try {
        mintBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
        mintBtn.disabled = true;
        
        const nftContract = new ethers.Contract(NFT_CONTRACT_ADDRESS, NFT_CONTRACT_ABI, signer);
        const gasEstimate = await nftContract.estimateGas.mintTo(
          userAddress, 
          "ipfs://bafybeihkmkaf2mgx7xkrnkhmzd2uvhr6ddgj6z3vkqcgnvlaa3z7x263r4"
        );
        
        const tx = await nftContract.mintTo(
          userAddress,
          "ipfs://bafybeihkmkaf2mgx7xkrnkhmzd2uvhr6ddgj6z3vkqcgnvlaa3z7x263r4",
          { gasLimit: gasEstimate.mul(120).div(100) }
        );
        
        mintStatus.innerHTML = `
          <div style="color: var(--accent)">
            <i class="fas fa-spinner fa-spin"></i> Transaction submitted...
            <div style="margin-top: 0.5rem;">
              <a href="https://bscscan.com/tx/${tx.hash}" target="_blank" style="color: var(--accent)">
                View on BscScan
              </a>
            </div>
          </div>
        `;
        
        await tx.wait();
        
        // Success
        mintStatus.innerHTML = `
          <div style="color: var(--success)">
            <i class="fas fa-check-circle"></i> Certificate minted successfully!
          </div>
        `;
        mintBtn.style.display = 'none';
        
        // Celebrate!
        launchConfetti();
        showNotification("NFT Certificate minted successfully!", "success");
      } catch (error) {
        console.error("Minting error:", error);
        showNotification(`Minting failed: ${error.message}`, "error");
        mintStatus.innerHTML = `
          <div style="color: var(--danger)">
            <i class="fas fa-times-circle"></i> Error: ${error.message}
          </div>
        `;
        mintBtn.innerHTML = '<i class="fas fa-certificate"></i> Try Again';
        mintBtn.disabled = false;
      }
    }
    
    // Show notification
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      
      let icon = '';
      switch(type) {
        case 'success': icon = '<i class="fas fa-check-circle"></i>'; break;
        case 'error': icon = '<i class="fas fa-exclamation-circle"></i>'; break;
        case 'warning': icon = '<i class="fas fa-exclamation-triangle"></i>'; break;
        default: icon = '<i class="fas fa-info-circle"></i>';
      }
      
      notification.innerHTML = `${icon} ${message}`;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 300);
      }, 5000);
    }
    
    // Launch confetti
    function launchConfetti() {
      if (typeof confetti === 'function') {
        confetti({
          particleCount: 150,
          spread: 70,
          origin: { y: 0.6 },
          colors: ['#6C4DF6', '#FF7D05', '#00E0FF']
        });
      }
    }
    
    // Initialize app
    window.addEventListener('load', async () => {
      await initWeb3Modal();
      
      // Check if wallet is already connected
      if (web3Modal.cachedProvider) {
        await connectWallet();
      }
      
      // Show first module by default
      showModule('module1');
    });
    
    // Expose functions to global scope
    window.connectWallet = connectWallet;
    window.disconnectWallet = disconnectWallet;
    window.showModule = showModule;
    window.mintCertificate = mintCertificate;
  </script>
</body>
</html>

